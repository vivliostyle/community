# 2021-06-11

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|02:26|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|Unfortunately, the current internal page loader of vivliostyle-cli relies on the viewer of Vivliostyle.js and thereâ€™s no function to delay to start typesetting process as far as I knowâ€¦|
|02:26|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|ğŸ‡¯ğŸ‡µ: æ®‹å¿µãªãŒã‚‰ã€vivliostyle-cliã®ç¾åœ¨ã®å†…éƒ¨ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ€ãƒ¼ã¯Vivliostyle.jsã®ãƒ“ãƒ¥ãƒ¼ã‚¢ã«ä¾å­˜ã—ã¦ãŠã‚Šã€ç§ã®çŸ¥ã‚‹é™ã‚Šã€æ¤å­—ãƒ—ãƒ­ã‚»ã‚¹ã®é–‹å§‹ã‚’é…ã‚‰ã›ã‚‹æ©Ÿèƒ½ã¯ã‚ã‚Šã¾ã›ã‚“â€¦|
|02:33|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|There is one more problem. Vivliostyle.js removes any JavaScript code (`&lt;script&gt;` tags) from the source HTML documents when loading.|
|02:33|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|ğŸ‡¯ğŸ‡µ: ã‚‚ã†1ã¤å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ Vivliostyle.jsã¯ã€ãƒ­ãƒ¼ãƒ‰æ™‚ã«ã‚½ãƒ¼ã‚¹HTMLãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptã‚³ãƒ¼ãƒ‰ï¼ˆ `ï¼†lt; scriptï¼†gt;`ã‚¿ã‚°ï¼‰ã‚’å‰Šé™¤ã—ã¾ã™ã€‚|
|02:37|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|`@spring-raining` Update <https://github.com/vivliostyle/vivliostyle-cli/blob/main/README.md><br><blockquote>&lt;assets/cover.jpg|Vivliostyle CLI&gt;<br><br><https://npmjs.org/package/@vivliostyle/cli|npm>  <br><https://camo.githubusercontent.com/9f9d1ca9b311d15d226fd60e3f38d8b516676c10bb3ac090f83f277e288847f5/68747470733a2f2f666c61742e62616467656e2e6e65742f6e706d2f762f407669766c696f7374796c652f636c692f6e657874|npm: version (tag)>  <br><https://npmjs.org/package/@vivliostyle/cli|npm: total downloads><br><br>Supercharge your command-line publication workflow.<br><br>*Install*<br><br><pre>npm install -g @vivliostyle/cli<br></pre><br><br>*Use*<br><br><pre>Usage: vivliostyle [options] [command]<br><br>Options:<br>  -v, --version   output the version number<br>  -h, --help      display help for command<br><br>Commands:<br>  init            create vivliostyle config<br>  build           build and create PDF file<br>  preview         launch preview server<br>  help [command]  display help for command<br></pre><br><br>*`init`*<br><br><blockquote>create vivliostyle config file.</blockquote><pre>vivliostyle init</pre><br><br>You are new to Vivliostyle? Check out our latest project <https://github.com/vivliostyle/create-book#readme|Create Book>.  <br>With Create Book, you can easily bootstrap your book project and start writing without any extra effort.<br><br>*CLI Options*<br><br><pre>Options:<br>  --title &lt;title&gt;            title<br>  --author &lt;author&gt;          author<br>  -l, --language &lt;language&gt;  language<br>  -s, --size  &lt;size&gt;         paper size<br>  -T, --theme &lt;theme&gt;        theme<br>  -h, --help                 display help for command<br></pre><br><br>*`build`*<br><br><blockquote>build and create PDF file.</blockquote>Put <https://github.com/vivliostyle/vivliostyle-cli/issues/38|vivliostyle.config.js> in the root directory, then:<br><br><pre>vivliostyle build</pre><br><br>&lt;assets/build.gif|build&gt;<br><br>*CLI options*<br><br><pre>Options:<br>  -c, --config &lt;config_file&gt;    path to vivliostyle.config.js [vivliostyle.config.js]<br>  -o, --output &lt;path&gt;           specify output file name or directory [&lt;title&gt;.pdf]<br>                                This option can be specified multiple, then each -o options can be supplied one -f option.<br>                                ex: -o output1 -f webpub -o output2.pdf -f pdf<br>  -f, --format &lt;format&gt;         specify output format corresponding output target<br>                                If an extension is specified on -o option, this field will be inferenced automatically.<br>  -s, --size &lt;size&gt;             output pdf size [Letter]<br>                                preset: A5, A4, A3, B5, B4, JIS-B5, JIS-B4, letter, legal, ledger<br>                                custom(comma separated): 182mm,257mm or 8.5in,11in<br>  -p, --press-ready             make generated PDF compatible with press ready PDF/X-1a [false]<br>  -t, --timeout &lt;seconds&gt;       timeout limit for waiting Vivliostyle process [60s]<br>  -T, --theme &lt;theme&gt;           theme path or package name<br>  --title &lt;title&gt;               title<br>  --author &lt;author&gt;             author<br>  -l, --language &lt;language&gt;     language<br>  --verbose                     verbose log output<br>  --no-sandbox                  launch chrome without sandbox. use this option when ECONNREFUSED error occurred.<br>  --executable-chromium &lt;path&gt;  specify a path of executable Chrome (or Chromium) you installed<br>  -h, --help                    display help for command<br></pre><br><br>*`preview`*<br><br><blockquote>open preview page and save PDF interactively.</blockquote><pre>vivliostyle preview</pre><br><br>*CLI options*<br><br><pre>Options:<br>  -c, --config &lt;config_file&gt;    path to vivliostyle.config.js<br>  -T, --theme &lt;theme&gt;           theme path or package name<br>  -s, --size &lt;size&gt;             output pdf size [Letter]<br>                                preset: A5, A4, A3, B5, B4, JIS-B5, JIS-B4, letter, legal, ledger<br>                                custom(comma separated): 182mm,257mm or 8.5in,11in<br>  --title &lt;title&gt;               title<br>  --author &lt;author&gt;             author<br>  -l, --language &lt;language&gt;     language<br>  --verbose                     verbose log output<br>  --no-sandbox                  launch chrome without sandbox (use this option to avoid ECONNREFUSED error)<br>  --executable-chromium &lt;path&gt;  specify a path of executable Chrome(Chromium) you installed<br>  -h, --help                    display help for command<br></pre><br><br>*Q&amp;A*<br>*Not working in Node v14.0.0*<br><br>`puppeteer` is not working in Node v14.0.0, ie `vivliostyle-cli` is not working same.  <br>See also: <https://developers.google.com/web/tools/puppeteer/troubleshooting|https://developers.google.com/web/tools/puppeteer/troubleshooting><br><br>The error has been resolved by Node `&gt;= v14.1.0` or `&lt;= v12.0.0`.<br><br>*Contribute*<br><br>See &lt;CONTRIBUTING.md|Contribution Guide&gt;.<br><br><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/0|https://camo.githubusercontent.com/4bf5a90a636d6ad23c4af69b5982403fd76ec4cb2a09b5aa48a45bdd7521cf5b/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f30><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/1|https://camo.githubusercontent.com/ff9f7a0bd6d290687c9da31f15eb10452c29043bc8f25f117c31c65275fb3ea4/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f31><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/2|https://camo.githubusercontent.com/f98577dd7729fee859887f1e81ad1c95ac6ecf6f5cdd2b4276408dbbf34d2a0d/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f32><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/3|https://camo.githubusercontent.com/b3fde384af0c9a55785fff4b5251b6b25c87cdf20078004a2862aff7ad05d86c/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f33><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/4|https://camo.githubusercontent.com/4079c400cfed77c6018b0cd359805b28a2a94b541d36a2b62b9c3182300c2d26/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f34><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/5|https://camo.githubusercontent.com/ebbcd08d6b61b3b58361abbf955b951d74fcb6340d6e5f31e28ad3b3ccc95e87/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f35><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/6|https://camo.githubusercontent.com/596d592fab99522d8260533c25eb62c39bb42a0e7739ff53bbe5f4b43989bf81/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f36><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/7|https://camo.githubusercontent.com/5bb85d0205682aba9f045d09bb1699387882d23c2e7f276187800fd3fc1bb298/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f37><br><br>*License*<br><br>Licensed under <http://www.gnu.org/licenses/agpl.html|AGPL Version 3>.</blockquote>|
|02:37|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|ğŸ‡¯ğŸ‡µ:  ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ <https://github.com/vivliostyle/vivliostyle-cli/blob/main/README.md><br><blockquote>&lt;assets/cover.jpg|Vivliostyle CLI&gt;<br><br><https://npmjs.org/package/@vivliostyle/cli|npm>  <br><https://camo.githubusercontent.com/9f9d1ca9b311d15d226fd60e3f38d8b516676c10bb3ac090f83f277e288847f5/68747470733a2f2f666c61742e62616467656e2e6e65742f6e706d2f762f407669766c696f7374796c652f636c692f6e657874|npm: version (tag)>  <br><https://npmjs.org/package/@vivliostyle/cli|npm: total downloads><br><br>Supercharge your command-line publication workflow.<br><br>*Install*<br><br><pre>npm install -g @vivliostyle/cli<br></pre><br><br>*Use*<br><br><pre>Usage: vivliostyle [options] [command]<br><br>Options:<br>  -v, --version   output the version number<br>  -h, --help      display help for command<br><br>Commands:<br>  init            create vivliostyle config<br>  build           build and create PDF file<br>  preview         launch preview server<br>  help [command]  display help for command<br></pre><br><br>*`init`*<br><br><blockquote>create vivliostyle config file.</blockquote><pre>vivliostyle init</pre><br><br>You are new to Vivliostyle? Check out our latest project <https://github.com/vivliostyle/create-book#readme|Create Book>.  <br>With Create Book, you can easily bootstrap your book project and start writing without any extra effort.<br><br>*CLI Options*<br><br><pre>Options:<br>  --title &lt;title&gt;            title<br>  --author &lt;author&gt;          author<br>  -l, --language &lt;language&gt;  language<br>  -s, --size  &lt;size&gt;         paper size<br>  -T, --theme &lt;theme&gt;        theme<br>  -h, --help                 display help for command<br></pre><br><br>*`build`*<br><br><blockquote>build and create PDF file.</blockquote>Put <https://github.com/vivliostyle/vivliostyle-cli/issues/38|vivliostyle.config.js> in the root directory, then:<br><br><pre>vivliostyle build</pre><br><br>&lt;assets/build.gif|build&gt;<br><br>*CLI options*<br><br><pre>Options:<br>  -c, --config &lt;config_file&gt;    path to vivliostyle.config.js [vivliostyle.config.js]<br>  -o, --output &lt;path&gt;           specify output file name or directory [&lt;title&gt;.pdf]<br>                                This option can be specified multiple, then each -o options can be supplied one -f option.<br>                                ex: -o output1 -f webpub -o output2.pdf -f pdf<br>  -f, --format &lt;format&gt;         specify output format corresponding output target<br>                                If an extension is specified on -o option, this field will be inferenced automatically.<br>  -s, --size &lt;size&gt;             output pdf size [Letter]<br>                                preset: A5, A4, A3, B5, B4, JIS-B5, JIS-B4, letter, legal, ledger<br>                                custom(comma separated): 182mm,257mm or 8.5in,11in<br>  -p, --press-ready             make generated PDF compatible with press ready PDF/X-1a [false]<br>  -t, --timeout &lt;seconds&gt;       timeout limit for waiting Vivliostyle process [60s]<br>  -T, --theme &lt;theme&gt;           theme path or package name<br>  --title &lt;title&gt;               title<br>  --author &lt;author&gt;             author<br>  -l, --language &lt;language&gt;     language<br>  --verbose                     verbose log output<br>  --no-sandbox                  launch chrome without sandbox. use this option when ECONNREFUSED error occurred.<br>  --executable-chromium &lt;path&gt;  specify a path of executable Chrome (or Chromium) you installed<br>  -h, --help                    display help for command<br></pre><br><br>*`preview`*<br><br><blockquote>open preview page and save PDF interactively.</blockquote><pre>vivliostyle preview</pre><br><br>*CLI options*<br><br><pre>Options:<br>  -c, --config &lt;config_file&gt;    path to vivliostyle.config.js<br>  -T, --theme &lt;theme&gt;           theme path or package name<br>  -s, --size &lt;size&gt;             output pdf size [Letter]<br>                                preset: A5, A4, A3, B5, B4, JIS-B5, JIS-B4, letter, legal, ledger<br>                                custom(comma separated): 182mm,257mm or 8.5in,11in<br>  --title &lt;title&gt;               title<br>  --author &lt;author&gt;             author<br>  -l, --language &lt;language&gt;     language<br>  --verbose                     verbose log output<br>  --no-sandbox                  launch chrome without sandbox (use this option to avoid ECONNREFUSED error)<br>  --executable-chromium &lt;path&gt;  specify a path of executable Chrome(Chromium) you installed<br>  -h, --help                    display help for command<br></pre><br><br>*Q&amp;A*<br>*Not working in Node v14.0.0*<br><br>`puppeteer` is not working in Node v14.0.0, ie `vivliostyle-cli` is not working same.  <br>See also: <https://developers.google.com/web/tools/puppeteer/troubleshooting|https://developers.google.com/web/tools/puppeteer/troubleshooting><br><br>The error has been resolved by Node `&gt;= v14.1.0` or `&lt;= v12.0.0`.<br><br>*Contribute*<br><br>See &lt;CONTRIBUTING.md|Contribution Guide&gt;.<br><br><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/0|https://camo.githubusercontent.com/4bf5a90a636d6ad23c4af69b5982403fd76ec4cb2a09b5aa48a45bdd7521cf5b/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f30><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/1|https://camo.githubusercontent.com/ff9f7a0bd6d290687c9da31f15eb10452c29043bc8f25f117c31c65275fb3ea4/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f31><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/2|https://camo.githubusercontent.com/f98577dd7729fee859887f1e81ad1c95ac6ecf6f5cdd2b4276408dbbf34d2a0d/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f32><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/3|https://camo.githubusercontent.com/b3fde384af0c9a55785fff4b5251b6b25c87cdf20078004a2862aff7ad05d86c/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f33><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/4|https://camo.githubusercontent.com/4079c400cfed77c6018b0cd359805b28a2a94b541d36a2b62b9c3182300c2d26/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f34><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/5|https://camo.githubusercontent.com/ebbcd08d6b61b3b58361abbf955b951d74fcb6340d6e5f31e28ad3b3ccc95e87/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f35><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/6|https://camo.githubusercontent.com/596d592fab99522d8260533c25eb62c39bb42a0e7739ff53bbe5f4b43989bf81/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f36><https://sourcerer.io/fame/uetchy/vivliostyle/vivliostyle-cli/links/7|https://camo.githubusercontent.com/5bb85d0205682aba9f045d09bb1699387882d23c2e7f276187800fd3fc1bb298/68747470733a2f2f736f757263657265722e696f2f66616d652f7565746368792f7669766c696f7374796c652f7669766c696f7374796c652d636c692f696d616765732f37><br><br>*License*<br><br>Licensed under <http://www.gnu.org/licenses/agpl.html|AGPL Version 3>.</blockquote>|
|11:17|![](https://secure.gravatar.com/avatar/4bfb46cf7e0d60e07f9d685589e68267.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|Johannes Wilm|Aha! Thank you very much. So I'm guessing it would make more sense to run vivliostyle-print in a headless chrome|
|11:17|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|ğŸ‡¯ğŸ‡µ: ã‚ã¯ã¯ï¼ã©ã†ã‚‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚ã ã‹ã‚‰ç§ã¯ã€ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ ã§vivliostyle-printã‚’å®Ÿè¡Œã™ã‚‹æ–¹ãŒç†ã«ã‹ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™|
|11:19|![](https://secure.gravatar.com/avatar/4bfb46cf7e0d60e07f9d685589e68267.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|Johannes Wilm|`@shinyu` Ok, but if the execution of vivliostyle.js could be delayed, it would not matter if the &lt;script&gt;-tags would be removed after the dom-manipulating JS had run already.|
|11:19|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|ğŸ‡¯ğŸ‡µ:  ã‚ã‹ã‚Šã¾ã—ãŸã€‚ãŸã ã—ã€vivliostyle.jsã®å®Ÿè¡ŒãŒé…ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã¯ã€domã‚’æ“ä½œã™ã‚‹JSãŒæ—¢ã«å®Ÿè¡Œã•ã‚ŒãŸå¾Œã§ã€ï¼†lt; scriptï¼†gt;-ã‚¿ã‚°ãŒå‰Šé™¤ã•ã‚Œã‚‹ã‹ã©ã†ã‹ã¯å•é¡Œã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚|
