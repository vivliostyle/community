# 2019-08-16

|Time|Icon|Name|Message|
|---|---|---|---|
|05:45|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle version 2019.8.100 released! Now written in TypeScript<br><https://vivliostyle.org/blog/2019/08/16/vivliostyle-2019.8.100-released/><br><blockquote>We have released Vivliostyle version 2019.8.100. (See the latest Vivliostyle Viewer, and User’s Guide) Vivliostyle.js source code is now written in TypeScript Vivliostyle.js started out as a fork of the EPUB Adaptive Layout implementation developed around 2013 by Peter Sorotokin at Google, and the code was written in JavaScript (ES5) with type annotation for the Closure Compiler, and Vivliostyle.js, the main developer was Toru Kawakubo, now at Trim-marks Inc., had been developed in the same way. Since the ES5 JavaScript style is old and hard to maintain, we decided to migrate to TypeScript. This migration to TypeScript has now been finished. [#536] We hope the new TypeScript code will encourage people to contribute to the open source Vivliostyle development. For development, see the Development document. Other Changes and Fixes Build scripts reworked for TypeScript source code Transpile to multiple targets, lib/vivliostyle.min.js for ES2018 and lib/vivliostyle-es5.min.js for ES5. [#538] Resources such as UA stylesheets are no longer downloaded separately [#537] Remove large sample files from the download package and the npm package [5c3becac] [245c9e7d] The download package (vivliostyle-js-latest.zip) size was 6.8MB and now reduced to 1.4MB. Vivliostyle sample files are moved from vivliostyle.js to vivliostyle_doc repository. Fix error “Failed to fetch a source document” with web publications on Microsoft Edge [1ed01afc] Fix error “empty response for EPUB OPF” on some web servers that don’t know the MIME type for .opf [db8e9bcb] Previous Releases Summary Vivliostyle version 2019.1.106: The last JavaScript source code version. Vivliostyle version 2019.1.101: TOC panel in Viewer UI, Web publications (multi-HTML documents), Loading documents from GitHub, env(pub-title) and env(doc-title), Viewport-percentage units, calc(), Viewer UI setting panel improved, Viewer start page, Render All Pages setting, vivliostyle media type. Vivliostyle version 2018.10.100: Page number/total pages in Viewer UI Vivliostyle version 2018.8.100: Viewer UI improvement, CSS Logical properties For more details, see Release Notes.</blockquote>|
|05:45|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle version 2019.8.100 リリース！ ソースコードTypeScript化<br><https://vivliostyle.org/ja/blog/2019/08/16/vivliostyle-2019.8.100-released/><br><blockquote>Vivliostyle version 2019.8.100 をリリースしました。 （最新の Vivliostyle Viewer および ユーザーガイド をご覧ください。） Vivliostyle.js ソースコードを TypeScript に移行 Vivliostyle.js の元となるプロジェクトは2013年頃にGoogleのPeter Sorotokin氏が開発した EPUB Adaptive Layout 実装で、そのソースコードは、JavaScript (ES5)と Closure Compiler のための型注釈を用いて書かれていました。現Trim-marks Inc.のToru Kawakubo氏をメイン開発者として開発開始されたVivliostyle.jsは、その同じソースコードスタイルを踏襲してきました。 このES5のJavaScriptスタイルは古くなり今後の維持が難しいため、私たちはこれをTypeScriptに移行することを決め、そしていま TypeScriptへの移行が完了しました。[#536] ソースコードがTypeScript化されたことで、オープンソースVivliostyle開発への貢献が活発になることを期待しています。 開発については、Development documentをご覧ください。 その他の変更と修正 TypeScriptソースコード用に再編されたビルドスクリプト 複数ターゲットへのトランスパイル： lib/vivliostyle.min.js for ES2018、 lib/vivliostyle-es5.min.js for ES5. [#538] UAスタイルシートなどのリソースを別個にダウンロードしないようにした [#537] これまでダウンロードパッケージとnpmパッケージに同梱されていた大きなサンプルファイルを削除 [5c3becac] [245c9e7d] これによりダウンロードパッケージ (vivliostyle-js-latest.zip) のサイズが以前は6.8MBあったのが1.4MBに縮小されました。 Vivliostyleのサンプルファイルは、vivliostyle.jsから vivliostyle_doc リポジトリに移動しました。 Microsoft EdgeでWeb publicationをロードしたときのエラー “Failed to fetch a source document” を修正 [1ed01afc] EPUB OPF (.opf) のMIMEタイプを認識しない一部のWebサーバーでのエラー “empty response for EPUB OPF” を修正 [db8e9bcb] 過去のリリースの概要 Vivliostyle バージョン 2019.1.106: 最後のJavaScriptソースコードのバージョン Vivliostyle バージョン 2019.1.101: Viewer UIに目次パネル, Web publications (複数HTML文書), GitHubからの文書ロード, env(pub-title) と env(doc-title), ビューポート・パーセント単位, calc(), Viewer UI 設定パネル改良, Viewerスタートページ, Render All Pages 設定, vivliostyle メディア型 Vivliostyle バージョン 2018.10.100: Viewer UIにページ番号／総ページ数 Vivliostyle バージョン 2018.8.100: Viewer UI 改良, CSS論理プロパティ 詳細については、Release Notes を参照してください。</blockquote>|
|05:48|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Thanks all, finally released the TypeScript version of Vivliostyle!|
|09:41|![](https://secure.gravatar.com/avatar/4bfb46cf7e0d60e07f9d685589e68267.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|Johannes Wilm|vivliostyle-print 1.2.0, based on vivliostyle.js 2019.8.100, has also been released.|
