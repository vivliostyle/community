# 2022-12-29

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:47|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|ボーダー幅を1px未満にできなかった問題、近日中リリース予定のVivliostyle.js v2.21で解決します！<br><br>&lt;<https://github.com/vivliostyle/vivliostyle.js/pull/1079%7Cfeat>: Enables very thin (&lt; 0.1px) border width on PDF output&gt;<br>https://vivliostyle.slack.com/files/UAE8V83GA/F04H9L1RV17/screenshot_2022-12-29_at_11.43.34.png|
|04:47|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇺🇸: The problem that the border width could not be less than 1px will be resolved in Vivliostyle.js v2.21 which will be released soon!<br><br>&lt;<https://github.com/vivliostyle/vivliostyle.js/pull/1079%7Cfeat>: Enables very thin (&lt; 0.1px) border width on PDF output&gt;|
|06:12|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|これ単純に興味本位ですが、どうやって解決しましたか…？|
|06:12|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇺🇸: Just out of curiosity, how did you solve this?|
|06:14|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|こっちにありましたね、ありがとうございます！ <https://twitter.com/murakamishinyu/status/1608307679721848833?s=46&amp;t=2gOQ35fm21FqdJoPt7_ipA|https://twitter.com/murakamishinyu/status/1608307679721848833?s=46&amp;t=2gOQ35fm21FqdJoPt7_ipA><br><blockquote>Chrome (Chromium)のPDF出力での最小のボーダー幅1pxという制限を解消するために、CSSのzoomプロパティ（非標準だがChromeで使える）でのレイアウト全体の拡大とtransform:scale()での元のサイズへの縮小を使います。これでレイアウトの精度がだいぶ上がります（従来の16倍、1536dpi相当に）。</blockquote>|
|06:14|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇺🇸: You were here, thank you! <https://twitter.com/murakamishinyu/status/1608307679721848833?s=46&amp;t=2gOQ35fm21FqdJoPt7_ipA|https://twitter.com/murakamishinyu/status/1608307679721848833?s=46&amp;t=2gOQ35fm21FqdJoPt7_ipA>|
|06:26|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|この説明で省略してますが、もう一点この解決に必要だったのはChromeでの印刷出力用のスタイル次のようにしたことです：<br>```      const styleText = `@page {margin:0 -32768px -32768px 0;size:${widthPt}pt ${heightPt}pt;}`;```<br>負の大きなページマージンを与えることで、zoomで拡大したページ内容が勝手に分割されないで印刷されます。transform:scale()はレイアウト処理上のサイズは変えないので、見た目は元のサイズに小さくなってもChromeでの印刷対象になるページ内容の大きさはzoomで拡大されたものになり、そのままではChromeが勝手に細かく分割して印刷してしまいます。<br>負の大きなページマージンを指定するとこれを防ぐことができると気がついて、できました！|
|06:26|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇺🇸: One other thing that was omitted from this explanation that was necessary for this solution was to style the print output in Chrome as follows:<br>``` const styleText = `@page {margin:0 -32768px -32768px 0;size:${widthPt}pt ${heightPt}pt;}`;```<br>By giving a large negative page margin, the zoomed-in page content will be printed without being split arbitrarily. transform:scale() does not change the size of the layout process, so even if the appearance is reduced to the size of a book, the size of the page content to be printed in Chrome will be enlarged by zoom. Chrome arbitrarily divides into small pieces and prints.<br>I realized that specifying large negative page margins prevented this, and voila!|
|06:41|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|negative marginは便利なテクニックですよね、良さそうです :+1: |
|06:41|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇺🇸: Negative margin is a useful technique, looks good :+1:|
