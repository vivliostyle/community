# 2019-12-19

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|<span id="1576743566.002500">08:19</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|今回、今まで存在しなかったnpmパッケージ @vivliostyle/viewer が追加されました。<br>これをどうすると有用になるかを考えています。たとえば：<br>npmで@vivliostyle/viewerをグローバルインストールしたとき、 `vivliostyle-viewer` というコマンドがインストールされて、それを起動するとローカルのWebサーバーが起動してブラウザでVivliostyle Viewerが開く。どうでしょう？|
|<span id="1576743568.002600">08:19</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: This time, the npm package @ vivliostyle / viewer which did not exist until now was added.<br>I'm thinking about how to make this useful. For example:<br>When you install @ vivliostyle / viewer globally with npm, the command `vivliostyle-viewer` is installed, and when you start it, the local web server starts and Vivliostyle Viewer opens in the browser. How about it?|
|<span id="1576743708.003800">08:21</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|@vivliostyle/viewerはリソース用（npmに公開するとunpkg等のCDNが使えるようになる）に配信していたのでコマンド等は考えていませんでした。しかしサーバーのような何らかのツーリングが用意されていると確かに便利ですね。|
|<span id="1576743711.004000">08:21</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Since @ vivliostyle / viewer was distributed for resource distribution (when it is released to npm, CDN such as unpkg can be used), so I did not think about commands. However, it is certainly useful to have some kind of tooling like a server.|
|<span id="1576743717.004200">08:21</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|cliと機能被りすることはないですか？|
|<span id="1576743718.004300">08:21</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Do you not wear cli and functions?|
|<span id="1576743894.006100">08:24</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|cliのpreviewと似ています。しかしpreviewにはViewerのフルの機能がありません。|
|<span id="1576743895.006200">08:24</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Similar to cli preview. However, preview does not have the full functionality of Viewer.|
|<span id="1576744333.007400">08:32</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|それから @vivliostyle/viewer の利用方法として考えられるのは、自分のウェブサイトにVivliostyle Viewerを組み込むことですが、どうやったらそれができるのかが難しいです。|
|<span id="1576744334.007500">08:32</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Another possible use of @ vivliostyle / viewer is to embed Vivliostyle Viewer on your website, but how to do it is difficult.|
|<span id="1576744966.008100">08:42</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|iframeのような形で埋め込めると便利…？|
|<span id="1576744968.008200">08:42</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Convenient if it can be embedded like an iframe ...?|
|<span id="1576747137.008600">09:18</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|npmの `@vivliostyle/viewer` パッケージでインストールされる `node_modules/@vivliostyle/viewer/lib/` に index.html と resources があるとよいです。そうすれば、次のようにシンボリックリンクを作るとウェブサイトに vivliostyle-viewer ができます：<br><br>```$ ln -s node_modules/@vivliostyle/viewer/lib my-www-root-dir/vivliostyle-viewer```|
|<span id="1576747138.008700">09:18</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: You should have index.html and resources in `node_modules / @ vivliostyle / viewer / lib /` installed by npm `@ vivliostyle / viewer` package. Then, if you create a symbolic link like this, you will have a vivliostyle-viewer on your website:<br><br>`` `$ ln -s node_modules / @ vivliostyle / viewer / lib my-www-root-dir / vivliostyle-viewer```|
|<span id="1576749751.009600">10:02</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle/blob/master/packages/viewer/package.json#L20-L24><br><br>viewerのビルド結果のvivliostyle-viewer.jsにはcoreのjsもknockout.jsも結合されているしviewer/fontsにfont-awesomeのコピーがあるので、これらのdependenciesはdevDependenciesに変更できると思います。どうでしょう？<br><blockquote><pre>  "dependencies": {<br>    "@vivliostyle/core": "^2.0.0-pre.4",<br>    "font-awesome": "^4.7.0",<br>    "knockout": "^3.5.0"<br>  },</pre></blockquote>|
|<span id="1576749753.009800">10:02</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: <https://github.com/vivliostyle/vivliostyle/blob/master/packages/viewer/package.json#L20-L24><br><br>The viewer build result vivliostyle-viewer.js has both core js and knockout.js combined, and there is a copy of font-awesome in viewer / fonts, so these dependencies can be changed to devDependencies. How about it?|
|<span id="1576761352.010000">13:15</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|余計なdepsをインストールしないという意味では移動した方が良いですね|
|<span id="1576761354.010200">13:15</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: It's better to move in the sense that you don't install extra deps|
|<span id="1576762437.010400">13:33</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|@vivliostyle/coreでもresourcesは配信されているので二重になってしまいますね。index.htmlは次のリリースで含まれるようになるはず。<br><br>一方で、index.html以外はunpkgで読み込むようにしたペラ一枚を特別に作って、サイト埋め込み用に配信しても良いかもしれません。|
|<span id="1576762439.010600">13:33</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Even in @ vivliostyle / core, resources are distributed, so it becomes double. index.html will be included in the next release.<br><br>On the other hand, except for index.html, you may make a special pella that is read by unpkg and distribute it for site embedding.|
|<span id="1576773848.010900">16:44</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|@vivliostyle/coreのresourcesと二重になりますが、dependencies を devDependencies に変更すれば、@vivliostyle/viewer のインストールで @vivliostyle/core はインストールされないので問題ないと思います。<br><br>サイト埋め込み用の配信は有用だと思いますが、viewer/index.html と js や resources のバージョンを一致させる必要があります。<br><br>自分のサイトのコンテンツを表示させるために vivliostyle-viewer を設置する場合、常に最新のvivliostyleにしたいとは限らず、設置時点でのvivliostyleバージョンに固定したいことも多いでしょう（vivliostyleのバージョンアップで組版結果が変わるかもしれないため）。そのため、自分のサイトへの vivliostyle-viewer の設置と更新が npm の `@vivliostyle/viewer` で簡単になると便利だと思います。|
|<span id="1576773850.011100">16:44</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: It will be doubled with resources of @ vivliostyle / core, but if you change dependencies to devDependencies, @ vivliostyle / core will not be installed by installing @ vivliostyle / viewer, so I think there is no problem.<br><br>I think it's useful to embed the site, but you need to match the viewer / index.html with the js and resources versions.<br><br>When installing vivliostyle-viewer to display the contents of your own site, you do not always want to use the latest vivliostyle, but you may want to fix it to the vivliostyle version at the time of installation. Because the results may change). Therefore, I think it would be convenient to install and update vivliostyle-viewer on your site with npm's `@ vivliostyle / viewer`.|
