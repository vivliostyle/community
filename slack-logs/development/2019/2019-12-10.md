# 2019-12-10

|Time|Icon|Name|Message|
|---|---|---|---|
|02:46|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|`@shinyu` äº†è§£ã—ã¾ã—ãŸã€‚ `2019.11.100-pre` ã¨ãã®ãƒã‚§ãƒ³ã‚¸ãƒ­ã‚°ã®ã‚³ãƒŸãƒƒãƒˆã¾ã§ã‚’ãƒªãƒªãƒ¼ã‚¹å¢ƒç•Œã«ã—ã¾ã™ã€‚<br>ãã‚Œã§ã¯ç•°è«–ãŒç„¡ã‘ã‚Œã° **12/14** ã«ç§»è¡Œã‚’å®Ÿæ–½ã—ã¾ã™ã€‚<br>`@Johannes Wilm` ã‚‚ã— `vivliostyle-print` ã§ç¾åœ¨ä½œæ¥­ä¸­ã®ã‚¿ã‚¹ã‚¯ãŒã‚ã‚‹å ´åˆã¯æ•™ãˆã¦ä¸‹ã•ã„ã€‚<br><br>vivliostyle.js, vivliostyle-ui, vivliostyle-print ãã‚Œãã‚Œã«æœªãƒãƒ¼ã‚¸ã®ãƒ–ãƒ©ãƒ³ãƒä¸¦ã³ã« PR ãŒç„¡ã„ã“ã¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ãŸã€‚<br>ç§»è¡Œæ‰‹é †ã‚’æ–‡æ›¸åŒ–ã—ã¾ã—ãŸã®ã§ã€è¦‹è½ã¨ã—ã¦ã„ã‚‹è¦–ç‚¹ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚<br><br>1. 3 ã¤ã®ãƒªãƒã‚¸ãƒˆãƒªã® `master` ã‚’ `vivliostyle` ã«ãƒãƒ¼ã‚¸ã™ã‚‹<br>   2. `vivliostyle.js` ã® `master` ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ `monorepo` ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã€ `/` ä»¥ä¸‹ã‚’ `/packages/core` ã«ç§»å‹•ã™ã‚‹ã‚³ãƒŸãƒƒãƒˆã‚’è¡Œã†<br>   3. `vivliostyle` ã® `master` ã« `vivliostyle.js` ã® `monorepo` ã‚’ãƒãƒ¼ã‚¸ã™ã‚‹ã€‚<br>   4. `vivliostyle-ui` ã® `master` ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ `monorepo` ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã€ `/` ä»¥ä¸‹ã‚’ `/packages/viewer` ã«ç§»å‹•ã™ã‚‹ã‚³ãƒŸãƒƒãƒˆã‚’è¡Œã†<br>   5. `vivliostyle` ã® `master` ã« `vivliostyle-ui` ã® `monorepo` ã‚’ãƒãƒ¼ã‚¸ã™ã‚‹ã€‚<br>   6. `vivliostyle-print` ã® `master` ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ `monorepo` ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã€ `/` ä»¥ä¸‹ã‚’ `/packages/print` ã«ç§»å‹•ã™ã‚‹ã‚³ãƒŸãƒƒãƒˆã‚’è¡Œã†<br>   7. `vivliostyle` ã® `master` ã« `vivliostyle-print` ã® `monorepo` ã‚’ãƒãƒ¼ã‚¸ã™ã‚‹ã€‚<br>   8. å¤ã„åç§°ã‚’æ–°ã—ã„åç§°ã«æ›¸ãæ›ãˆã‚‹<br>   9. lerna ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹<br>2. `gh-pages` ã®ç§»è¡Œ<br>   1. `vivliostyle.js` ã® `gh-pages` ãƒ–ãƒ©ãƒ³ãƒã‚’ `vivliostyle` ã® `gh-pages` ã«ãƒãƒ¼ã‚¸ã™ã‚‹<br>   2. `/vivliostyle` ã‚’ãƒ«ãƒ¼ãƒˆã«ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã™ã‚‹<br>   3. `vivliostyle-print` ã® `gh-pages` ãƒ–ãƒ©ãƒ³ãƒã‚’ `vivliostyle` ã® `gh-pages` ã«ãƒãƒ¼ã‚¸ã™ã‚‹<br>   4. `/print` ã‚’ãƒ«ãƒ¼ãƒˆã«ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã™ã‚‹<br>5. CI ã®ç§»è¡Œ<br>   1. `vivliostyle/packages/core` ã® `build/update-version.sh` ã‚’ä¿®æ­£<br>   2. `vivliostyle/packages/viewer` ã® `scripts/update-version.sh` ã‚’ä¿®æ­£<br>6. `vivliostyle-savepdf` ã®ç§»è¡Œ<br>   1. `vivliostyle-savepdf` ã‚’ `vivliostyle-cli` ã«ãƒªãƒãƒ¼ãƒ <br>   2. å¤ã„åç§°ã‚’æ–°ã—ã„åç§°ã«æ›¸ãæ›ãˆã‚‹<br>9. æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ npm ã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹<br>   1. `vivliostyle/packages/core` ã® `master` ã‚’ `@vivliostyle/core` ã® `v2.0.0-rc.0` ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹<br>   2. `vivliostyle/packages/viewer` ã® `master` ã‚’ `@vivliostyle/viewer` ã® `v2.0.0-rc.0` ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹<br>   3. `vivliostyle/packages/print` ã® `master` ã‚’ `@vivliostyle/print` ã® `v2.0.0-rc.0` ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹<br>   4. `vivliostyle-cli` ã® `master` ã‚’ `@vivliostyle/cli` ã® `v2.0.0-rc.0` ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹<br>   5. ãƒ†ã‚¹ãƒˆï¼ˆä¿®æ­£ã¯ `v2.0.0-rc.1` ã€ `v2.0.0-rc.2` ã®ã‚ˆã†ã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ï¼‰<br>   6. å•é¡ŒãŒè§£æ±ºã—ãŸã‚‰ã€ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ `v2.0.0` ã§ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹<br><br>&lt;https://github.com/vivliostyle/vivliostyle/issues/2&gt;<br><blockquote><https://user-images.githubusercontent.com/431808/70374919-7a123580-193b-11ea-8084-803523e6f19a.png|Vivliostyle 2020><br><br>*What will happen*<br><br>â€¢ Adopt monorepo scheme for core packages (<https://github.com/vivliostyle/vivliostyle/issues/1|#1>)<br>â€¢ Rename npm modules along with a scoped namespace (<https://www.npmjs.com/org/vivliostyle|@vivliostyle>)<br>â€¢ Introduce semantic versioning (initial version is v2.0.0)<br><br>*Schedule*<br>*Rename repository (2019/12/14)*<br><br>â€¢ Rename GitHub repo (`vivliostyle/vivliostyle-savepdf`) to `vivliostyle/vivliostyle-cli`<br>â€¢ Rewrite `package.json` and respective files to match its new name.<br><br>*Merge repositories (2019/12/14)*<br><br>â€¢ Merge `vivliostyle.js` commit history with `vivliostyle/vivliostyle#/packages/core`<br>â€¢ Merge `vivliostyle-ui` commit history with `vivliostyle/vivliostyle#/packages/viewer`<br>â€¢ Merge `vivliostyle-print` commit history with `vivliostyle/vivliostyle#/packages/print`<br><br>*Release scoped versions in npm (2019/12/14)*<br><br>â€¢ `vivliostyle/vivliostyle#/packages/core` as `@vivliostyle/core#v2.0.0`<br>â€¢ `vivliostyle/vivliostyle#/packages/viewer` as `@vivliostyle/viewer#v2.0.0`<br>â€¢ `vivliostyle/vivliostyle#/packages/print` as `@vivliostyle/print#v2.0.0`<br>â€¢ `vivliostyle/vivliostyle-cli` as `@vivliostyle/cli#v2.0.0`<br><br>*Test and fix npm related issue (2019/12/14)*<br><br>â€¢ `npm i &lt;scoped package&gt;`<br>â€¢ `lerna test`<br>â€¢ etc<br><br>*Transfer issues (2019/12/14)*<br><br>â€¢ Issues from `vivliostyle/vivliostyle.js` to `vivliostyle`<br>â€¢ Issues from `vivliostyle/vivliostyle-ui` to `vivliostyle`<br><br>*Mark old repositories deprecated (2019/12/14)*<br><br>â€¢ Add notice and redirection to `vivliostyle/vivliostyle.js`<br>â€¢ Add notice and redirection to `vivliostyle/vivliostyle-ui`<br>â€¢ Add notice and redirection to `vivliostyle/vivliostyle-print`<br><br>*`npm deprecate` (2019/12/14)*<br><br>â€¢ `vivliostyle`<br>â€¢ `vivliostyle-savepdf`<br>â€¢ `vivliostyle-print`<br><br>*Archive deprecated repositories (Early 2020)*<br><br>â€¢ `vivliostyle/vivliostyle.js`<br>â€¢ `vivliostyle/vivliostyle-ui`<br>â€¢ `vivliostyle/vivliostyle-print`</blockquote>|
|03:06|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|`@U` Vivliostyle Viewer ã®github-pagesã®URLã¯ç¾åœ¨ `<https://vivliostyle.github.io/vivliostyle.js/viewer/vivliostyle-viewer.html>` ã§ã™ãŒã€æ–°ã—ã„URLã¯ `<https://vivliostyle.github.io/vivliostyle/viewer/vivliostyle-viewer.html>` ã§ã™ã­ï¼Ÿ<br>å¤ã„URLã¯ `version:Â 2019.11.100-pre` ã®ã¾ã¾æ›´æ–°ã•ã‚Œãªã„ã§ã€å½“é¢ãã®ã¾ã¾ã§ã™ã­ï¼Ÿ|
|03:06|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: Â The URL of Vivliostyle Viewer's github-pages is currently `<https://vivliostyle.github.io/vivliostyle.js/viewer/vivliostyle-viewer.html>`, but the new URL is `&lt;https: //vivliostyle.github .io / vivliostyle / viewer / vivliostyle-viewer.html&gt; `right?<br>The old URL is `version: 2019.11.100-pre` and will not be updated.|
|03:20|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|`@shinyu` ãã†ã§ã™ã€‚æ–°ã—ã„URLã§ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨è¨˜ã‚‚ã™ã¹ã¦v2.0.0ã«å¤‰æ›´ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ `&lt;https://vivliostyle.github.io/vivliostyle.js/viewer/vivliostyle-viewer.html&gt;` ã§ã‚µãƒ¼ãƒ–ã•ã‚Œã‚‹ã®ã§ã€`v2.0.0` ã‚’ä½¿ã„ãŸã„äººã¯æ–°ã—ã„URLã‚’å˜ã«ä½¿ãˆã°è‰¯ãã€å¤ã„URLã‚’ä½¿ã£ã¦ã„ã‚‹äººã¯ã€å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãã®ã¾ã¾ä½¿ã„ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚|
|03:20|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: Â That's right. I would like to change the version notation to v2.0.0 for all new URLs. The previous version is served by `<https://vivliostyle.github.io/vivliostyle.js/viewer/vivliostyle-viewer.html>`, so if you want to use `v2.0.0` you can simply use the new URL If you use old URLs, you can continue to use the old version.|
|06:11|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|è©¦é¨“çš„ã«ç¾åœ¨ã®snapshotã‚’ä½¿ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§Monorepoã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚node_modulesã‚’ç›´æ¥å‚ç…§ã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®å¤šãã‚’æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸãŒç„¡äº‹ã«å‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚<br>ä»¥ä¸‹ã®ç‚¹ãŒæ–°ãŸã«ã‚ã‹ã‚Šã¾ã—ãŸã€‚<br>1. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã”ã¨ã«ç•°ãªã£ã¦ã„ã‚‹prettierãƒ«ãƒ¼ãƒ«ã¨.editorconfigã‚’DXå‘ä¸Šã®ãŸã‚çµ±ä¸€ã—ã€huskyç­‰ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒŸãƒƒãƒˆæ™‚ã«ä¸€æ‹¬fixã—ãŸã„<br>2. ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«é–¢ä¿‚ã®ç„¡ã„eslintãƒ«ãƒ¼ãƒ«ã¯ãã®ã¾ã¾ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã”ã¨ã«ç‹¬ç«‹ã•ã›ã‚‹<br>3. viewerã¨coreã®.travis.ymlã¯ãƒãƒ¼ã‚¸ã™ã‚‹å¿…è¦ãŒã‚ã‚‹|
|06:11|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: I tried to make Monorepo in the local environment using the current snapshot as a test. I had to rewrite much of the code that directly referenced node_modules, but it worked.<br>The following points were newly found.<br>1. I want to unify prettier rules and .editorconfig that are different for each module to improve DX, and use husky etc. to batch fix<br>2. Make eslint rules unrelated to code format independent for each module<br>3. Viewer and core .travis.yml need to be merged|
|10:10|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|`vivliostyle-print` ã‚’ `vivliostyle.js` ã¨ãƒãƒ¼ã‚¸ã—ã¦ `import {print} from '@vivliostyle/core'` ã®ã‚ˆã†ãªå½¢ã§ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒ `@Johannes Wilm` ã•ã‚“ã‹ã‚‰å‡ºã•ã‚Œã¾ã—ãŸã€‚ã‚‚ã—coreã®è²¬ä»»è€…ã§ã‚ã‚‹æ‘ä¸Šã•ã‚“ãŒå¤§ä¸ˆå¤«ã§ã‚ã‚Œã°Monorepoã®å¾Œã«ãƒãƒ¼ã‚¸ã™ã‚‹PRã‚’å‡ºãã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚|
|10:10|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: An idea for merging `vivliostyle-print` with` vivliostyle.js` to make it usable in the form of `import {print} from '@ vivliostyle / core'`. If Mr. Murakami, who is in charge of the core, is all right, I would like to issue a PR that merges after Monorepo.|
|10:28|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|ãªã‚‹ã»ã© `@vivliostyle/core` ã« print ã‚‚å«ã‚ã‚‹ã®ã§ã™ã­ã€‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚|
|10:28|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: I see, print is included in `@ vivliostyle / core`. I think it's good.|
|10:32|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|`@shinyu` ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ãã‚Œã§ã¯ãƒãƒ¼ã‚¸ã™ã‚‹æ–¹é‡ã§é€²ã‚ã¾ã™ï¼|
|10:32|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: Â Thank you very much. Let's proceed with the merge policy!|
|10:33|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|https://vivliostyle.slack.com/files/UK1GQ9TF0/FRK3H3A30/vivliostyle_2020.png|
|10:33|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|https://vivliostyle.slack.com/files/UK1GQ9TF0/FRJNNE5AT/module_structure.png|
|10:35|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|ç¾çŠ¶ã®æ–¹å‘æ€§ã‚„ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚ã‚ˆã‚Šè‰¯ã„ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆãã ã•ã„ğŸš€|
|10:35|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: A summary of the current direction and ideas. Please comment if you have a better idea: rocket:|
