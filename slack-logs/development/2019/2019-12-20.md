# 2019-12-20

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|<span id="1576809206.019100">02:33</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle Viewer の README ファイルは、以前は vivliostyle-ui リポジトリのルートにあるものと dist ディレクトリにあるもの（zipパッケージに同梱される）との２種類ありました：<br><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.8.101/README.md><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.8.101/dist/README.md><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.8.101/dist/README.ja.md><br><br>v2.0 でも、npm 上の @vivliostyle/viewer のドキュメントとなる README ファイルと zip パッケージの README は別のものが必要なのではないかと思います。<br>それぞれのパッケージでの次の説明が必要です。<br>• 自分のサイトに viewer を設置する方法<br>• ローカル環境で viewer を利用する方法<br>|
|<span id="1576809207.019200">02:33</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: There were two types of Vivliostyle Viewer README files, one at the root of the vivliostyle-ui repository and one in the dist directory (included in the zip package):<br><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.8.101/README.md><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.8.101/dist/README.md><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.8.101/dist/README.en.md><br><br>Even in v2.0, I think that the README file that is the document of @ vivliostyle / viewer on npm and the README of the zip package need to be different.<br>The following explanation is required for each package.<br>• How to install viewer on your site<br>• Using viewer in a local environment<br>|
|<span id="1576809701.021400">02:41</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|むしろ両方含めて良いと思います|
|<span id="1576809703.021600">02:41</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I would rather include both.|
|<span id="1576810073.021800">02:47</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|ひとつのREADMEファイルの中に、npm版の場合とzip版の場合との両方の説明を含めるということですか？|
|<span id="1576810075.022000">02:47</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Does that mean that both the npm version and the zip version are included in one README file?|
|<span id="1576810402.026500">02:53</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|ファイルを分けるか統合するかは任意ですが、二つの間にはファイルの置き場所以外違いがないので分離する必要はないと思います。|
|<span id="1576810404.026700">02:53</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Separating or merging the files is optional, but there is no difference between the two except for the location of the files, so I don't think it is necessary to separate them.|
|<span id="1576810430.027700">02:53</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|統合してCIビルド時にコピーした方が片方の更新忘れみたいなミスを防げるので良いですね|
|<span id="1576810431.027900">02:53</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: It's better to merge and copy to prevent mistakes like forgetting to update one.|
|<span id="1576812260.028400">03:24</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle Viewer のzipパッケージ版に入っている start-webserver スクリプト、以前は次のものでした:<br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.1.106/scripts/start-webserver><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.1.106/scripts/start-webserver.bat><br><br>まず npm がインストールされているかどうかチェックして、それがあれば npm の http-server をインストールして実行するというものでした。<br>しかしこれを何人かにも実行してもらったところ、npm のエラーなどに遭遇して、インストールできない人がとても多いことが分かりました。<br>（エラーの原因は、カレントディレクトリを start-webserver があるところに移動しないで実行することなど）<br><br>そこで、ユーザーの環境に入っていることが多い ruby でのウェブサーバーを優先するように、次のコミットで直しました:<br><https://github.com/vivliostyle/vivliostyle-ui/commit/cc74188cf5b6ab75d7c39553d00f23cc9a7fe9f1><br>またこのとき、ローカルのファイルをオンラインの Vivliostyle Viewer でも表示確認できるように、CORSを有効にするようにしてみました。（これはあまり必要ないかもしれません）<br><br>今回npm版の @vivliostyle/viewer ができたので、npm版とzip版とで使い方をなるべく共通化できるように、この start-webserver についても再検討したいところです。|
|<span id="1576812262.028500">03:24</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: The start-webserver script in the zip package version of Vivliostyle Viewer, formerly:<br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.1.106/scripts/start-webserver><br><https://github.com/vivliostyle/vivliostyle-ui/blob/2019.1.106/scripts/start-webserver.bat><br><br>The first thing was to check if npm was installed, and if so, install and run npm's http-server.<br>However, after several people did this, they found that there were a lot of people who couldn't install because they encountered npm errors.<br>(The cause of the error is to execute the current directory without moving to the place where start-webserver is located)<br><br>So we fixed it with the following commit to give preference to the ruby web server that is often in the user's environment:<br><https://github.com/vivliostyle/vivliostyle-ui/commit/cc74188cf5b6ab75d7c39553d00f23cc9a7fe9f1><br>Also, at this time, I tried to enable CORS so that local files can be displayed in the online Vivliostyle Viewer. (This may not be necessary)<br><br>Now that the npm version of @ vivliostyle / viewer has been created, I would like to reconsider this start-webserver so that the npm version and the zip version can be used as much as possible.|
|<span id="1576813106.028600">03:38</span>|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<blockquote>二つの間にはファイルの置き場所以外違いがない</blockquote>npmでインストールされる<br>/node_modules/@vivliostyle/viewer/lib/<br>とzipパッケージの中の<br>/vivliostyle/viewer/<br>が同じものということですね？|
|<span id="1576813108.028800">03:38</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: &amp; gt; There is no difference between the two except the location of the file<br>Installed with npm<br>/ node_modules / @ vivliostyle / viewer / lib /<br>And in the zip package<br>/ vivliostyle / viewer /<br>Is that the same thing?|
|<span id="1576815616.029100">04:20</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|`@shinyu` そうです！<br>オンラインドキュメントの上部にトグルスイッチを用意して、自動推論に加えてさらに手動でローカルとオンライン版のドキュメントを切り替える（URLをjsで変える）ことができるようにする案を考えています。どう思いますか？<br><br>また、現状のドキュメントをorgの/docs/2019.XXX/にバージョン付けして配置することで、zipにドキュメントを同梱しないで済む方法も検討中です。あわせてREADMEのセットアップ手順もドキュメントに統合して、色んな場所にリンクを飛ばさないようにします。この結果、ドキュメント系のリンクをドキュメント環境に閉じることができます。|
|<span id="1576815620.029300">04:20</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧:  That's right!<br>The idea is to provide a toggle switch at the top of the online document so that in addition to automatic inference, you can manually switch between local and online documents. What do you think?<br><br>In addition, we are considering a method that eliminates the need to include the document in the zip by placing the current document in the version of /docs/2019.XXX/ in org. At the same time, the README setup procedure is also integrated into the document so that links are not skipped in various places. As a result, document links can be closed to the document environment.|
|<span id="1576815621.029500">04:20</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧:  That's right!<br>The idea is to provide a toggle switch at the top of the online document so that in addition to automatic inference, you can manually switch between local and online documents. What do you think?<br><br>In addition, we are considering a method that eliminates the need to include the document in the zip by placing the current document in the version of /docs/2019.XXX/ in org. At the same time, the README setup procedure is also integrated into the document so that links are not skipped in various places. As a result, document links can be closed to the document environment.|
|<span id="1576819174.029900">05:19</span>|![](https://avatars.slack-edge.com/2020-01-10/887966969570_c859f367523236ef0fbd_72.png)|uetchy|<https://docusaurus.io/en/versions><br>Docusaurusはデフォルトでバージョニングされたドキュメントの生成に対応しているようです<br><blockquote>Easy to Maintain Open Source Documentation Websites</blockquote>|
|<span id="1576819176.030200">05:19</span>|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: <https://docusaurus.io/en/versions><br>Docusaurus seems to support generation of versioned documents by default|
