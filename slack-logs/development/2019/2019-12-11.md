# 2019-12-11

|Time|Icon|Name|Message|
|---|---|---|---|
|08:55|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|*monorepoåŒ–ã®ã¤ã„ã§ã«ã€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆé¡ã®æ”¹å–„è¦æœ›*<br><br>vivliostyle.js ã¨ vivliostyle-ui ãŒã©ã¡ã‚‰ã‚‚ JavaScript ã‹ã‚‰ TypeScript ã«ç§»è¡Œã—ã¾ã—ãŸãŒã€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆé¡ãŒãã‚Œä»¥å‰ã‚ˆã‚Šå°‘ã—ä½¿ã„ã«ãããªã‚Šã¾ã—ãŸã€‚ãã‚Œã‚’æ”¹å–„ã—ãŸã„ã§ã™ã€‚<br><br>- ä»¥å‰ã¯ã€vivliostyle.js ã‚’ãƒ“ãƒ«ãƒ‰ã—ãªãã¦ã‚‚ã€vivliostyle-ui å´ã§ `npm run build-dev` ã¨ã™ã‚‹ã ã‘ã§é–‹ç™ºç‰ˆã®ã€€Vivliostyle Viewer ãŒã§ããŸã€‚ã‚½ãƒ¼ã‚¹ãŒ JavaScript ãªã®ã§ã€ãã®ã¾ã¾ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ã„ã¦ãƒ‡ãƒãƒƒã‚°ã‚‚ã§ããŸã€‚ãã‚ŒãŒä»Šã¯ã€vivliostyle.js ã¨ vivliostyle-ui ã®ä¸¡æ–¹ã§ `npm run build-dev` ãŒå¿…è¦ã€‚<br>- ä»¥å‰ã¯ã€vivliostyle-ui ã® `npm run serve-dev` ã¯ `npm run build-dev` ã¨åŒã˜ãƒ“ãƒ«ãƒ‰ã‚’è¡Œã£ã¦ã‹ã‚‰Webã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹ã‚‚ã®ã ã£ãŸã€‚ãã‚ŒãŒä»Šã¯ã€ `npm run build-dev` ã‚’è¡Œã£ã¦ã‹ã‚‰ã€ `npm run serve-dev` ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹ã€‚ãã®ã†ãˆã€ãã‚Œã‚‰ã®å‡¦ç†å†…å®¹ã«é‡è¤‡ãŒã‚ã‚‹ã€‚ productionç‰ˆç”¨ã® `npm run serve` ã¨ `npm run build` ã‚‚åŒæ§˜ã€‚<br>- ä»¥å‰ã¯ã€vivliostyle-ui ã® `npm run serve-dev` ã§ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œãƒ†ã‚¹ãƒˆä¸­ã«ã€JavaScriptã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆvivliostyle.js ã§ã‚‚ vivliostyle-ui ã§ã‚‚ï¼‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã™ãã«å‹•ä½œã«åæ˜ ã•ã‚ŒãŸã€‚ãã‚ŒãŒä»Šã¯ã€vivliostyle.jsã€vivliostyle-ui ä¸¡æ–¹ã® `npm run build-dev` ã§ã®å†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ã€‚<br><br>ãã‚Œã‹ã‚‰ã€productionç‰ˆã§ã‚ã£ã¦ã‚‚ãƒ‡ãƒãƒƒã‚°ãŒã§ãã‚‹ã‚ˆã†ã«ï¼ˆã¨ãã« gh-pages ä¸Šã® Vivliostyle Viewer ãŒãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œã§ãã¦ã»ã—ã„ï¼‰ã€vivliostyle.js ã® source map ãŒã€vivliostyle-ui ã« webpack ã§ã¾ã¨ã‚ã‚‰ã‚ŒãŸã¨ãã«æ¶ˆãˆã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã‚’ç›´ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã‚’ä½¿ãˆã°ã‚ˆã„?: <https://github.com/webpack-contrib/source-map-loader><br><blockquote>extract sourceMappingURL comments from modules and offer it to webpack</blockquote>|
|09:01|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|å‚è€ƒã«ãªã‚‹ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€ç§ã¯ npm-scripts ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã®ã« npm-run-all ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚<br><br>npm-run-all - npm<br><https://www.npmjs.com/products/pro?utm_source=house&amp;utm_medium=upsellbox&amp;utm_campaign=Proongoingpromo><br><br>ã“ã‚Œã‚’ä½¿ã†ã¨è¤‡æ•°ã® npm-scripts ã‚’ç°¡å˜ã«çµ„ã¿åˆã‚ã›ã‚‰ã‚Œã€ãã‚Œã‚‰ã®å®Ÿè¡Œæ–¹æ³•ã‚‚åŒæœŸã€éåŒæœŸã«ã§ãã¾ã™ã€‚<br>ã‚·ã‚§ãƒ«ã®ãƒ‘ã‚¤ãƒ—å‡¦ç†ã«ãŠã‘ã‚‹ OS ã®å·®ã‚‚æŠ½è±¡åŒ–ã—ã¦ãã‚Œã‚‹ã®ã§ã€ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œã®é¢ã§ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚<br><blockquote>npm | Pro</blockquote>|
|09:01|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: I'm not sure if it helps, but I use npm-run-all to combine npm-scripts.<br><br>npm-run-all-npm<br><https://www.npmjs.com/products/pro?utm_source=house&amp;utm_medium=upsellbox&amp;utm_campaign=Proongoingpromo><br><br>Using this, you can easily combine multiple npm-scripts and execute them synchronously or asynchronously.<br>It also abstracts the OS differences in shell pipe processing, so it is also recommended for cross-platform support.|
|15:34|![](https://secure.gravatar.com/avatar/7fef90f6ef611e0cc71857ab8251f0c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png)|U|ç¢ºã‹ã«ç¾çŠ¶ã ã¨ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒƒãƒ—ãŒç…©é›‘ã«ãªã£ã¦ã„ã‚‹ã®ã§æ”¹å–„ã—ãŸã„ç®‡æ‰€ã§ã™ã€‚MonorepoåŒ–ã«ä¼´ã„è¦ªã¨ãªã‚‹ãƒ«ãƒ¼ãƒˆpackage.jsonãŒç”Ÿã¾ã‚Œã‚‹ã®ã§ã€ãã¡ã‚‰ã«coreã®watch&amp;buildã¨uiã®serveã‚’ä¸¦åˆ—èµ·å‹•ã™ã‚‹npm-run-allã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆã‚ã‚‹ã„ã¯å˜ã« `lerna run --parallel`ï¼‰ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ã€coreã®å¤‰æ›´ã‚’jsã«ãƒ“ãƒ«ãƒ‰ã—ã€ãã‚Œã‚’uiã«ã™ãã«åæ˜ ã•ã›ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œã‚‹ã“ã¨ãŒã§ããã†ã§ã™ã€‚|
|15:34|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: Certainly, the build step is complicated in the current situation, so it is a part that I want to improve. Since the parent package package.json is born with Monorepo conversion, prepare an npm-run-all script (or simply `lerna run --parallel`) that runs the core watch &amp; amp; build and ui serve in parallel. It seems that we can build a workflow that builds core changes into js and immediately reflects them in ui.|
