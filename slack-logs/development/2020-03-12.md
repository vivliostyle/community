# 2020-03-12

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|02:47|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle ViewerのURLパラメータの見直しを行いました。<br><https://github.com/vivliostyle/vivliostyle/pull/629><br><br>この変更を反映したVivliostyle Viewerを次のURLでテストできます:<br><https://vivliostyle-git-viewer-url-params.vivliostyle.now.sh/><br><br>例えば、次の文書URLをViewerのスタートページのURL入力欄に入れて、その下にあるチェックボックスでBook ModeとRender All Pagesを変えるとどうなるか、お試しください:<br><https://vivliostyle.github.io/vivliostyle_doc/ja/vivliostyle-user-group-vol3/><br><blockquote>fixes <https://github.com/vivliostyle/vivliostyle/issues/628|#628><br><br>• the old `x` and `b` parameters are changed to the new `src` and `bookMode` parameters<br>    • `#x=&lt;url&gt;` is converted to `#src=&lt;url&gt;` (with default `bookMode=false` and `renderAllPages=true`)<br>    • `#b=&lt;url&gt;` is converted to `#src=&lt;url&gt;&amp;bookMode=true&amp;renderAllPages=false`<br>• add `Book Mode` and `Render All Pages` check boxes and Apply button in the start page<br>• update the description in the start page</blockquote>|
|02:47|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Revised URL parameters of Vivliostyle Viewer.<br><https://github.com/vivliostyle/vivliostyle/pull/629><br><br>You can test the Vivliostyle Viewer with this change at the following URL:<br><https://vivliostyle-jo1tshp36.now.sh/><br><br>For example, put the following document URL into the URL input field on the viewer's start page and see what happens when you change the Book Mode and Render All Pages using the checkboxes below:<br><https://vivliostyle.github.io/vivliostyle_doc/ja/vivliostyle-user-group-vol3/>|
|06:00|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|`@shinyu` 先日、Vivliostyle ViewerｍでのPDF出力は、従来通りのものとPDF/X1-aの2通りを選べるようにしたいと言ってましたが、その件はどうなったでしょう？|
|06:00|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧:  The other day, you said that you would like to be able to select two types of PDF output with Vivliostyle Viewerm, the conventional one and PDF / X1-a, but what happened?|
|06:33|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle ViewerのPDF出力は、ブラウザからのPDF出力のままなので、PDF/X-1aにはなりません。<br>Vivliostyle CLI のPDF出力は `--press-ready` オプションによって PDF/X-1aになります。オプションなしだと従来のものです。<br>従来のものはChromeのPDF出力のままなのですが、テキストが正しく取り出せるようにするなど印刷用途以外でも後処理が必要という課題があります。<br><https://github.com/vivliostyle/vivliostyle-cli/issues/40><br><blockquote>Chrome-generated PDF has text accessibility problem with CJK ideographs, see the Chrome bug <https://crbug.com/981259#c20|https://crbug.com/981259#c20> (and related tweets <https://twitter.com/MurakamiShinyu/status/1235228523687604224|https://twitter.com/MurakamiShinyu/status/1235228523687604224>).<br><br>Until this bug is fixed in Chrome, we may need a program that fix the ToUnicode CMap in Chrome-generated PDF.<br><br>For example, a Chrome-generated PDF has the following code in a ToUnicode CMap object:<br><br><pre>...<br>1 beginbfchar<br>&lt;0436&gt; &lt;2F26&gt;<br>endbfchar<br>...<br></pre><br><br>(This example is from <https://crbug.com/981259#c18|https://crbug.com/981259#c18>)<br><br>`&lt;2F26&gt;` is the Unicode code point of KANGXI RADICAL CHILD (⼦) that shares the same glyph with CJK UNIFIED IDEOGRAPH-5B50 (子), so this should be corrected to `&lt;5B50&gt;`.<br><br>The Equivalent_Unified_Ideograph property in the Unicode Character Database can be used for this conversion:  <br><https://www.unicode.org/Public/UCD/latest/ucd/EquivalentUnifiedIdeograph.txt|https://www.unicode.org/Public/UCD/latest/ucd/EquivalentUnifiedIdeograph.txt></blockquote>|
|06:33|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: The PDF output of Vivliostyle Viewer will not be PDF / X-1a because it is the PDF output from the browser.<br>Vivliostyle CLI's PDF output will be PDF / X-1a with the `--press-ready` option. It is conventional without options.<br>The conventional one is the same as Chrome's PDF output, but there is a problem that post-processing is required for non-printing purposes such as ensuring that text can be extracted correctly.<br><https://github.com/vivliostyle/vivliostyle-cli/issues/40>|
|06:54|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|なるほど、了解です。<br>ではCLIの説明として、目的に応じてPDF出力が2通りあると説明しますね。|
|06:54|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I see.<br>So, as a description of the CLI, I explain that there are two types of PDF output depending on the purpose.|
