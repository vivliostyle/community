# 2022-08-16

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|02:53|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|技術書典に合わせて新しい本のthemeを作り始めていますが、このthemeで使われているCSS variablesは将来Vivliostyle themesにバックポートして、themes標準のプロパティにできないかと考えています。<br><https://github.com/spring-raining/tbf13-draft/tree/main/theme><br>参考issue: <https://github.com/vivliostyle/themes/issues/67><br>もし他に何か追加したほうが良いプロパティについてアイディアがあれば教えてください。今のところは、以下のようなルールで追加しています。<br>• 変数名のprefixは `--vs-`<br>• HTML tagごとに `body` `heading` `monospace` `paragraph` などのカテゴリーを用意して、個別のHTML tag向けの変数にcascading<br>• 汎用のspacing単位に `--vs-unit-sp: 0.25rem` を用意 (Tailwind.css風のスタイル)<br><blockquote><https://github.com/vivliostyle/themes/issues/67|#67 Vivliostyle CoreでCSSカスタムプロパティ（変数）が利用可能になったらThemeで活用してほしい></blockquote>|
|02:53|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: I'm starting to create a theme for a new book to match the technical book, but I'm thinking that the CSS variables used in this theme can be backported to Vivliostyle themes in the future and made into the theme's standard properties.<br><https://github.com/spring-raining/tbf13-draft/tree/main/theme><br>Reference issue: <https://github.com/vivliostyle/themes/issues/67><br>If you have any ideas on what other properties I should add, please let me know. For now, I'm adding the following rules:<br>• Variable name prefix is `--vs-`<br>• Prepare categories such as `body` `heading` `monospace` `paragraph` for each HTML tag, and cascading to variables for individual HTML tags<br>• Prepare `--vs-unit-sp: 0.25rem` for general-purpose spacing unit (Tailwind.css style)|
|04:57|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|`@spring-raining`<br>CSS Variablesサポートがさっそく生かされてありがたいです。<br>実装したばかりなので何かバグが見つかったらよろしく。<br><br>ところで、 <https://github.com/spring-raining/tbf13-draft/blob/main/theme/partial/reset.css> で、まだVivliostyle CLIリリース版で修正が反映されていないVivliostyle.jsのバグが関係するところがあります:<br><br>```::before,<br>::after {<br>  box-sizing: border-box;<br>  border-width: 0;<br>  border-style: solid;<br>  border-color: var(--vs-color-border);<br>}```<br>このセレクタ `::before, ::after`でVivliostyle.jsのCSSパーサーがエラーになってます。 `*` を付けて  `*::before, *::after`とすれば大丈夫です。Vivliostyle.jsの最新(v2.17.2)では<br><https://github.com/vivliostyle/vivliostyle.js/pull/974><br><blockquote>• Selector starting with `::` (without `*`) causes CSS parser error</blockquote>で修正済みです。<br><blockquote><https://github.com/spring-raining/tbf13-draft/blob/main/theme/partial/reset.css | reset.css></blockquote><br><blockquote><https://github.com/vivliostyle/vivliostyle.js/pull/974|#974 fix: Incorrect behavior of ::first-letter and ::first-line selectors></blockquote>|
|04:57|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: `@spring-raining`<br>It's nice to see CSS Variables support come to life right away.<br>I just implemented it, so please let me know if you find any bugs.<br><br>By the way, <https://github.com/spring-raining/tbf13-draft/blob/main/theme/partial/reset.css> is related to a Vivliostyle.js bug that has not yet been fixed in the Vivliostyle CLI release version:<br><br>```::before,<br>::after {<br>  box-sizing: border-box;<br>  border-width: 0;<br>  border-style: solid;<br>  border-color: var(--vs-color-border);<br>}```<br>This selector `::before, ::after` causes an error in the CSS parser of Vivliostyle.js. If you add `*` and say `*::before, *::after`, you'll be fine. In the latest (v2.17.2) of Vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/pull/974><br><blockquote>Selector starting with `::` (without `*`) causes CSS parser error</blockquote>has been fixed.|
|05:01|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|修正しておきます！|
|05:01|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: I'll fix it!|
