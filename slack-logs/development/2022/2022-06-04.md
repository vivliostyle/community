# 2022-06-04

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|09:32|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle-cli/pull/291#issuecomment-1146575328><br><br>Playwrightでの問題が見つかりました。生成できるPDFサイズに制限があるようです。この問題のデータは、4月のイベントで発表した欧文印刷さんにテスト印刷してもらった本です。写真の画像ファイルがたぶん必要以上に大きいために出力PDFが巨大になってるのが問題なので、この本については解決するとしても、このままだと残念な制限になりそう。<br><br>Puppeteerで問題なかったのだからPlaywrightでも同様にできてよさそうなのにできない問題なので、もう少し調べてPlaywrightのほうに不具合報告しようと思います。<br><blockquote>生成されるPDFのサイズが大きいとき（512MB超）、次のエラーが発生します。<br><br><pre>✖ page.pdf: Cannot create a string longer than 0x1fffffe8 characters<br>    at Object.buildPDF (/Users/shinyu/viv/vivliostyle-cli/dist/pdf.js:196:28)<br>    at async Object.build (/Users/shinyu/viv/vivliostyle-cli/dist/build.js:69:30)<br></pre><br><br>Puppeteerの場合にはこのエラーは起きませんでした。<br><br>テストしているデータ「海外の旅」は、ページ数が約300ページでPDFのサイズが約1GBになります（写真が多いのでサイズが大きくなる）。<br><br>Playwrightの `page.pdf()` ではPDF全体をひとつのstringにしててそのサイズ制限にひっかかる（？）</blockquote>|
|09:32|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: <https://github.com/vivliostyle/vivliostyle-cli/pull/291#issuecomment-1146575328><br><br>I found a problem with Playwright. There seems to be a limit to the PDF size that can be generated. The data for this problem is a test print by Mr. Oubun Printing, which was announced at the event in April. The problem is that the output PDF is huge, probably because the image file of the photo is larger than necessary, so even if this book can be solved, it seems to be a disappointing limitation.<br><br>Since there was no problem with Puppeteer, it seems that Playwright can do the same, but it is a problem that can not be done, so I will investigate a little more and report a problem with Playwright.|
