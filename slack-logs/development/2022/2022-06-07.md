# 2022-06-07

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|10:04|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|I reported the bug to Playwright.<br><https://github.com/microsoft/playwright/issues/14675><br><blockquote>*Context:*<br><br>‚Ä¢ Playwright Version: 1.22.2 (also tested with 1.21.1)<br>‚Ä¢ Operating System: Mac<br>‚Ä¢ Node.js version: 17<br>‚Ä¢ Browser: Chromium<br><br>*Code Snippet*<br><br><pre>const {chromium} = require('playwright');<br><br>(async () =&gt; {<br>  const browser = await chromium.launch();<br>  const context = await browser.newContext();<br>  const page = await context.newPage();<br>  <br>  // Please include a snippet of HTML that shows an example of the content<br>  // you are testing.<br>  await page.setContent(`<br>    &lt;h1&gt;Large images from <https://esahubble.org/images/&lt;/h1>&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/heic0506a.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/heic0602a.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/heic0604a.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/heic1520a.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/heic2007a.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/opo0328a.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/opo1438b.jpg"&gt;&lt;/p&gt;<br>    &lt;p&gt;&lt;img src="https://cdn.spacetelescope.org/archives/images/large/potw1849a.jpg"&gt;&lt;/p&gt;<br>  `);<br> <br>  await page.pdf({path: 'output.pdf'});<br>  await browser.close();<br>})();</pre><br><br>*Describe the bug*<br><br>Playwright cannot generate PDF file larger than 512MB. The error "Cannot create a string longer than 0x1fffffe8 characters" occurs at `buffer.toString('base64')`:<br><br><https://github.com/microsoft/playwright/blob/4cc25725f90229d28a8f0c81b4ceefdc1396095a/packages/playwright-core/src/server/dispatchers/pageDispatcher.ts#L262-L263|https://github.com/microsoft/playwright/blob/4cc25725f90229d28a8f0c81b4ceefdc1396095a/packages/playwright-core/src/server/dispatchers/pageDispatcher.ts#L262-L263><br><br>This bug was found when working on switching Puppeteer to Playwright in our project <https://github.com/vivliostyle/vivliostyle-cli|Vivliostyle CLI> (HTML to PDF converter with CSS Paged Media support):<br><br>‚Ä¢ <https://github.com/vivliostyle/vivliostyle-cli/pull/291|vivliostyle/vivliostyle-cli#291><br><br>We made a patch to fix this problem:<br><br>‚Ä¢ <https://github.com/vivliostyle/vivliostyle-cli/blob/main/patches/playwright-core%2B1.21.1.patch|https://github.com/vivliostyle/vivliostyle-cli/blob/main/patches/playwright-core%2B1.21.1.patch><br><br>This fix may not be perfect, but works good for our project.<br><br>Glad to help improve Playwright üòÉ</blockquote>|
|10:04|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|üáØüáµ: „Éê„Ç∞„ÇíÂäá‰ΩúÂÆ∂„Å´Â†±Âëä„Åó„Åæ„Åó„Åü„ÄÇ<br><https://github.com/microsoft/playwright/issues/14675>|
