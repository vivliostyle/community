# 2024-10-01

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|00:01|![](https://secure.gravatar.com/avatar/a951d6c14b585791bf573afbee1e9be5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png)|mura_mi|昨晩あのあとも少し考えていたのですが、自分のニーズとしては cli に Processor を差し込む拡張点の追加かなと思いました。<br>VFM の実装を極力活かす方法を考えたかったのですが、結局vivliostyle-cliの設定経由で VFM の設定値が煩雑になるのも良くないかなと思いました。<br><br>実際は <https://github.com/vivliostyle/vfm/blob/a72dc8d82ae1872a8ac93e31910d9a742c9bf516/src/index.ts#L86-L98|https://github.com/vivliostyle/vfm/blob/a72dc8d82ae1872a8ac93e31910d9a742c9bf516/src/index.ts#L86-L98> の `VFM(...)` 関数の型に合わせて、`(StringifyMarkdownOptions, metadata) =&gt; Processor` な関数を vivliostyle config に食わせる、という形式が良いかなと。<br>そうすると、ゆくゆく VFM の設定で一部の VFM plugin の挙動を差し替えたいときも、vivliostyle-cli の設定に食わせる関数の調節でもろもろ調整ができるのかな、と。<br>それなら #124 のように Pandoc など markdown 以外の形式を受け入れることもできるのかなと思いました。<br><br>特にいろんなければ、時間できたら上記の方法でコード書いてみます。<br><blockquote><pre>export function VFM(<br>  {<br>    style = undefined,<br>    partial = false,<br>    title = undefined,<br>    language = undefined,<br>    replace = undefined,<br>    hardLineBreaks = false,<br>    disableFormatHtml = false,<br>    math = true,<br>  }: StringifyMarkdownOptions = {},<br>  metadata: Metadata = {},<br>): Processor {</pre></blockquote>|
