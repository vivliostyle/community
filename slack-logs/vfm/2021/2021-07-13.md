# 2021-07-13

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|07:50|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|VFM 1.0.0-alpha.23 での Breaking Change で、Frontmatter に指定した class プロパティは、body要素ではなくルート(html)要素の class 属性の指定ということになりました。（その議論は <https://github.com/vivliostyle/vfm/issues/76> ）<br><br>しかし、「Vivliostyleで本を作ろう Vol.5」の `@yamasy1549` さんの記事<https://github.com/spring-raining/tbf11-draft/blob/main/content/yamasy/index.md|「Vivliostyle Theme のつくりかた」>には、<br><br><blockquote>`---` で囲まれた Frontmatter 部分に class を指定すると、body 要素にその名前の class を付与できます。<br>…</blockquote>```---<br>class: natsume<br>---```<br><blockquote>…</blockquote>```body.natsume {<br>  h1, h2 {<br>    border-color: darkcyan;<br>  }<br>}```<br><blockquote>…</blockquote>とあります。たしかに、まだVFM 1.0.0-alpha.23 での変更は Vivliostyle CLI の現行バージョン(v3.5)に反映されていないので、現在のところは body 要素の class 属性指定となります。しかし変更される予定です。<br><br>bodyではなくルート(html)要素に変更した理由は、文書全体のclassが指定できるほうがより実用的だからです。これにより、文書の種類ごとに meta 要素や title 要素の扱いを変える（例：string-set で値をセットするとき文書の種類ごとのテキストを付加）ということができます。<br><br>もしかしたら、bodyとルート要素の両方のclass属性ということにすると、以前のスタイルシートもそのまま使えてよいかもしれません。（「Vivliostyle Theme のつくりかた」を改訂しなくてすむ）<br><br>`@akabeko` `@yamasy1549` どうでしょう？<br><blockquote><https://github.com/vivliostyle/vfm/issues/76|#76 spec: Frontmatter></blockquote><br><blockquote><https://github.com/spring-raining/tbf11-draft/blob/main/content/yamasy/index.md | index.md></blockquote>|
|07:50|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Language Translation Bot|🇬🇧: In Breaking Change in VFM 1.0.0-alpha.23, the class property specified for Frontmatter is now the specification of the class attribute of the root (html) element instead of the body element. (The discussion is <https://github.com/vivliostyle/vfm/issues/76>)<br><br>However, the article <https://github.com/spring-raining/tbf11-draft/blob/main/content/yamasy/index.md | "Vivliostyle Theme" by "Let's make a book with Vivliostyle Vol.5" How to make "><br><br>If you specify a class in the Frontmatter part surrounded by &amp; gt; `---`, you can assign a class with that name to the body element.<br>&amp; gt;…<br>`` `---<br>class: natsume<br>---`` `<br>&amp; gt;…<br>`` `body.natsume {<br>  h1, h2 {<br>    border-color: darkcyan;<br>  }<br>} ```<br>&amp; gt;…<br>There is. Certainly, the changes in VFM 1.0.0-alpha.23 have not yet been reflected in the current version (v3.5) of the Vivliostyle CLI, so it is currently a class attribute specification for the body element. However, it will be changed.<br><br>The reason I changed it to the root (html) element instead of the body is that it is more practical to be able to specify the class of the entire document. This allows you to handle different meta and title elements for each document type (eg, add text for each document type when setting values with string-set).<br><br>Perhaps the old stylesheet can be used as is if it is the class attribute of both the body and the root element. (You don't have to revise "How to make Vivliostyle Theme")<br><br>  How is it?<br><blockquote><https://github.com/vivliostyle/vfm/issues/76|#76 spec: Frontmatter></blockquote>|
|08:25|![](https://secure.gravatar.com/avatar/b2dffef7ce30f6f8f399f2a172229711.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png)|yamasy1549|bodyのclass属性にも追加して悪影響がないようであれば、良いと思います :+1:|
|08:25|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Language Translation Bot|🇬🇧: I think it's good if you add it to the class attribute of body and it doesn't have any adverse effect: +1:|
|08:43|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|論点が複数あります。まずは Vivliostyle 本 vol.5 の の改訂について。<br><br>技術書において執筆時点で採用したバージョンから仕様が変更されることは本件に限らずありえる話です。<br>また私の書いた VFM 入門では将来の変更であると前置きして新しい Frontmatter へ言及しています。<br>以上を踏まえると改訂は不要ではないでしょうか。|
|08:43|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Language Translation Bot|🇬🇧: There are multiple issues. First of all, about the revision of Vivliostyle book vol.5.<br><br>It is possible that the specifications will be changed from the version adopted at the time of writing in the technical book, not limited to this case.<br>Also, in my introduction to VFM, I preface the new Frontmatter as a future change.<br>Based on the above, isn't it necessary to revise it?|
|08:53|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ルートの `class` を `html` と `body` の両方へ適用することについて。<br><br>対応自体は容易です。仕様としては `html` プロパティーの仕様を踏襲してルート優先となるでしょう。<br>ただし従来の `class` は `body` だけに適用されることから CSS を `body.class` ではなく `.class` と定義していたユーザーもいそうです。<br>その場合、`html` と `body` の両方に `class` を出力しても互換は維持できないのではないでしょうか。<br><br>また一つのプロパティーが複数箇所へ出力されるのもわかりにくいです。<br>`body` から `html` へ移動する仕様となったとき、互換がなくなることを理解したうえでルートは文書を代表する `html` のほうがよいということで納得したわけで、消極的な理由から `body` へも出力となるのは私としては反対です。|
|08:53|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Language Translation Bot|🇬🇧: About applying the root `class` to both` html` and `body`.<br><br>The response itself is easy. The specification will follow the specification of the `html` property and give priority to the route.<br>However, some users have defined CSS as `.class` instead of` body.class` because the traditional `class` applies only to` body`.<br>In that case, even if you output `class` to both` html` and `body`, compatibility may not be maintained.<br><br>It is also difficult to understand that one property is output to multiple locations.<br>When it came to the specification to move from `body` to` html`, I understood that incompatibility would be lost, and I was convinced that the root should be `html`, which represents the document, for negative reasons. It is the opposite for me that the output is also to `body`.|
|09:01|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ただ、強く反対というわけではありませんので↑よりも優先される理由があれば対応も容易ですので採用は可です|
|09:01|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Language Translation Bot|🇬🇧: However, it is not strongly opposed, so if there is a reason to prioritize it over ↑, it is easy to respond, so it is possible to adopt it.|
|10:47|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<blockquote>ただし従来の `class` は `body` だけに適用されることから CSS を `body.class` ではなく `.class` と定義していたユーザーもいそうです。<br>その場合、`html` と `body` の両方に `class` を出力しても互換は維持できないのではないでしょうか。</blockquote>たとえば<br>```.class {<br>  font-size: 9pt;<br>}<pre>のようなCSSの場合、classがbodyに出力されてもhtmlに出力されても両方に出力されても問題はありません。<br>しかし</pre>.class {<br>  font-size: 75%;<br>}<pre>という指定の場合（ブラウザのデフォルトのfont-sizeである12ptに対する75%なので9ptになることを期待）、classがbodyに出力されてもhtmlに出力されてもどちらでも問題はないのですが、両方に出力されたときにはhtmlでの75%で9ptになったのがさらにbodyの75%で6.75ptというかなり小さなfont-sizeに変わってしまいます。<br></pre>.class {<br>  column-count: 2;<br>}```<br>のように段組の指定の場合も、bodyかhtmlか片方だけの場合はどちらでもだいたい同じ結果になるのですが、両方に指定されると、段組の中に段組がということになり、うまくいきません。<br><br>指定されるプロパティによって、両方に出力されてうまくケースとダメなケースがあるということです。<br><br>見出しに指定された属性をsectionとh1-h6の両方に出力するようにしたときにも同様の問題はありました。しかし、それはpandocのsection-divs機能でもそうなっているように、そのようにする利用がありました。<br>それで、ルート要素とbody要素のclassについて同様にするのはどうかと考えたしだいです。|
|10:47|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Language Translation Bot|🇬🇧: &amp; gt; However, since the conventional `class` is applied only to` body`, it seems that some users have defined CSS as `.class` instead of` body.class`.<br>&amp; gt; In that case, even if you output `class` to both` html` and `body`, compatibility may not be maintained.<br>For example<br>`` `. Class {<br>  font-size: 9pt;<br>} ```<br>In the case of CSS like, it doesn't matter whether the class is output to body, html, or both.<br>However<br>`` `. Class {<br>  font-size: 75%;<br>} ```<br>In the case of the specification (75% of the default font-size of the browser, 12pt, so expect it to be 9pt), it doesn't matter whether the class is output to body or html, but it doesn't matter. When output to both, 75% of html became 9pt, and 75% of body changed to 6.75pt, which is a fairly small font-size.<br><br>`` `. Class {<br>  column-count: 2;<br>} ```<br>In the case of specifying columns as in, the same result will be obtained with either body or html or only one, but if both are specified, the columns will be included in the columns. , It doesn't work.<br><br>Depending on the property specified, it will be output to both, and there are cases that work well and cases that do not work.<br><br>The same problem occurred when the attribute specified in the heading was output to both section and h1-h6. However, it was used to do so, as is the case with pandoc's section-divs feature.<br>So, it's up to you to think about doing the same for the class of the root element and the body element.|
