# 2022-02-25

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|10:29|![](https://secure.gravatar.com/avatar/fe16627d598def67b736c8d88a9bb84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png)|井二かける|VFMで、`{ＣＳＩＲＴ|シーサート}` と書いてもルビにならないという挙動を見つけたのですが、最小再現条件を洗い出す時間を取れないので、ひとまずここに書いておきます。|
|10:29|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: In VFM, I found the behavior that it does not become ruby even if I write `{CSIRT | CSIRT}`, but I can not take the time to find out the minimum reproduction condition, so I will write it here for the time being.|
|13:57|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|HTML blockが関係してないですか？ たとえば<br><br>```&lt;div class="foo"&gt;<br>{RUBY|ルビ}<br>&lt;/div&gt;<pre>では、`{RUBY|ルビ}` はHTML blockの中にあるので（Markdown構文が処理されないので）ルビにはなりません。次のように空白行を入れると、HTML blockが空白行で終わるのでルビになります：<br></pre>&lt;div class="foo"&gt;<br><br>{RUBY|ルビ}<br><br>&lt;/div&gt;```<br>ただし、空白行にスペース文字がある場合に次の既知の問題があります<br><https://github.com/vivliostyle/vfm/issues/135><br><blockquote>*Issue Details*<br><br>VFMが準拠するCommonMark仕様で、<https://spec.commonmark.org/0.30/#html-blocks|HTML block>の終了条件として<br><br><blockquote>End condition: line is followed by a <https://spec.commonmark.org/0.30/#blank-line|blank line>.</blockquote>とあります。また、blank-line の定義として<br><br><blockquote>A line containing no characters, or a line containing only spaces (U+0020) or tabs (U+0009), is called a blank line.</blockquote>とあります。<br><br>したがって次のような HTML block の例で<br><br><pre>&lt;div class="custom"&gt;<br>  <br>  - List Item<br>  <br>&lt;/div&gt;</pre><br><br>`- List Item` の上の空白行に space (U+0020)があってもなくても結果は変わらないはずです。<br><br>しかし、vfmで試すとspaceがある場合、次の結果になります：<br><br><pre>&lt;div class="custom"&gt;- List Item&lt;/div&gt;</pre><br><br>spaceがない場合は次のように期待どおりの結果になります:<br><br><pre>&lt;div class="custom"&gt;<br>  &lt;ul&gt;<br>    &lt;li&gt;List Item&lt;/li&gt;<br>  &lt;/ul&gt;<br>&lt;/div&gt;</pre></blockquote>|
|13:57|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Isn't the HTML block involved? for example<br><br>`` `&amp; lt; div class =" foo "&amp; gt;<br>{RUBY | Ruby}<br>&amp; lt; / div &amp; gt; `` ``<br>Now, since `{RUBY | ruby}` is inside the HTML block, it will not be ruby (because the Markdown syntax is not processed). If you put a blank line like this, the HTML block ends with a blank line, which makes it ruby:<br><br>`` `&amp; lt; div class =" foo "&amp; gt;<br><br>{RUBY | Ruby}<br><br>&amp; lt; / div &amp; gt; `` ``<br>However, there are the following known issues when there is a space character on a blank line:<br><https://github.com/vivliostyle/vfm/issues/135>|
