# 2020-01-20

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|07:47|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|皆さんはじめまして (一部の方はいつもお世話になっております！)、文書・出版物向けの Markdown の拡張フォーマットをこちらでされていると聞いてきました。宜しくお願いします。<br><br>まだ書籍出版はオライリー独自マークアップ以外は編集者に任せるものor re:view 少しで最近のシステムの経験不足ですが、Markdown原稿でサイトやドキュメントを執筆することが多いがレイアウト機能に不足を感じており、高度なレイアウト機能も必要とする出版物利用の前提で Markdown フォーマットを議論・策定するこちらが参考になると期待しています (オンラインサイトと書籍の同時作成もできるようになればなお良いという期待なども)。|
|07:47|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Nice to meet you (some of you are always taking care of me!) I've heard that you are using Markdown's extended format for documents and publications here. Thanking you in advance.<br><br>Book publishing is still left to the editor except for O'Reilly's own markup or re: view Although it is a little short of recent system experience, I often write sites and documents with Markdown manuscripts, but I feel lacking in layout functions It is hoped that this will be useful for discussing and formulating the Markdown format on the premise of using a publication that also requires an advanced layout function (It would be better if it became possible to simultaneously create online sites and books. Well as).|
|08:19|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|何を何処で何処まで議論されているのか読み切れてないのですが、質問 or 未定事項の議論はこちらより vfm repo の issue でする方が良い感じでしょうか(何も考えずにガンガン issue に書いていくと良い感じですか)？<br><br>具体的にはベースとする仕様 (commonmark? でよい? )、リファレンス実装 (viola への組み込みまで含めて用意?)、gfm や markdown-itなどとの互換性あるいはmarkdown以外のフォーマットとの親和性を考慮する範囲、個別拡張機能の書式と実装の議論、voila や一般の web app (vuepress とか) での利用方法 ... とか色々気になる・議論していくのだろうと想定しています。|
|08:19|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I haven't read what and where and how much is being discussed. Do you feel good?)<br><br>To be more specific, the base specification (commonmark? Is acceptable?), Reference implementation (prepare including including in viola), compatibility with gfm, markdown-it, etc., or compatibility with formats other than markdown? It is assumed that there will be discussions on the range of consideration, the format and implementation of individual extensions, how to use it with voila and general web apps (such as vuepress) ... and so on.|
|08:22|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|このチャンネルは議論方針の議論や連絡をする場で、具体的な Markdown と HTML 変換則やその提案は GitHub issues (vfm) で実施するほうがよいと思います。|
|08:22|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: This channel is a place for discussion and communication of discussion policy, and it is better to implement specific Markdown and HTML conversion rules and proposals on GitHub issues (vfm).|
|08:24|![](https://avatars.slack-edge.com/2020-01-22/916403977808_18dc4c6c299ded1b6018_72.png)|uetchy|いま草案をまとめてベース実装の準備をしているところです。今後Issueを立てるのでそちらで議論しましょう！|
|08:24|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: We are currently preparing a draft for the base implementation. We will set up an issue in the future, so let's discuss it there!|
|08:24|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle の Slack で public になっているものは私が不定期に (だいたい開発者会議の一週間後ぐらい) <https://github.com/vivliostyle/discussion/wiki/Slack> へログを公開しています。<br>しかしこれは「ログ」なのでアクティブな議論としては GitHub issues のほうがよいでしょう。|
|08:24|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: For Vivliostyle's Slack that is public, I occasionally publish logs to <https://github.com/vivliostyle/discussion/wiki/Slack> (about a week after the developer meeting) You.<br>But since this is a "log", GitHub issues is a better active discussion.|
|08:28|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|具体的な議論は `@uetchy` さんの草案をもって開始するとして、<br><br>• 「Vivliostyleで本を作ろう Vol.2」のプロジェクト <https://github.com/spring-raining/tbf07-draft><br>• ↑の元になった私のリポジトリ <https://github.com/akabekobeko/env-create-book><br>では GFM + α という感じでした。<br><blockquote>spring-raining/tbf07-draft</blockquote>|
|08:28|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: The specific discussion will begin with his draft,<br><br>• “Let's make a book with Vivliostyle Vol.2” project <https://github.com/spring-raining/tbf07-draft><br>• My repository from which ↑ was created <https://github.com/akabekobeko/env-create-book><br>Then it was like GFM + α.|
|08:28|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|分かりましたっ！github 側は english ですよね？<br>あまり空気を読まず (実装進捗や難易度・優先順位気にせず) ひとまず勝手にポコポコ issue 立てるかも知れませんが、程よく tag/milestone 設定などしていって頂ければ幸いです。|
|08:28|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I understand! github is english, right?<br>I don't read the air too much (I don't care about the progress, difficulty, and priority). You may make a Pokopoko issue on your own, but I'd be grateful if you set tag / milestone appropriately.|
|08:36|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|GitHub issues 上の言語をどうするか？は方針をどこかに明記したほうがよいですね `@shinyu` `@ogwata` `@uetchy`<br>前回の開発者会議でも少し議論されましたが、明確な結論はなかったと思います。<br><br>• Slack では Kiara Translation による自動対訳を利用できますが、GitHub issues でそれをどうするか？<br>• 書きやすい言語で書いて気が向いたら翻訳する？<br>など。|
|08:36|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: What to do with the language on GitHub issues? It is better to specify your policy somewhere<br>Although it was discussed a bit at the last developer meeting, I think there was no clear conclusion.<br><br>• Automatic translation by Kiara Translation is available in Slack, but what to do with GitHub issues?<br>• Written in an easy-to-write language and translate it if you like?<br>Such.|
|08:37|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|GFM が慣れている人は多いけど GFM の実装って<br><https://github.com/github/cmark-gfm/><br>だったと思いますがこれを使ってるのでないかぎり「GFM っぽい完全互換では無いかも知れない何か」になりそうなんですよね (なかなか完全互換の実装がない)<br><br>Viola などにも組み込むでしょうから、実際どの実装を使うのかも意識しつつ何をベースにするのか議論した方が良いのかなと思っています。<br>というのがベース仕様の議論の issue とか立てないとかなって思っている背景です。|
|08:37|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Many people are familiar with GFM, but how to implement GFM<br><https://github.com/github/cmark-gfm/><br>I think that unless it is used, it is likely to be "something that may not be fully compatible like GFM" unless you use it (it is not quite possible to have a fully compatible implementation)<br><br>Since it will be incorporated into Viola etc., I think that it is better to discuss what to base on while being aware of which implementation to use.<br>That's the background that I think is not going to be an issue in the discussion of the base specification.|
|08:37|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|<blockquote> 「GFM っぽい完全互換では無いかも知れない何か」になりそうなんですよね (なかなか完全互換の実装がない)</blockquote>前述の実装だとそうなっています。remark とそのプラグイン依存です。|
|08:38|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: &amp; gt; It is likely to be "something that may not be fully compatible like GFM" (There is no quite compatible implementation)<br>That is the case with the implementation described above. Depends on remark and its plugin.|
|08:38|![](https://avatars.slack-edge.com/2020-01-22/916403977808_18dc4c6c299ded1b6018_72.png)|uetchy|Viola → Vivliostyle Pub 😘|
|08:38|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Viola → Vivliostyle Pub: kissing_heart:<br>🇯🇵: Viola→Vivliostyle Pub：kissing_heart：|
|08:38|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|ちょうどコード見てて remark + plugins だなと理解しました:<br><https://github.com/akabekobeko/env-create-book/blob/b36451856026e630dea72652ee1b8c7894c31288/src/build/md2html.ts><br><blockquote><pre>import unified from 'unified'<br>import markdown from 'remark-parse'<br>import rehype from 'remark-rehype'<br>import frontmatter from 'remark-frontmatter'<br>import parseFrontmatter from 'remark-parse-yaml'<br>import crossref from '@paperist/remark-crossref'<br>import ruby from 'remark-ruby'<br>import stringify from 'rehype-stringify'<br>import raw from 'rehype-raw'<br>import format from 'rehype-format'<br>import { highlight, copyFrontmatter, doc, linkMd2Html } from './remark'<br>import { code, crossReference, image } from './rehype'<br><br>/**<br> * Convert markdown to HTML.<br> * @param md Markdown text.<br> * @param relativePath Relative path from root directory.<br> */<br>const md2html = (md: string, relativePath: string): Promise&lt;string&gt; =&gt; {<br>  return new Promise((resolve, reject) =&gt; {<br>    unified()<br>      .use(markdown, { footnotes: true })<br>      .use(frontmatter, ['yaml', 'toml'])<br>      .use(parseFrontmatter)<br>      .use(copyFrontmatter as any)<br>      .use(highlight as any)<br>      .use(linkMd2Html as any)<br>      .use(crossref as any)<br>      .use(ruby)<br>      .use(rehype, {<br>        allowDangerousHTML: true,<br>        handlers: {<br>          code,<br>          crossReference,<br>          image<br>        }<br>      })<br>      .use(doc as any, { relativePath })<br>      .use(raw)<br>      .use(format)<br>      .use(stringify)<br>      .process(md, (err, file) =&gt; {<br>        if (err) {<br>          reject(err)<br>        } else {<br>          resolve(String(file))<br>        }<br>      })<br>  })<br>}<br><br>export default md2html<br></pre></blockquote>|
|08:38|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Just looking at the code, I realized that it was remark + plugins:<br><https://github.com/akabekobeko/env-create-book/blob/b36451856026e630dea72652ee1b8c7894c31288/src/build/md2html.ts>|
|08:42|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|viola の方はまだ現状の実装見て無いのですが、いずれにしても何らかのリファレンス実装をすることや、他でも使ってもらうためには remark なり markdown-it なり広く使われてるツールにプラグインを提供していくことになるだろうから、仕様・実装両方考えつつベース仕様・リファレンス実装対象など決めて、それに対する標準採用プラグイン、独自拡張機能実装などの議論なのかなと想定しています。|
|08:42|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Although viola has not seen the current implementation yet, in any case, in order to do some reference implementation, or to have others use it, plug in a remark or markdown-it or a widely used tool Since it will be provided, it is assumed that the discussion will be on standard specifications and reference implementation targets while considering both specifications and implementation, and that there will be discussions on standard adoption plug-ins and original extension function implementation.|
|08:42|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|前回の開発者会議で挙げられた内容だと<br><br>• HTML (DOM) 側ではあまり特殊なこと (独自 class の定義など) はしない<br>• 基本的に `&lt;nav&gt;` や `&lt;section&gt;` といった HTML 標準のタグを利用<br>• GFM のように HTML を埋め込めれば、特殊な用途はそれで対応可能だろう<br>という感じでした。GFM というより GFM が実質標準といえるぐらい普及してて、それが HTML 埋め込みをサポートしているので、標準の変換則で無理をせずともそれで特殊用途もまかなえるだろう、という提案ですね。|
|08:42|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: According to the contents mentioned at the last developer meeting<br><br>• Don't do anything special on the HTML (DOM) side (such as defining your own classes)<br>• Basically use HTML standard tags such as `&amp; lt; nav &amp; gt;` and `&amp; lt; section &amp; gt;`<br>• If you can embed HTML like GFM, special applications will be able to handle it<br>It was that kind of feeling. It's a proposal that GFM is so popular that it can be said to be a real standard rather than GFM, and that it supports HTML embedding, so that it can cover special uses without overcoming the standard conversion rules.|
|08:43|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|具体的な議論は `@uetchy` さんの草案を待つとして、前回の開発者会議を踏まえた現時点の私の認識としては↑のような感じです。|
|08:43|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: The specific discussion is waiting for the draft of, but my current perception based on the last developer meeting is like ↑.|
|08:45|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|<https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/ja/vivliostyle-user-group-vol2> では脚注なども追加してますね。<br>GFM (他のものでもよいが普及してるもの) をベースに、こういう書籍として一般的なものの増減を議論してゆくのだと思います。|
|08:45|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: <https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/ja/vivliostyle-user-group-vol2> also adds footnotes.<br>I think that we will discuss the increase and decrease of these books in general, based on GFM (other things may be popular).|
|08:49|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|私が <https://github.com/akabekobeko/env-create-book> を実装した時は <https://www.gatsbyjs.org/packages/gatsby-transformer-remark/> 関連を参考にしました。<br>Markdown 先頭に YAML でメタデータを記述できるようになっています。これは特殊な部分ですね。これを採用するかも議論の余地があります。|
|08:50|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: When I implemented <https://github.com/akabekobeko/env-create-book>, I referred <https://www.gatsbyjs.org/packages/gatsby-transformer-remark/> related .<br>Markdown The metadata can be described in YAML at the top. This is a special part. Adopting this is also debatable.|
|08:50|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|なるほど分かりました！ありがとうございます。<br>草案待ってそれ読ませていただいて考えます。<br><br>因みに私は「特殊な用途」はHTML埋め込みで良いじゃん、とは思っていない人です。ちょっとこの画像だけ右に float したいとかサイズ調整したいとか全て結局 CSS 適用が必要 = id/class 指定が必須だけど CommonMark/GFM 標準ではそれができず、HTML 埋め込みの嵐か変換後の HTML に class 付与作業が別途必要とかなるので。<br><br>もう一つ大きいのが HTML 一度埋め込んだらその中に markdown が書けないという制約で、markdown / html / markdown の入れ子を書く方法を定義しないと markdown 現行での組版 (あるいはページ作成) は超単純なレイアウトしかできないから使えないということになると感じてます。<br><br>いやその辺はこうすればできるよってのがあれば知りたい＆採用していけば良いと思ってます。|
|08:50|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I see! Thank you very much.<br>I will wait for the draft and read it.<br><br>By the way, I'm a person who doesn't think that "special use" is good with HTML embedding. If you just want to float this image to the right or adjust the size, you need to apply CSS after all = id / class specification is required, but it can not be done with CommonMark / GFM standard, it is not possible to embed HTML or convert HTML to class Is necessary separately.<br><br>Another big limitation is that once HTML is embedded, markdown cannot be written in it. If you do not define how to nest markdown / html / markdown, the current typesetting (or page creation) is very simple layout. I feel that it can not be used because it can only be done.<br><br>No, if there is something I can do in this way, I would like to know &amp; adopt it.|
|08:52|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|frontmatter も議論の余地があると思いますが markdown へのメタデータ付与としては結構標準的で広がってるから良いだろう、すくなくとも frontmatter 必須のシステムが多くあるのと互換性は保持すべきかと思っています。|
|08:52|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I think that frontmatter is also controversial, but it is good to add metadata to markdown because it is quite standard and spread, I think that compatibility should be maintained at least because there are many systems that require frontmatter at least .|
|08:53|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|私個人の案ですが、標準 HTML 変換 (HTML 埋め込みを利用しない) で特殊な CSS を適用する方法として、さきほどのメタデータを応用できないか？と考えています。<br>基本的に独自 class は使用しないのですが、例えばメタデータに author を定義すると、その値が `&lt;body id="author"&gt;` のようになって、そのページだけこれにぶら下がる特殊な CSS セレクターを書ける、という感じで。|
|08:53|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: As a personal idea, can I apply the above metadata as a way to apply special CSS with standard HTML conversion (without using HTML embedding)? I believe.<br>Basically, you do not use your own class, but for example, if you define author in the metadata, its value will be `&amp; lt; body id =" author "&amp; gt;` You can write CSS selectors.|
|08:54|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|<https://github.com/akabekobeko/env-create-book> ではページごとの CSS 分岐ようにメタデータを設け、id 適用してます。|
|08:54|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: In <https://github.com/akabekobeko/env-create-book>, metadata is set for CSS branching for each page, and id is applied.|
|08:54|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|つまり HTML として特殊なことはしないが、CSS セレクターでがんばるという方法ですね。|
|08:54|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: In other words, it doesn't do anything special as HTML, but it does its best with CSS selectors.|
|08:55|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|これも今後、議論してゆきましょう|
|08:55|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Let's discuss this in the future|
|08:57|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|これをもう少し発展させるとプリプロセスとしてメタデータから HTML の狙った箇所に id や class を指定して、メタプログラミングすることもできますね。実際にやるかは別として。|
|08:57|![](https://secure.gravatar.com/avatar/8adee9b4425232f1c23d6592a5d8c807.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png)|dynamis|はい、markdown ファイル単位で指定できる部分私も frontmatter に書くのが良いと思ってます！ ただファイルより下の範囲をどうするかが結局、レイアウト調整で難しいところでそのための検討が必要だろうな、したいなと。<br>(と書いていくとエンドレスでまとまりがなくなるので一旦落ち着いて草稿待ちします。(笑))|
|08:57|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: If you develop this a little further, you can also perform meta-programming by specifying an id or class at the target location of HTML from metadata as a pre-process. Apart from actually doing it.|
|08:57|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Yes, the part that can be specified in the markdown file unit I think it is good to write in frontmatter! However, what should be done in the area below the file is, after all, it is difficult to adjust the layout, so we need to consider it.<br>(If you write this, it will be endless and disorganized, so calm down and wait for the draft. (Laugh))|
