# 2021-04-03

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|06:52|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|グローバルなカウンタは可能です。次のCSSを試してみてください。<br>```/* 全エントリで一番最初のページのみに適用 */<br>@page :first {<br>  counter-reset: chapter;<br>}<br>/* 各エントリの最初のページに適用 */<br>@page :nth(1) {<br>  counter-increment: chapter;<br>}<br>h1::before {<br>  content: "第" counter(chapter) "章";<br>}```<br>page context (`@page`)で定義されたカウンタは、page context 以外ではスコープが違うので counter-increment できません。したがって `h1 { counter-increment: chapter; }` ではなく `@page :nth(1) { counter-increment: chapter; }`  とする必要があります。|
|06:52|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|🇬🇧: Global counters are possible. Try the following CSS.<br>`` `/ * Applies only to the very first page of all entries * /<br>@page: first {<br>  counter-reset: chapter;<br>}<br>/ * Applies to the first page of each entry * /<br>@page: nth (1) {<br>  counter-increment: chapter;<br>}<br>h1:: before {<br>  content: "Chapter" counter (chapter) "Chapter";<br>} ```<br>The counter defined by page context (`@ page`) cannot be counter-increment because the scope is different except for page context. Therefore, it should be `@ page: nth (1) {counter-increment: chapter;}` instead of `h1 {counter-increment: chapter;}`.|
|08:25|![](https://avatars.slack-edge.com/2020-10-24/1474758134528_58d03798bcb64d811fc4_72.jpg)|Ayumu Takai|情報ありがとうございます。この方法で実現できることを確認いたしました。<br><br>自分もこの問題にあたって、自家用版のスクリプト処理で無理矢理解決していたので、FAQに載せてもらうか@vivliosytle/theme-bunko などで取り込んでもらうとサンプルとして有用だと思います。|
|08:25|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|🇬🇧: Thank you for the information. We have confirmed that this method can be achieved.<br><br>I myself never forcibly understood this problem with the script processing of the private version, so I think that it is useful as a sample if you have it posted in the FAQ or imported by @ vivliosytle / theme-bunko.|
|13:01|![](https://secure.gravatar.com/avatar/b2dffef7ce30f6f8f399f2a172229711.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png)|yamasy1549|なるほどです。表紙→自動生成の目次→本文　みたいな並びのときは難しそうですが、シンプルな構成だとこれでできそうですね、ありがとうございます！|
|13:01|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|🇬🇧: I see. It seems to be difficult when the order is like cover → automatically generated table of contents → text, but with a simple structure it seems that this can be done, thank you!|
