# 2021-02-08

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|07:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|質問です。仕事でちょっとした Markdown を PDF 化したいと思って create-book を使用してみました。<br>```$ npm create book sample<br>? description Sample<br>? author name oonuma<br>? author email <mailto:akabekobeko@gmail.com|akabekobeko@gmail.com><br>? license ISC<br>? choose theme @vivliostyle/theme-techbook - Techbook (技術同人誌) theme<br><br>$ cd sample<br>$ npm run build```<br>この theme だと「吾輩は猫である」が PDF 出力されます。しかし最初のページ以降は空白ページにとなっていますが、なにかオプション指定などが不足しているのでしょうか？|
|07:18|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I have a question. I wanted to convert a little Markdown to PDF at work, so I tried using create-book.<br>`` `$ npm create book sample<br>? description Sample<br>? author name oonuma<br>? author email <mailto: akabekobeko@gmail.com | akabekobeko@gmail.com><br>? license ISC<br>? choose theme @ vivliostyle / theme-techbook --Techbook (Technical Doujinshi) theme<br><br>$ cd sample<br>$ npm run build```<br>With this theme, "I am a cat" is output as a PDF. However, since the first page is a blank page, is there something missing in the option specification etc.?|
|07:19|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|自分で書いた Markdown でこの状態だったので初期状態の「吾輩は猫である」に戻しましたが同様でした。|
|07:19|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Since it was in this state with Markdown I wrote myself, I returned to the initial state "I am a cat", but it was the same.|
|07:21|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|もしかするとこれ関連ですかね？create-book は `npm create book`としていますがインストール部分は `yarn install v1.22.10`<br>となっているので。<br><br>vivliostyle-viewport*.css files are not loaded (when installed with Yarn) · Issue #136 · vivliostyle/vivliostyle-cli<br><https://github.com/vivliostyle/vivliostyle-cli/issues/136><br><blockquote>Yarn を使ってインストールしたとき、この問題に気がつきました。  <br>`yarn create book xxxx` あるいは `yarn global add @vivliostyle/cli` でインストールされた Vivliostyle CLI を実行したとき vivliostyle-viewport.css や vivliostyle-viewport-screen.css がロードされないために、ページの出力に問題が生じます。<br><br>vivliostyle preview を起動して Chromium の DevTools で確認すると、  <br>`file:///Users/shinyu/mybook/node_modules/@vivliostyle/cli/node_modules/@vivliostyle/core/resources/vivliostyle-viewport.css`  <br>などをロードしようとして、FILE NOT FOUND になってます。  <br>`@vivliostyle/cli/node_modules/` の下に `@vivliostyle/core/` は存在しません。<br><br>次のところの相対URLの指定でこの問題が起きています：  <br><br><https://github.com/vivliostyle/vivliostyle-cli/blob/1b220fc7195aa011b7430eb399a8413e98f6dc09/broker/index.html#L34-L43|vivliostyle-cli/broker/index.html><br><br>Lines 34 to 43 in &lt;/vivliostyle/vivliostyle-cli/commit/1b220fc7195aa011b7430eb399a8413e98f6dc09|1b220fc&gt;</blockquote>|
|07:21|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Maybe this is related? create-book is `npm create book`, but the installation part is` yarn install v1.22.10`<br>Because it is.<br><br>vivliostyle-viewport * .css files are not loaded (when installed with Yarn) · Issue # 136 · vivliostyle / vivliostyle-cli<br><https://github.com/vivliostyle/vivliostyle-cli/issues/136>|
|07:22|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|はい、その問題でしょう。これと同様:<br><https://twitter.com/phasetrbot/status/1358414828331626496><br><blockquote>vivliostyle、previewだときちんと全ページ出るのだが、vivliostyle buildでPDFが2ページしか出てこない。何故だろう。</blockquote>|
|07:22|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Yes, that's the problem. Similar to this:<br><https://twitter.com/phasetrbot/status/1358414828331626496>|
|07:24|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|そうなると create-book のセットアップ自体が `yarn install` を内包しているため、現状だと対策 (村上さん提案の `npm install` 切り替え) はできないですかね。|
|07:24|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: In that case, the setup of create-book itself includes `yarn install`, so under the current circumstances, it is not possible to take measures (switching to` npm install` proposed by Mr. Murakami).|
|07:29|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|vivliostyle-cli が修正されて、それから create-book も更新されないと解決しません。create-bookは<br><https://github.com/vivliostyle/create-book/blob/master/templates/default/package.json><br>```"@vivliostyle/cli": "next",```<br>になってます。nextは "v3.0.0-rc.1" なので、これをlatestに直さないと最新の v3.0.x にはならないため。<br><blockquote><pre>{<br>  "name": "{{kebab name}}",<br>  "description": "{{name}}",<br>  "version": "0.0.0",<br>  "author": "{{contact}}",<br>  "scripts": {<br>    "build": "vivliostyle build",<br>    "preview": "vivliostyle preview"<br>  },<br>  "dependencies": {<br>    "@vivliostyle/cli": "next",<br>    "{{theme.name}}": "^{{theme.version}}"<br>  },<br>  "license": "{{license}}",<br>  "private": true<br>}<br></pre></blockquote>|
|07:30|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: It will not be resolved unless vivliostyle-cli is fixed and then create-book is also updated. create-book is<br><https://github.com/vivliostyle/create-book/blob/master/templates/default/package.json><br>```" @ vivliostyle / cli ":" next ",` ``<br>It has become. Since next is "v3.0.0-rc.1", it will not be the latest v3.0.x unless it is changed to latest.|
|07:31|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ありがとうございます。create-book、放置していますが私が引き継ぐことになっているのでこちらで package.json 更新してみましょうか？|
|07:31|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: thanks you. I've left create-book, but I'm supposed to take over, so why not update package.json here?|
|07:34|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://www.npmjs.com/package/create-book><br>を見ると Collaborators が `@uetchy` さんだけになっています。uetchyさんにCollaboratorsに加えてもらう必要があるのでないかと思います。<br><blockquote>The fastest way to start writing book with Vivliostyle ecosystem.</blockquote>|
|07:34|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: <https://www.npmjs.com/package/create-book><br>If you look at, there is only Collaborators. I think we need to have uetchy add to Collaborators.|
|07:42|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|create-book が依存する <https://github.com/uetchy/create-create-app|create-create-app> のバグについてpull reqしてるのですが、忙しいようで、なかなか見てもらえていない <https://github.com/uetchy/create-create-app/pull/26><br><br>できればakabekoさんにそれもCollaboratorになってもらって、 `@uetchy` さんが対応できなくても更新リリースできるようになるとありがたい。<br><blockquote>uetchy/create-create-app</blockquote><br><blockquote>[uetchy/create-create-app] #26 fix: avoid crashes when .gitconfig exists but user is not set</blockquote>|
|07:42|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I'm pulling req about the bug of <https://github.com/uetchy/create-create-app | create-create-app> that create-book depends on, but it seems to be busy and I haven't seen it easily. <https://github.com/uetchy/create-create-app/pull/26><br><br>If possible, I would be grateful if akabeko could become a Collaborator so that I could release updates even if he couldn't handle it.<br><blockquote>[uetchy/create-create-app] #26 fix: avoid crashes when .gitconfig exists but user is not set</blockquote>|
|07:43|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|そうですね。連絡手段はどうするのがよいでしょう？村上さんから連絡がつくのであればお願いしてよいですか？|
|07:43|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: I agree. What is the best way to contact you? May I ask if Mr. Murakami can contact me?|
|07:44|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|GitHub リポジトリーとしては私も Admin 権限があり、developers に Write 権限もありますね。npmjs 側を追加依頼ですか。|
|07:44|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: As a GitHub repository, I also have Admin privileges, and developers also have Write privileges. Are you requesting to add the npmjs side?|
|07:48|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|あと念の為、全プロジェクトで村上さんも publish 権 (Admin 権？) をもらっておきましょう。実際に開発や publish をしないとしても権限操作はリーダーの村上さんもできたほうがよいです。|
|07:48|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: To be on the safe side, let's get Murakami-san's publish right (Admin right?) For all projects. Even if you do not actually develop or publish, it is better for the leader, Mr. Murakami, to be able to operate the authority.|
