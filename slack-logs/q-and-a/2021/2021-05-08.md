# 2021-05-08

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|07:19|![](https://avatars.slack-edge.com/2021-04-29/2027183174321_81cf0bfcb020e361849d_72.png)|山野上御光|お世話になります。<br>Vivliostyle create bookを利用させていただいております。<br>章番号を表現したく、自作カウンターを作ってみているのですが、Markdownファイル（mdファイル）が別だとカウンターがリセットされてしまい、困っております。<br>ページ番号カウンタ `page` のようなグローバル(?)なカウンタを自作するにはどのようにすればよいでしょうか。<br><br>[試した実装]<br>1. テーマ `@vivliostyle/theme-techbook` をコピーして自作テーマを作成<br>2. `vivliostyle.config.js` の `theme` に 1で作成した自作テーマを指定して適用<br>3. `theme.css` のbodyタグのcssを下記に修正（cPart cChapter cSectionの3つが追加カウンタ）<br>```body {<br>  counter-reset: section subsection fig tbl footnote cite cPart cChapter cSection;<br>}<pre>  4. `theme.css` に下記を追記</pre>h2:before {<br>  counter-increment: cPart;<br>  content: counter(cPart) ".";<br>}<br><br>h3:before {<br>  counter-increment: cChapter;<br>  content: counter(cPart) "-" counter(cChapter) ".";<br>}<br><br>h4:before {<br>  counter-increment: cSection;<br>  content: counter(cPart) "-" counter(cChapter) "-" counter(cSection) ". ";<br>}<pre>自作カウンタ `cPart` `cChapter` `cSection` の初期化の書き方をbodyではなく下記のように書いてもダメでした。</pre>@page :first {<br>  counter-reset: cPart cChapter cSection;<br>}```<br>ご教示のほどお願いいたします。|
|07:19|![](https://avatars.slack-edge.com/2021-03-01/1807880975282_5c8ad89e782096649baa_72.png)|Kiara : Language Translation Bot|🇬🇧: Thank you for your help.<br>We are using the Vivliostyle create book.<br>I'm trying to make my own counter to express the chapter number, but I'm in trouble because the counter is reset if the Markdown file (md file) is different.<br>Page Number Counter How can I make my own global (?) Counter like `page`?<br><br>[Tried implementation]<br>1. Create your own theme by copying the theme `@ vivliostyle / theme-techbook`<br>2. Specify the self-made theme created in 1 in `theme` of` vivliostyle.config.js` and apply it.<br>3. Corrected the css of the body tag of `theme.css` to the following (three of cPart cChapter cSection are additional counters)<br>`` `body {<br>  counter-reset: section subsection fig tbl footnote cite cPart cChapter cSection;<br>} ```<br>  4. Add the following to `theme.css`<br>`` `h2: before {<br>  counter-increment: cPart;<br>  content: counter (cPart) ".";<br>}<br><br>h3: before {<br>  counter-increment: cChapter;<br>  content: counter (cPart) "-" counter (cChapter) ".";<br>}<br><br>h4: before {<br>  counter-increment: cSection;<br>  content: counter (cPart) "-" counter (cChapter) "-" counter (cSection) ".";<br>} ```<br>It was useless to write the initialization of the self-made counter `cPart`` cChapter` `cSection` as follows instead of the body.<br>`` `@ page: first {<br>  counter-reset: cPart cChapter cSection;<br>} ```|
