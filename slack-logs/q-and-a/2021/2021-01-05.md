# 2021-01-05

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:18|![](https://secure.gravatar.com/avatar/bce57b78a27111affe9a9a95fb793798.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|kauplan|MarkdonwファイルをHTMLに変換した直後（あるいはHTMLからPDFへ変換する前）に、HTMLファイルを改変する処理を入れたいのですが、どうすればいいでしょうか。<br><br>(1)  `*.md` を `*.html` へ変換<br>(2) `*.html` を改変  ← この処理を入れたい<br>(3) `*.html` を `*.pdf` へ変換<br><br>`node_modules/@vivliostyle/cli/dist/commands/build.js` を改変すればよさそうにも見えますが、自信はないです。<br><br>やりたいことは、プログラムコード &lt;pre&gt; タグの中の一部だけを強調したり、逆に一部だけをグレー表示することです。HTMLを改変するのが手っ取り早いと思い、質問しました。<br>ドキュメントを読むと`registerHook()`が見つかりましたが、たぶんこれは違うだろうなと思いました。|
|04:18|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Immediately after converting the Markdonw file to HTML (or before converting from HTML to PDF), I would like to add a process to modify the HTML file. What should I do?<br><br>(1) Convert `* .md` to` * .html`<br>(2) Modify `* .html` ← I want to include this process<br>(3) Convert `* .html` to` * .pdf`<br><br>It looks like it would be nice to modify `node_modules / @ vivliostyle / cli / dist / commands / build.js`, but I'm not confident.<br><br>What I want to do is to highlight only part of the program code &amp; lt; pre &amp; gt; tag, or gray out only part of it. I thought it would be quick to modify the HTML, so I asked a question.<br>I read the docs and found `registerHook ()`, but I thought maybe this wasn't the case.|
|05:08|![](https://secure.gravatar.com/avatar/bce57b78a27111affe9a9a95fb793798.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|kauplan|<ttps://vivliostyle.github.io/vfm/#/vfm#hard-new-line><br><br><blockquote>A newline puts &lt;br/&gt; to the end of a line.</blockquote>これを止めさせる方法はありますか？改行についてはLaTeXのような挙動にしたいです（主に原稿の都合上）。|
|05:08|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: &lt;ttps: //vivliostyle.github.io/vfm/#/vfm#hard-new-line&gt;<br><br>&amp; gt; A newline puts &amp; lt; br / &amp; gt; to the end of a line.<br>Is there a way to stop this? I want to behave like LaTeX for line breaks (mainly for the convenience of the manuscript).|
|05:33|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|現在の Create Book では Vivliostyle CLI のv3.0.0-pre版が使われていて、markdownからの変換が組み込まれているのですが、CLI v2では可能なHTMLからのCSS組版がうまくいかない問題などがあり、CLI v3.0の動作仕様について見直し作業中です：<br><https://github.com/vivliostyle/vivliostyle-cli/issues/86><br><br>この CLI v3.0ができるまでは、HTMLを編集して使う場合にはCLIの現行バージョンである v2.x を使う方がよいと思います。<br><br>vfmを使うのであればvfmは最新開発版(1.0.0-alpha.11)がおすすめ：<br>```npm install -g @vivliostyle/vfm@next<pre>vivliostyle-cliは現行リリースバージョン(2.1.2)</pre>npm install -g @vivliostyle/cli<pre>このようにしてvfmとvivliostyle/cliをインストールして、<br><br>markdownからhtml変換はvfmで</pre>vfm example.md &gt; example.html<pre>htmlを編集して、それからhtmlからpdfに</pre>vivliostyle build example.html -o example.pdf```<br>このような使い方をするのでどうでしょう？<br><blockquote>Vivliostyle CLI v3.0 new spec (proposal, WIP)  <br><https://github.com/vivliostyle/community/wiki/Vivliostyle-CLI-v3.0-new-spec|https://github.com/vivliostyle/community/wiki/Vivliostyle-CLI-v3.0-new-spec><br><br><blockquote>*Purpose*  <br>Revise the Vivliostyle CLI v3.0 spec to solve the issues found in the previous V3.0.0-pre-releases.  <br>（これまでのv3.0プレリリース版で見つかった問題を解決するため、CLI v3.0の仕様を改訂）</blockquote>Please review and comment here or related issues.</blockquote>|
|05:33|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: The current Create Book uses the v3.0.0-pre version of the Vivliostyle CLI, which incorporates conversion from markdown, but CLI v2 has problems such as CSS formatting from HTML not working. We are reviewing the operating specifications of CLI v3.0:<br><https://github.com/vivliostyle/vivliostyle-cli/issues/86><br><br>Until this CLI v3.0 is made, I think it is better to use the current version of CLI, v2.x, when editing and using HTML.<br><br>If you use vfm, we recommend the latest development version (1.0.0-alpha.11) of vfm:<br>`` `npm install -g @vivliostyle / vfm @ next```<br>vivliostyle-cli is the current release version (2.1.2)<br>`` `npm install -g @vivliostyle / cli```<br>Install vfm and vivliostyle / cli in this way,<br><br>Markdown to html conversion with vfm<br>`` `vfm example.md &amp; gt; example.html```<br>Edit html and then from html to pdf<br>`` `vivliostyle build example.html -o example.pdf```<br>How about using it like this?|
|06:21|![](https://secure.gravatar.com/avatar/bce57b78a27111affe9a9a95fb793798.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|kauplan|ありがとうございます。<br><br><blockquote>CLI v2では可能なHTMLからのCSS組版がうまくいかない</blockquote>ちょっと文意がとれなかったのですが、これは『CLI v2では可能な「HTMLからのCSS組版」がうまくいかない』ということですよね？『「CLI v2では可能なHTML」からのCSS組版がうまくいかない』という修飾関係かと思って少し悩みました。<br>一文が長すぎるので途中で分けて、『HTMLからのCSS組版は、現状のCLI v3では動作しませんがv2でなら動作します。』とすれば、紛らわしさのない文章になるかなと思いました。<br><br><blockquote>vfm example.md &gt; example.html<br>vivliostyle build example.html -o example.pdf</blockquote>これはファイル単位でPDFに変換するから、`npm run build` とは動作が違いませんか？<br>`npm run build` のように、複数のMarkdownファイル or HTMLファイルから1つのPDFファイルを作る方法を教えていただければと思います。<br>あるいは、`npm run build` が内部で発行しているコマンドをそのまま教えていただければと思います。<br><br>`vfm` と `vivliostyle` のヘルプメッセージを見ても、ファイル単位での変換しかできなさそうでした。|
|06:21|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: Thank you very much.<br><br>&amp; gt; CSS formatting from HTML is not possible with CLI v2<br>I couldn't get the word out, but this means that "CSS typesetting from HTML" that is possible with CLI v2 does not work, right? I was a little worried because I thought it was a modifier that "CSS typesetting from" HTML that is possible with CLI v2 "does not work".<br>Since one sentence is too long, I divided it in the middle and said, "CSS typesetting from HTML does not work with the current CLI v3, but it works with v2. I thought it would be an unmistakable sentence.<br><br>&amp; gt; vfm example.md &amp; gt; example.html<br>&amp; gt; vivliostyle build example.html -o example.pdf<br>Since this converts to PDF on a file-by-file basis, isn't it different from `npm run build`?<br>I would like to know how to make one PDF file from multiple Markdown files or HTML files like `npm run build`.<br>Or, just let me know the command that `npm run build` issues internally.<br><br>Looking at the help messages for `vfm` and` vivliostyle`, it seems that only file-by-file conversion is possible.|
|06:39|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|FAQの「複数のHTMLファイルから本を作るには？」<br><https://vivliostyle.org/ja/faq/#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8B%E3%82%89%E6%9C%AC%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%AB%E3%81%AF|https://vivliostyle.org/ja/faq/#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%[…]%89%E6%9C%AC%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%AB%E3%81%AF><br><blockquote>Vivliostyle — open source, web browser based CSS typesetting engine project</blockquote>|
|06:39|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|🇬🇧: <https://vivliostyle.org/ja/faq/#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8B%E3%82%89%E6%9C%AC%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%AB%E3%81%AF|https://vivliostyle.org/ja/faq/#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%[…]%89%E6%9C%AC%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%AB%E3%81%AF><br>🇯🇵: <https://vivliostyle.org/ja/faq/#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%A4 ％E3％83％AB％E3％81％8B％E3％82％89％E6％9C％AC％E3％82％92％E4％BD％9C％E3％82％8B％E3％81％AB％E3 ％81％AF | https：//vivliostyle.org/ja/faq/#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3 ％82％[…]％89％E6％9C％AC％E3％82％92％E4％BD％9C％E3％82％8B％E3％81％AB％E3％81％AF>|
