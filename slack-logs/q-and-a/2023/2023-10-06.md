# 2023-10-06

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|03:28|![](https://avatars.slack-edge.com/2022-08-21/3992344751120_5c9be0c9169540de7e40_72.jpg)|信国幸彦|EPUBのソースファイルからVivliostyle CLIでPDFを出力しようとしています。底本はB5判で300頁ほどです。同じシリーズ（同レイアウト）の220頁の本は問題なくbuildできましたが、今回はタイムアウトしてしまったので、タイムアウトを10分（--timeout 600）にしてbuildを実行しました。<br><br>すると、30分以上経ってもまだ`Building pages`のまま行頭の🌀が回っています。<br><br>• オプションの指定のしかたが間違っているでしょうか。<br>• とりあえず実行を止めるにはどうすればいいでしょうか。<br>• 問題はタイムアウト設定ではないようでメモリ不足を疑っています。現在24GBですが足りないでしょうか。|
|06:00|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|「タイムアウトを10分（--timeout 600）にしてbuildを実行」したのに10分で終了しないということは、何か問題があってプログラムがハングアップしていることが考えられます。<br><br>CLIの実行を止めるには、ターミナルで Ctrl+C を押します。<br><br>どこで問題が起きているのかを調べるには、buildではなくpreviewを使うとよいです。Chromiumブラウザ上で組版処理を確認できます。途中で処理の異常があると、ページのカウントが途中で止まったままになる、無限にページが増え続ける、"Oops..! Something Went Wrong." などと表示されてブラウザのタブが異常終了する、な異常を示す何かが出るかと思います。|
|09:38|![](https://avatars.slack-edge.com/2022-08-21/3992344751120_5c9be0c9169540de7e40_72.jpg)|信国幸彦|`@shinyu` さんありがとうございます。<br><br>previewを使うと、全体の9割くらい（450頁くらい。底本は300頁ほどですがVivliostyleで組ませたものは500頁くらいになるようです）まで読み込んだところで<br>```Aw, Snap!<br>Something went wrong while displaying this webpage.<br>Error code: Out of Memory```<br>と表示されます。<br><br>以前にも、Vivliostyleの処理はページ数が多かったりすると相当のメモリを消費するとうかがい、それからは軽いものだけを扱ってきたのですが、24GBくらいあれば足りるかと思って今回再度試してみました。<br><br>どれくらいの大きさのデータを扱うにはどの程度のメモリが必要とか、そのような目安はありますでしょうか。|
