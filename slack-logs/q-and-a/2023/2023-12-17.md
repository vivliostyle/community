# 2023-12-17

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|09:36|![](https://avatars.slack-edge.com/2023-12-10/6321856824018_56ec7eca8c404829c66c_72.jpg)|Sakusakumura|はじめまして。ページの大きさの設定と、ページの余白設定について質問があります。<br><br>まず、印刷所が配布している以下のテンプレートに従って、ページの大きさを266mm, 366mmにしようとしましたが、出力されるpdfの大きさがA4で固定されてしまいます。指定の仕方が間違っているのでしょうか？<br><br>次に、文字領域をテンプレートに合わせようと思ったのですが、`marks: crop cross`で表示されるトンボは`crop-offset`のみによって移動するようにみえます。トンボの位置を動かすのではなく、`margin-top`, `margin-bottom`, `margin-left`, `margin-right`によって文字領域を調整することを想定しているのでしょうか？また、この4つのプロパティで文字領域を調整する場合、裁断位置からマージンを取っているので、ページの縁からの距離で指定したいときに不便です。なので、何かもっと良いアプローチがありましたら教えて下さると嬉しいです。<br>https://vivliostyle.slack.com/files/U069FMWJJ2F/F06AL1GTDLL/a4_honbun_gray.psd<br>https://vivliostyle.slack.com/files/U069FMWJJ2F/F06AW6VKF1P/sample.pdf<br>https://vivliostyle.slack.com/files/U069FMWJJ2F/F06A31W9LCF/theme.css<br>https://vivliostyle.slack.com/files/U069FMWJJ2F/F06A31XC2P9/vivliostyle.config.js|
|13:05|![](https://avatars.slack-edge.com/2022-07-04/3777085476512_a8d3b37eee1f9c9519dc_72.png)|hidaruma|パッと見ですが、pageルールでのsizeの記述方法、幅と高さを取るときはデリミタは`,`ではなくスペースです|
|13:06|![](https://avatars.slack-edge.com/2022-07-04/3777085476512_a8d3b37eee1f9c9519dc_72.png)|hidaruma|<https://drafts.csswg.org/css-page/#page-size-prop>|
|13:56|![](https://avatars.slack-edge.com/2023-12-10/6321856824018_56ec7eca8c404829c66c_72.jpg)|Sakusakumura|確かにそうですね！ありがとうございます。<br>修正しましたが、変わりませんでした・・・|
|16:16|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|PDF（Sample.pdf）を見ると、ページサイズ（仕上がりサイズ）は指定されたとおり266mm x 366mmになっています。<br>「出力されるpdfの大きさがA4で固定されてしまいます」というのが確認できません。<br><br>文字領域（page area）は、仕上がりサイズからのmarginで指定されます。<br><br>もしかしたら、仕上がりサイズではなくてメディアサイズを基準にして指定したいということでしょうか？<br><br>CSS Paged Media仕様にそのような機能はありません。<br>Vivliostyleでは、crop-offsetの指定により仕上がりサイズを基準にしてその外側のメディアサイズとの距離を指定することはできます。crop-offsetについて:<br><https://github.com/vivliostyle/vivliostyle.js/issues/913><br><blockquote>Vivliostyle supports the <https://drafts.csswg.org/css-page-3/#marks|marks> and <https://drafts.csswg.org/css-page-3/#bleed|bleed> properties to generate page layout with crop marks. When this feature is used, the output page size (the MediaBox size in output PDF) becomes larger than the original page size (trim size).<br><br>The crop-offset setting (the distance between the edge of the trim size and the edge of the output page media size) is not yet standardized in the CSS-page spec, and Vivliostyle uses currently always 13mm + bleed size. It would be useful to be able to change this setting.<br><br>Antenna House Formatter has `-ah-crop-offset` property: <https://www.antenna.co.jp/AHF/help/en/ahf-ext.html#axf.crop-offset|https://www.antenna.co.jp/AHF/help/en/ahf-ext.html#axf.crop-offset><br><br>For Vivliostyle, a simple `crop-offset` property that sets single crop offset value for all sides will be sufficient in most cases.<br><br><pre>Name:    crop-offset<br>For:     @page<br>Value:   auto | <length><br>Initial: auto</pre><br><br>The initial value `auto` will be same as the current behavior, i.e., 13mm + bleed size when marks are specified otherwise same as bleed size.<br><br>Example:<br><br><pre>@page {<br>  size: 148mm 210mm;<br>  marks: crop cross;<br>  bleed: 3mm;<br>  crop-offset: 9mm;<br>}</pre></blockquote>|
