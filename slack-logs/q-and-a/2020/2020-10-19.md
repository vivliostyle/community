# 2020-10-19

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|07:03|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|vivliostyle-cli ã§ä»¥ä¸‹ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸã„å ´åˆã€<br><br>vivliostyle_doc/ja/vivliostyle-user-group-vol4 at gh-pages Â· vivliostyle/vivliostyle_doc<br><https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/ja/vivliostyle-user-group-vol4><br><br>ã‚³ãƒãƒ³ãƒ‰ã‚’ `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/artifacts/content/index.html` ã¨ã™ã‚‹ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¤§ããå´©ã‚Œã¾ã™ã€‚ã‹ã‚ã‚Šã« `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/` ã¨ã—ãŸå ´åˆã¯ Viewer å·¦ä¸‹ã®é€²æ—ãŒ Rendering... ã®ã¾ã¾ã«ãªã‚Š DevTools ã§ç¢ºèªã™ã‚‹ã¨ `Failed to load resource: the server responded with a status of 404 (Not Found)`  ãŒ 4 ä»¶ã§ã¦ãŠã‚Š `container.xml` ãªã©ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚ˆã†ã§ã™ã€‚<br><br>ä»¥ä¸Šã‚’è¸ã¾ãˆã¦è³ªå•ã§ã™ã€‚<br><br>1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã®ã‚½ãƒ¼ã‚¹ã¯ vivliostyle-cli ã§ç›´ã« preview/build å¯èƒ½ã§ã—ã‚‡ã†ã‹ï¼Ÿ<br>2. å¯èƒ½ãªå ´åˆã¯ vivliostyle-cli ã¸æŒ‡å®šã™ã¹ããƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æ•™ãˆã¦ãã ã•ã„|
|07:03|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: If you want to preview the following in vivliostyle-cli<br><br>vivliostyle_doc / ja / vivliostyle-user-group-vol4 at gh-pages Â· vivliostyle / vivliostyle_doc<br><https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/ja/vivliostyle-user-group-vol4><br><br>If you set the command to `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/artifacts/content/index.html`, the layout will be greatly corrupted. If you set `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/` instead, the progress at the bottom left of the Viewer will remain Rendering ... and you can check it with DevTools` Failed to load resource: the There are 4 server responded with a status of 404 (Not Found) `and it seems that` container.xml` etc. cannot be found.<br><br>Based on the above, I have a question.<br><br>1. Is the source of this repository available for preview / build directly with vivliostyle-cli?<br>2. What parameters should I specify for vivliostyle-cli if possible?|
|07:03|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: If you want to preview the following in vivliostyle-cli<br><br>vivliostyle_doc / ja / vivliostyle-user-group-vol4 at gh-pages Â· vivliostyle / vivliostyle_doc<br><https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/ja/vivliostyle-user-group-vol4><br><br>If you set the command to `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/artifacts/content/index.html`, the layout will be greatly corrupted. If you set `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/` instead, the progress at the bottom left of the Viewer will remain Rendering ... and you can check it with DevTools` Failed to load resource: the There are 4 server responded with a status of 404 (Not Found) `and it seems that` container.xml` etc. cannot be found.<br><br>Based on the above, I have a question.<br><br>1. Is the source of this repository available for preview / build directly with vivliostyle-cli?<br>2. What parameters should I specify for vivliostyle-cli if possible?|
|07:19|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<blockquote>ã‚³ãƒãƒ³ãƒ‰ã‚’Â `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/artifacts/content/index.html`Â ã¨ã™ã‚‹ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¤§ããå´©ã‚Œã¾ã™ã€‚</blockquote>ã“ã®ç†ç”±ã¯ vivliostyle CLI ã® `--root` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒæ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚<br>```  -r, --root &lt;root_directory&gt;   specify assets root path (default directory of input file)<pre>æ¬¡ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹ã¨ã‚ˆã„ã§ã™:</pre>vivliostyle preview -r . -b ./vivliostyle_doc/ja/vivliostyle-user-group-vol4/artifacts/content/index.html <pre>ã‚ã‚‹ã„ã¯</pre>vivliostyle preview -b ./vivliostyle_doc/ja/vivliostyle-user-group-vol4/manifest.json```<br>ã§ã‚‚ã‚ˆã„ã§ã™ã€‚<br>ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆindex.html ã‚„ manifest.jsonï¼‰ã‚’æŒ‡å®šã—ã¦ã„ãªã„ã¨ã€bookModeã®å ´åˆã€EPUBã ã¨ä»®å®šã—ã¦ã€EPUBã«å¿…é ˆã®ãƒ•ã‚¡ã‚¤ãƒ« "META-INF/container.xml" ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ã ã‹ã‚‰ã€"404 (Not Found)" ã«ãªã‚Šã¾ã™ã€‚|
|07:19|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: If you set the &amp; gt; command to `vivliostyle preview -b ./vivliostyle/ja/vivliostyle-user-group-vol4/artifacts/content/index.html`, the layout will be greatly corrupted.<br>The reason for this is that the vivliostyle CLI's `--root` option defaults to:<br>`` `-r, --root &amp; lt; root_directory &amp; gt; specify assets root path (default directory of input file) ``` `<br>You can specify it as follows:<br>`` `vivliostyle preview -r. -b ./vivliostyle_doc/en/vivliostyle-user-group-vol4/artifacts/content/index.html` ``<br>Or<br>`` `vivliostyle preview -b ./vivliostyle_doc/ja/vivliostyle-user-group-vol4/manifest.json```<br>But it's okay.<br>If you don't specify a file name (index.html or manifest.json), bookMode will assume EPUB and try to load the required file "META-INF / container.xml" for EPUB. So it's a "404 (Not Found)".|
|07:23|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|`@shinyu` ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚æç¤ºã•ã‚ŒãŸæ–¹æ³•ã§æ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã—ãŸã€‚æ–¹æ³•ã¨ã—ã¦ã¯ `manifest.json` ã‚’æ¡ç”¨ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚|
|07:23|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§:  Thank you very much. I was able to confirm that it was displayed normally by the method presented. I would like to use `manifest.json` as the method.|
|07:23|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|â†‘ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç›´ã«æŒ‡å®šã™ã‚‹æ–¹æ³•ã€ã§ã™ã­ã€‚|
|07:23|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: â†‘ How to specify the file name directly, isn't it?|
|07:32|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ã‚‚ã†ä¸€ã¤è³ªå•ã§ã™ã€‚vivliostyle-cli ã® `-b --book` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§ã™ãŒã€ã“ã‚Œã‚’å˜ä¸€ HTML ã§å®Œçµã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦æŒ‡å®šã™ã‚‹ã“ã¨ã¯ä½•ã‹å‰¯ä½œç”¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿä¾‹ãˆã° <https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/samples/gutenberg/Alice.html> ã«å¯¾ã—ã¦ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æœ‰ç„¡ã‚’æ¯”è¼ƒã—ãŸã¨ã“ã‚ã€ç‰¹ã«å‹•ä½œã®é•ã„ã¯ãªã•ãã†ã§ã™ã€‚<br><br>Viewer ã§ã“ã‚Œã¯ Book ã«å¯¾å¿œã—ã¦ãŠã‚ŠæœªæŒ‡å®šãªã‚‰ Document ã«ãªã‚‹ã¨æƒ³å®šã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€UI ã®è£œè¶³èª¬æ˜ã§ Document å´ã ã‘ XHTML å˜ä½“ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨€åŠã—ã¦ã„ã‚‹ã®ã§ã€ã“ã®å ´åˆã ã‘ Book ã ã¨å‹•ä½œã«å•é¡ŒãŒã‚ã£ãŸã‚Šã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ|
|07:32|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: Another question. The `-b --book` parameter of vivliostyle-cli, is there any side effect of specifying this for content that is complete in a single HTML? For example, comparing the presence or absence of this parameter with <https://github.com/vivliostyle/vivliostyle_doc/tree/gh-pages/samples/gutenberg/Alice.html>, there seems to be no particular difference in behavior.<br><br>In Viewer, this corresponds to Book and it is assumed that it will be Document if it is not specified, but since the supplementary explanation of the UI mentions the XHTML single file only on the Document side, it works only in this case Is there a problem?|
|07:35|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|index.htmlãŒæ·±ã„éšå±¤ã«ã§ãã‚‹ã®ã¯Vivliostyle CLI 3.0-pre.x ã§ç”Ÿæˆã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ãŸã‚ã§ã™ãŒã€ãã‚Œã¯ç›´ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚<br><https://www.w3.org/TR/lpf/#sec-structure><br>ã“ã‚Œã«æº–æ‹ ã™ã‚‹å½¢å¼ã«ã—ã¦ index.html ã¨ publication.json ãŒåŒã˜ã¨ã“ã‚ã«ã§ãã‚‹ã‚ˆã†ã«ã€‚<br><blockquote>This section is non-normative.</blockquote>|
|07:35|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: The deep hierarchy of index.html is due to the directory structure generated by the Vivliostyle CLI 3.0-pre.x, which I would like to fix.<br><https://www.w3.org/TR/lpf/#sec-structure><br>Make index.html and publication.json the same place in a format that conforms to this.|
|07:43|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|å˜ä½“HTMLå†…ã§navè¦ç´ ãŒä½¿ã‚ã‚Œã¦ã„ã¦ãã®ä¸­ã«ä»–ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒªãƒ³ã‚¯ãŒã‚ã‚‹å ´åˆã€bookModeã ã¨ãã‚Œã‚‰ã‚‚ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚å˜ä½“HTMLã ã‘ã‚’ãƒ­ãƒ¼ãƒ‰ã—ãŸã„å ´åˆã¯ bookMode=false ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br><br>æœ€æ–°ã®vivliostyle coreã§ã¯navã‹ã‚‰ã®ãƒªãƒ³ã‚¯ãŒç›¸å¯¾URLã®ã¿ã“ã®å‹•ä½œã«ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ãŸã®ã§æ”¹å–„ã—ãŸã®ã§ã™ãŒã€ãã®ä¿®æ­£ã®å‰ã¯ã€å¤–éƒ¨ã‚µã‚¤ãƒˆã¾ã§ãƒ­ãƒ¼ãƒ‰ã—ã‚ˆã†ã¨ã—ã¦ãŸã„ã¦ã„ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã¾ã—ãŸã€‚|
|07:43|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: If nav elements are used in a single HTML and there are links to other HTML files in it, bookMode will also load them. If you want to load only plain HTML, you need to set bookMode = false.<br><br>In the latest vivliostyle core, I fixed it so that the link from nav only works with relative URL, so I improved it, but before that fix, I usually got an error when trying to load to an external site.|
|07:45|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚cli ã¯æœ€æ–° (v2.1.0) ãªã®ã§ä¿®æ­£åæ˜ ã•ã‚Œã¦ã„ãã†ã§ã™ãŒã€å‹•ä½œã®é•ã„ã«ã¤ã„ã¦ã¯æ„è­˜ã—ã¦ãŠãã¾ã™ã€‚|
|07:45|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: Thank you very much. Since cli is the latest (v2.1.0), it seems that the correction is reflected, but be aware of the difference in operation.|
|07:51|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/issues/657> ã®ä¿®æ­£ã§ core ã® 2.1.2-pre.1 (2020-09-24) ã‹ã‚‰åæ˜ ã•ã‚Œã¦ã¾ã™ã€‚æ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ãªã£ã¦ã‚‹ãªã‚‰OKã§ã™:<br>```$ vivliostyle --version<br>cli: 2.1.0<br>core: 2.1.3```<br><blockquote>*Describe the bug*<br><br>With `bookMode=true`, when TOC (e.g., the `&lt;nav&gt;` element) has links to external site, the CORS error occurs:<br><br><blockquote>"Received an empty response for https://.... This may be caused by the server not allowing cross-origin resource sharing (CORS)."</blockquote>*To Reproduce*<br><br>Test Vivliostyle Viewer with  <br><https://vivliostyle.org/viewer/#src=https://vivliostyle.org/&amp;bookMode=true&amp;renderAllPages=false|https://vivliostyle.org/viewer/#src=https://vivliostyle.org/&amp;bookMode=true&amp;renderAllPages=false><br><br>*Expected behavior*<br><br>In the Book Mode, multiple web pages in a site are expected to be loaded consecutively by the links in the TOC, but external sites should be excluded.<br><br>*Screenshots*  <br><https://user-images.githubusercontent.com/3324737/94020073-77f76580-fded-11ea-9f0d-f740a41d7e63.png|Screen Shot 2020-09-23 22 10 41></blockquote>|
|07:51|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: It is reflected from 2.1.2-pre.1 (2020-09-24) of core by the modification of <https://github.com/vivliostyle/vivliostyle.js/issues/657>. OK if it's the next version:<br>`` `$ vivliostyle --version<br>cli: 2.1.0<br>core: 2.1.3```|
|07:57|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚‚ã®ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‡ºåŠ›ã—ã¦ã¿ãŸã‚‰ã€â†‘ã§ã—ãŸã€‚ã‚ˆã£ã¦ä¿®æ­£ãŒåæ˜ ã•ã‚Œã¦ã„ã‚‹ç‰ˆã§ã™ã­ã€‚|
|07:57|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: When I tried to output the version of what I was using, it was â†‘. Therefore, it is the version that reflects the correction.|
|08:01|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|```  "dependencies": {<br>    "@vivliostyle/core": "^2.1.1",```<br>ãªã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¨ãã®2.x.x ã®æœ€æ–°ã«ãªã£ã¦ã‚‹ã®ã§ã—ã‚‡ã†|
|08:01|![](https://avatars.slack-edge.com/2019-08-21/732685848020_f3f20736795184660348_72.png)|Kiara Translation|ğŸ‡¬ğŸ‡§: `` `" dependencies ": {<br>    "@ vivliostyle / core": "^ 2.1.1", `` `<br>So it's probably the latest version of 2.x.x when installed|
