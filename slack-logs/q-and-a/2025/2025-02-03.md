# 2025-02-03

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|03:33|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|theme-baseで外部リンクが常に自動的に脚注になるのを見直すべきではないかという件Issueにしました:<br><https://github.com/vivliostyle/themes/issues/139><br><br>X(Twitter)で「なぜか脚注にリンクが表示される。そのまま本文にだけ出してくれればいいんだけど」と言われているので：<br><https://vivliostyle.slack.com/archives/CSFVD3WN9/p1738534639141569><br><blockquote>from Slack: <https://vivliostyle.slack.com/archives/CJRP7PK6K/p1715502544299429|https://vivliostyle.slack.com/archives/CJRP7PK6K/p1715502544299429><br><br>> akabeko:  <br>> Markdown 内に <http://example.com/|http://example.com/> のような URL がある場合、Vivliostyle Viewer 上では自動的に脚注も生成されるようです  <br>> VFM としては a タグ生成までなので Vivliostyle Core か CLI の機能だと予想しているのですが  <br>> これを抑止する方法はありますでしょうか？<br>> <br>> 補足<br>> <br>> • 目的としては脚注は明示的に Footnote 記法を使用した場合のみ適用したいです<br>> • Create Book で Techbook を利用すると起きたので Theme の仕様かと思いましたが Bunko でも再現したので Core か CLI の機能と予想しています<br>> <br>> shinyu:  <br>> theme-base の theme-all.css でimportしている footnote-expternal-link.css を見ると外部リンクを脚注にするようになってますね  <br>> <https://github.com/vivliostyle/themes/blob/main/packages/%40vivliostyle/theme-base/css/partial/footnote-external-link.css|https://github.com/vivliostyle/themes/blob/main/packages/%40vivliostyle/theme-base/css/partial/footnote-external-link.css>  <br>> これを使わないようにすればいいと思います。  <br>> デフォルトで脚注になるのは見直した方がいいかもですね。<br><br>…<br><br>> macneko:  <br>> 私はvivliostyle.config.jsを以下のように修正して対応しました<br>> <br>> ```<br>> module.exports = {<br>>  ...<br>>  theme: [<br>>    '@vivliostyle/theme-techbook',<br>>    'theme/theme.css' // ここに作成したCSSファイルのpathを記述する<br>>  ],  ...<br>> }<br>> <br>> ```<br>> <br>> URLに対する自動脚注は以下のCSSで上書きしています<br>> <br>> ```<br>> /* <br>> * footnote-external-link<br>> */<br>> @media print {<br>>  /* URL に対して自動生成された脚注表記を非表示にする */<br>>  :not(.footnote) > a[href^='http']::before {<br>>    display: none;<br>>  }<br>>  :not(.footnote) > a[href^='http']::after {<br>>  /* URL の後ろに付与された脚注番号を非表示にする */<br>>    display: none;<br>>  }<br>> }<br>> <br>> ```</blockquote>|
