# 2025-07-31

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:40|![](https://avatars.slack-edge.com/2022-08-21/3992344751120_5c9be0c9169540de7e40_72.jpg)|信国幸彦|20年ぶりくらいでA5判縦組の本を作ることになり、組見本をVivliostyleで作ってみようと思ってとりかかりました。<br><br>A5判だから仕上がり寸は左右148mm。*13Q・行間10.5Q、1段19行*で組むことにしました。すると版面の左右は109mmで左右マージンの合計は39mm。これをコグチ18mm、ノド21mmに振り分けることにしました。<br><br>CSSの記述は、コグチ側のマージンの値は16.6875mm、ノド側を19.6875mmとしました（行間である10.5Qの半分、すなわち5.25Q〔＝1.3125mm〕を差し引くべきだと考えました）。<br><br>以上の設定で出力させてみると、添付ファイルのとおり、p. 4は狙いどおりの組み方（1段19行）になったのですが、p. 8には18行しか入ってきませんでした。<br><br>行間にルビを入れたりしているわけでもないのに、どうしてこのようなことになってしまうのか、理由がわからずにおります。どのあたりに原因がありそうでしょうか。<br>https://vivliostyle.slack.com/files/UAE8V83GA/F098R292KNV/18_______________19____________.pdf|
|04:46|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|信国さん、おひさしぶりです！<br><br>回答は村上からあると思いますが、その前にCSSのコードも併せて教えていただくと、より正確な検討ができると思います。|
|05:02|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|ブラウザ内部ではmmやQ単位はpx単位に変換されて処理されるので、誤差のために期待する行数が入らないということがあるかもしれません。その場合はマージンをほんの少し小さくすると収まります。それでもだめな場合は、何か他の原因でしょう。データ（HTML、CSS）を見ないと調べられません。|
|07:49|![](https://avatars.slack-edge.com/2022-08-21/3992344751120_5c9be0c9169540de7e40_72.jpg)|信国幸彦|<blockquote>mmやQ単位はpx単位に変換されて処理されるので、誤差のために期待する行数が入らないということ</blockquote>かもしれないとは私も考えたのですが、それだと、期待どおり入るページと入らないページとが出てくることが説明できないのではないかと思うのですけれど、そうでもないのでしょうか。<br><br>とはいえともかく<br><blockquote>マージンをほんの少し小さくする</blockquote>を試して報告いたします。|
|09:42|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|widowsとorphansは1に設定してますね？　もしwidowsが初期値の2のままだとページ先頭に段落の最後の行がこないようにするので１つ前の行で改ページされて1行少なくなります。|
