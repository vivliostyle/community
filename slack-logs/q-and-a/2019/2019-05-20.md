# 2019-05-20

|Time|Icon|Name|Message|
|---|---|---|---|
|02:39|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|`@井二かける` 報告ありがとう!! 調べます。 `#issues` と `#q-and-a` の使い分けは、たぶんバグというものは `#issues` で、わからないので質問とか他の人たちにも有益な回答を書くのは `#q-and-a` がいいと思いますが、厳密でなくていいでしょう。|
|02:44|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|`@shinyu` has renamed the channel from "q_and_a" to "q-and-a"|
|02:46|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|（ほかのチャンネル名にあわせてハイフン区切りに統一した）|
|02:52|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Q and A about TeX and AsciiMath mathematics support:<br><https://github.com/vivliostyle/vivliostyle.js/issues/523><br><blockquote>Hello<br><br>I want to use vivliostyle and MathJax to render ASCIIMATH, but that doesn't seem to be possible.<br><br>When I use the following code in another page it works without any problem:<br><br>&lt;script&gt; MathJax.Hub.Config({ asciimath2jax: { delimiters: [['`','`'], ['$','$']] } }); &lt;/script&gt; &lt;script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"&gt; &lt;/script&gt;<br><br>But when I try to use it in the "viewer" it only renders MathML, but not the ASCIIMATH-code.</blockquote>|
|07:03|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|まず解決策: `min-width: auto !important` ではなく `min-width: 1px !important` を指定すること。<br><br>理由は以下:<br>Vivliostyle の image-resolution の実装は、image-resolution 値が標準の 96dpi (=1dppx) より小さいか大きいかで、画像を拡大するか縮小するかするために、min-width か max-width プロパティ値を出力します。width プロパティではなくて min-width か max-width を出力する理由は、画像のアスペクト比を崩さないためです。<br><br>今回の例では、 `image-resolution: 72dpi` の指定により、画像を拡大することになります。「図10」の画像の元々の幅は 640px です。これに 96/72 を掛けた値が 853.333px なので `min-width: 853.333px` が出力されます。この値は `max-width: 100%;` で指定されている最大幅を超えるのですが、CSS仕様では min-width が max-width より大きいとき min-width のほうが優先されるようになっているため、max-width の制限は無視されて画像がはみ出してしまうという問題が起きています。<br><br>Vivliostyle のこの実装では、もともと min-width で最小幅が指定されているときには、それが活かされるようになっています。しかし、 `min-width: auto` あるいは `0` の場合にはVivliostyleが生成する値によって上書きされます。<br><br>このような理由で、0でもautoでもない小さめな値 `min-width: 1px` などを指定することが、この問題の回避策となります。<br><br>しかし、これは分かりにくいので、実装を改善したいところですね（max-width 指定があればその値より大きな min-width 値は出力しないようにするなど）。|
