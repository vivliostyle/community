# 2022-10-05

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|01:53|![](https://secure.gravatar.com/avatar/5d3ee1d0467d721061f3ac371d09087c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png)|Yutaka Okano|Vivliostyle CLIを用いてepubをPDFに変換したいと考えています。<br>画像ファイルがはみ出るのを防ぐにはどうすればよろしいでしょうか。<br><br>Vivliostyle Viewerで「set image max-size to fit page」「keep aspect ratio」をチェックした場合と同様のことを、CLIでできれば良いのではないかと考えているのですが、どのようにしたら実現できますでしょうか。|
|01:53|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: I want to convert epub to PDF using Vivliostyle CLI.<br>How can I prevent the image file from overflowing?<br><br>I'm thinking that it would be nice if I could do the same thing with the CLI when I checked "set image max-size to fit page" and "keep aspect ratio" in Vivliostyle Viewer, but how can I do it? Is not it.|
|02:19|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|CLIのオプションでスタイルシートを指定するとよいです。`--style` オプションでスタイルシートのファイルパスかURLを指定、あるいは `--css` オプション（CLI v5.6で追加）でスタイルシートのCSSコードを直接指定できます。<br><br>どのようなCSSを指定するかですが、Vivliostyle Viewerで「set image max-size to fit page」「keep aspect ratio」をチェックした場合に生成されているCSSコードを使うとよいでしょう。Viewerの設定の中に「Edit CSS」（以前のバージョンでは「CSS Details」）という項目があり、そこで設定内容により生成されているCSSコードが確認できます（添付画像）。<br><br>そのCSSコードをコピーして、CLIのオプションで  `--css "img, svg { max-inline-size: 100%; max-block-size: 100vb; object-fit: contain; }"` のように指定するとよいです。<br>https://vivliostyle.slack.com/files/UAE8V83GA/F0452R21NBX/screen_shot_2022-10-05_at_11.02.50.png|
|02:19|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: It is good to specify the stylesheet in the CLI option. You can specify the stylesheet file path or URL with the `--style` option, or directly specify the stylesheet CSS code with the `--css` option (added in CLI v5.6).<br><br>As for what kind of CSS to specify, it is a good idea to use the CSS code that is generated when you check "set image max-size to fit page" and "keep aspect ratio" in Vivliostyle Viewer. There is an item called "Edit CSS" ("CSS Details" in previous versions) in the viewer settings, where you can check the CSS code generated by the settings (attached image).<br><br>Copy that CSS code and use CLI options like `--css "img, svg { max-inline-size: 100%; max-block-size: 100vb; object-fit: contain; }"` It is good to specify.|
|02:34|![](https://secure.gravatar.com/avatar/5d3ee1d0467d721061f3ac371d09087c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png)|Yutaka Okano|確認できました。ViewerのEdit CSSで生成されるCSSの確認ができることも承知しました。ありがとうございした。|
|02:34|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: confirmed. I also understand that you can check the generated CSS with the Viewer's Edit CSS. Thank you.|
