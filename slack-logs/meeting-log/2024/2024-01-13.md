# 2024-01-13

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:31|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|本日の Vivliostyle 開発者会議 January 2024 は本メッセージに対するスレッドとして議事録をとります。<br>発言内容の補足・訂正などはスレッド中のメッセージとしてお願いします。<br><br>またオフレコにしたい発言をされる際はその旨をお知らせください。議事録の対象から外します<br><br>January 2024 · Issue #119 · vivliostyle/community<br><https://github.com/vivliostyle/community/issues/119><br><blockquote>• Meeting Log<br><br>*Agenda*<br><br>• *Vivliostyle.js*（<https://github.com/MurakamiShinyu|@MurakamiShinyu>）<br>    • 前月からの報告と今後の予定<br>• *Vivliostyle CLI*（<https://github.com/spring-raining|@spring-raining> , <https://github.com/MurakamiShinyu|@MurakamiShinyu>）<br>    • <https://github.com/vivliostyle/vivliostyle-cli/issues/461|EPUBとwebpub出力でTheme内のサンプルの画像など不要なファイルが入る #461><br>    • <https://github.com/vivliostyle/vivliostyle-cli/issues/462|All files in output EPUB are not compressed #462><br>• *Theme* (<https://github.com/spring-raining|@spring-raining>, <https://github.com/yamasy1549|yamasy1549>)<br>    • 前月からの報告と今後の予定<br>• *VFM, create-book, vivliostyle-sitegen*（<https://github.com/akabekobeko|@akabekobeko>）<br>    • 前月からの報告と今後の予定<br>• *Vivliostyle Pub*（<https://github.com/takanakahiko|@takanakahiko>, <https://github.com/MurakamiShinyu|@MurakamiShinyu>）<br>    • 前月からの報告と今後の予定<br>    • フロントエンドのアップデートについて、その後<br>• <http://gihyo.jp|gihyo.jp> Web連載について（<https://github.com/U-1F992|@U-1F992>）<br>    • 第1回「<https://github.com/vivliostyle/vivliostyle-gihyojp#vivliostyle%E3%81%8C%E6%8B%93%E3%81%8Fcss%E7%B5%84%E7%89%88%E3%81%AE%E5%8F%AF%E8%83%BD%E6%80%A7|Vivliostyleが拓くCSS組版の可能性>」（村上・小形）の報告<br>        • <https://github.com/MurakamiShinyu/shokubutsu_ichinichi/tree/main|Vivliostyleサンプル『植物一日一題』（牧野富太郎）><br>• 「EPUBリーダー表示テスト（2023）報告書」（JAGAT次世代パブリッシング研究会）について報告（小形）<br>    • <https://gist.github.com/MurakamiShinyu/e8fa4bb1cbf43c2cec5d47427f8fad1f#epub%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AEcss%E4%BB%95%E6%A7%98%E9%81%A9%E5%90%88%E6%80%A7%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88|EPUBリーダーのCSS仕様適合性チェックリスト><br>    • <https://gist.github.com/MurakamiShinyu/0ab8187a15d638d9557ef9ceab0a85d4#epub%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AEcss%E4%BB%95%E6%A7%98%E9%81%A9%E5%90%88%E6%80%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E8%A9%95%E4%BE%A1%E3%83%A1%E3%83%A2|EPUB CSS仕様適合性テスト 評価メモ><br>    • <https://docs.google.com/spreadsheets/d/1xKDlL4TrMHMa1qq2QsWcXLEGMPjx-JWcTdaw_8KkftE/edit?usp=sharing|EPUBリーダー表示チェック（JAGAT次世代パブリッシング研究会）2023><br>    • <https://github.com/jagat-xpub/viewer-test-2023/wiki/EPUB%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E8%A1%A8%E7%A4%BA%E3%83%86%E3%82%B9%E3%83%88%EF%BC%882023%EF%BC%89%E5%A0%B1%E5%91%8A%E6%9B%B8%E2%80%90%E6%A7%8B%E6%88%90%E6%A1%88|EPUBリーダー表示テスト（2023）報告書‐構成案><br><br>*Members*<br><br>• <https://github.com/MurakamiShinyu|@MurakamiShinyu><br>• <https://github.com/ogwata|@ogwata><br>• <https://github.com/spring-raining|@spring-raining><br>• <https://github.com/yamasy1549|@yamasy1549><br>• <https://github.com/UskeS|@UskeS><br>• <https://github.com/lwohtsu|@lwohtsu><br>• <https://github.com/macneko-ayu|@macneko-ayu><br>• <https://github.com/U-1F992|@U-1F992><br>• <https://github.com/akabekobeko|@akabekobeko> (Scribe)</blockquote>|
|05:02|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Vivliostyle.js*|
|05:03|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 先月から新リリースはないが、Issue 対応中|
|05:04|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Update CSS text-spacing-trim property to support the latest spec change · Issue #1244 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/issues/1244><br><blockquote>CSS WG decided to change the `text-spacing-trim` property value spec. (<https://github.com/w3c/csswg-drafts/issues/9511#issuecomment-1864881659|w3c/csswg-drafts#9511 (comment)>)<br><br>> The CSS Working Group just discussed `[css-text][text-spacing] Visual regressions of line-start at portals and news sites`, and agreed to the following:<br>> <br>> • `RESOLVED: Accept Murakami's proposal to simplify to text-spacing: normal | trim-start | space-first | trim-auto | space-all | trim-all | auto`<br>> • `RESOLVED: remap property value space for text-spacing`<br><br>The accepted proposal (<https://github.com/w3c/csswg-drafts/issues/9511#issuecomment-1862787959|w3c/csswg-drafts#9511 (comment)>):<br><br>> I agree with the `normal` as the initial value which implies `space-start trim-adjacent allow-end`.<br>> <br>> Other necessary text-spacing-trim values will be:<br>> <br>> • `trim-start` implies `trim-start trim-adjacent allow-end`<br>> • `space-first` implies `space-first trim-adjacent allow-end`<br>> • `trim-auto` implies `trim-start trim-adjacent trim-end`<br>> • `space-all` implies `space-start space-adjacent space-end`<br>> • `trim-all` (trim anywhere)<br>> <br>> So the value syntax will be:<br>> <br>> ```<br>> normal | trim-start | space-first | trim-auto | space-all | trim-all<br>> ```<br>> <br>> Other value keywords (space-start, allow-end, etc.) and combinations are probably not necessary.</blockquote>|
|05:05|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: ↑へ対応した新バージョンを近日リリース予定|
|05:05|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Vivliostyle CLI*|
|05:06|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: CLI 本体としての機能変更は特になし|
|05:07|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|EPUBとwebpub出力でTheme内のサンプルの画像など不要なファイルが入る · Issue #461 · vivliostyle/vivliostyle-cli<br><https://github.com/vivliostyle/vivliostyle-cli/issues/461><br><blockquote>Vivliostyle CLIでthemeを利用してEPUBやwebpub出力を行った場合、themeに含まれるサンプルの画像など不要なファイルが入ってしまう問題があります。<br><br>*再現テスト*<br><br>以下、テストした例：<br><br>*テスト1：コマンドラインでthemeを指定してEPUB出力を行う例*<br><br>themeとして `@vivliostyle/theme-epub3j` を指定してEPUB出力を行った例：<br><br><pre>$ vivliostyle build --theme @vivliostyle/theme-epub3j TEST.md -o output.epub<br>⊙ Installing theme files<br>output.epub has been created.<br>🎉 Built successfully.<br><br>$ zipinfo -1 output.epub<br>mimetype<br>META-INF/container.xml<br>EPUB/TEST.xhtml<br>EPUB/content.opf<br>EPUB/publication.json<br>EPUB/themes/<br>EPUB/themes/packages/<br>EPUB/themes/packages/@vivliostyle/<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/book-style.css<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-advance.css<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-check.css<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-reset.css<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-standard.css<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/cover.jpg<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/gaiji-min-u8fe6.png<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/headmark.gif<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-001.jpg<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-002.png<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-003.png<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-004.png<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/logo-bunko.png<br>EPUB/themes/packages/@vivliostyle/theme-epub3j/theme.css<br>EPUB/toc.ncx</pre><br><br>この結果を見ると、出力されたEPUBに不要なファイル（theme に含まれる example 内の画像ファイル類）が入っている。<br><br>*テスト2：コマンドラインでthemeを指定してwebpub出力を行う例*<br><br>themeとして `@vivliostyle/theme-base` を指定してwebput出力を行った例：<br><br><pre>$ vivliostyle build --theme @vivliostyle/theme-base TEST.md -o webpub/<br>◡ Installing theme files<br>webpub has been created.<br>🎉 Built successfully.<br><br>$ tree webpub/<br>webpub/<br>├── TEST.html<br>├── publication.json<br>└── themes<br>    └── packages<br>        └── @vivliostyle<br>            └── theme-base<br>                ├── css<br>                │   ├── common<br>                │   │   ├── basic.css<br>                │   │   ├── meta-properties.css<br>                │   │   └── reset.css<br>                │   ├── lib<br>                │   │   └── prism<br>                │   │       ├── base.css<br>                │   │       ├── theme-okaidia.css<br>                │   │       └── theme-prism.css<br>                │   └── partial<br>                │       ├── crossref.css<br>                │       ├── endnote.css<br>                │       ├── footnote-external-link.css<br>                │       ├── footnote.css<br>                │       ├── page.css<br>                │       ├── section.css<br>                │       ├── toc.css<br>                │       └── utility-classes.css<br>                ├── example<br>                │   ├── 2.html<br>                │   ├── 3.html<br>                │   ├── assets<br>                │   │   └── Logo\ (Mark\ +\ Type).png<br>                │   └── default.html<br>                ├── theme-all.css<br>                └── theme-basic.css<br><br>11 directories, 22 files</pre><br><br>この結果を見ると、出力されたwebpubディレクトリ内に不要なファイル（theme に含まれる example 内の画像ファイルやHTMLファイル）が入っている。<br><br>*テスト3：Create Bookを利用してconfigを作ってEPUB出力を行う例*<br><br><pre>$ npm create book test4epub<br>? Description test4epub<br>? Author name MurakamiShinyu<br>? Author email <mailto:murakami@vivliostyle.org|murakami@vivliostyle.org><br>? License CC0-1.0<br>? choose theme @vivliostyle/theme-epub3j - EPUB3 (Japanese) 日本語EPUB用テーマ（電書協EPUB3制作ガイド準拠）<br><br>Creating a new package in /Users/……/test4epub.<br>……<br><br>$ cd test4epub/</pre><br><br>vivliostyle.config.js を編集して output の指定を次のようにする：<br><br><pre>  output: [<br>    './output.epub',<br>  ],</pre><br><br>これで build を実行し、生成されたEPUBを見てみる：<br><br>```<br>$ npm run build<br><br>> test-4epub@0.0.0 build<br>> vivliostyle build<br><br>⚠ No table of contents document was found. for EPUB output, we recommend to enable `toc` option in your Vivliostyle config file to generate a table of contents document.<br>⊙ Installing theme files<br>output.epub has been created.<br>🎉 Built successfully.<br><br>$ zipinfo -1 output.epub<br>mimetype<br>META-INF/container.xml<br>EPUB/content.opf<br>EPUB/manuscript.xhtml<br>EPUB/node_modules/<br>EPUB/node_modules/@vivliostyle/<br>EPUB/node_modules/@vivliostyle/viewer/<br>EPUB/node_modules/@vivliostyle/viewer/docs/<br>EPUB/node_modules/@vivliostyle/viewer/docs/index.xhtml<br>EPUB/node_modules/@vivliostyle/viewer/lib/<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/ui.arrows.css<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/ui.loading-overlay.css<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/ui.menu-bar.css<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/ui.message-dialog.css<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/ui.text-selection-menu.css<br>EPUB/node_modules/@vivliostyle/viewer/lib/css/vivliostyle-viewer.css<br>EPUB/node_modules/@vivliostyle/viewer/lib/index.xhtml<br>EPUB/node_modules/i18next-ko/<br>EPUB/node_modules/i18next-ko/example/<br>EPUB/node_modules/i18next-ko/example/example.xhtml<br>EPUB/node_modules/playwright-core/<br>EPUB/node_modules/playwright-core/lib/<br>EPUB/node_modules/playwright-core/lib/vite/<br>EPUB/node_modules/playwright-core/lib/vite/htmlReport/<br>EPUB/node_modules/playwright-core/lib/vite/htmlReport/index.xhtml<br>EPUB/node_modules/playwright-core/lib/vite/recorder/<br>EPUB/node_modules/playwright-core/lib/vite/recorder/assets/<br>EPUB/node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-5d0f417c.css<br>EPUB/node_modules/playwright-core/lib/vite/recorder/assets/index-a8ba096a.css<br>EPUB/node_modules/playwright-core/lib/vite/recorder/index.xhtml<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/codeMirrorModule.5d0f417c.css<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/index.a60f70ab.css<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/index.xhtml<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/snapshot.xhtml<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/uiMode.41e90341.css<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/uiMode.xhtml<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/wsPort.dd1cbe2e.css<br>EPUB/node_modules/playwright-core/lib/vite/traceViewer/xtermModule.6428296b.css<br>EPUB/node_modules/prismjs/<br>EPUB/node_modules/prismjs/plugins/<br>EPUB/node_modules/prismjs/plugins/autolinker/<br>EPUB/node_modules/prismjs/plugins/autolinker/prism-autolinker.css<br>EPUB/node_modules/prismjs/plugins/autolinker/prism-autolinker.min.css<br>EPUB/node_modules/prismjs/plugins/command-line/<br>EPUB/node_modules/prismjs/plugins/command-line/prism-command-line.css<br>EPUB/node_modules/prismjs/plugins/command-line/prism-command-line.min.css<br>EPUB/node_modules/prismjs/plugins/diff-highlight/<br>EPUB/node_modules/prismjs/plugins/diff-highlight/prism-diff-highlight.css<br>EPUB/node_modules/prismjs/plugins/diff-highlight/prism-diff-highlight.min.css<br>EPUB/node_modules/prismjs/plugins/inline-color/<br>EPUB/node_modules/prismjs/plugins/inline-color/prism-inline-color.css<br>EPUB/node_modules/prismjs/plugins/inline-color/prism-inline-color.min.css<br>EPUB/node_modules/prismjs/plugins/line-highlight/<br>EPUB/node_modules/prismjs/plugins/line-highlight/prism-line-highlight.css<br>EPUB/node_modules/prismjs/plugins/line-highlight/prism-line-highlight.min.css<br>EPUB/node_modules/prismjs/plugins/line-numbers/<br>EPUB/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.css<br>EPUB/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css<br>EPUB/node_modules/prismjs/plugins/match-braces/<br>EPUB/node_modules/prismjs/plugins/match-braces/prism-match-braces.css<br>EPUB/node_modules/prismjs/plugins/match-braces/prism-match-braces.min.css<br>EPUB/node_modules/prismjs/plugins/previewers/<br>EPUB/node_modules/prismjs/plugins/previewers/prism-previewers.css<br>EPUB/node_mod…</blockquote>|
|05:07|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|All files in output EPUB are not compressed · Issue #462 · vivliostyle/vivliostyle-cli<br><https://github.com/vivliostyle/vivliostyle-cli/issues/462><br><blockquote>Vivliostyle CLIで生成されたEPUBを見ると、EPUB内のすべてのファイルが非圧縮で格納されています。<br><br>例：<br><br><pre>$ vivliostyle build --theme @vivliostyle/theme-epub3j TEST.md -o output.epub<br>⊙ Installing theme files<br>output.epub has been created.<br>🎉 Built successfully.<br><br>$ zipinfo output.epub<br>Archive:  output.epub<br>Zip file size: 386545 bytes, number of entries: 27<br>-rw-r--r--  4.5 unx       20 b- stor 24-Jan-10 04:15 mimetype<br>-rw-r--r--  4.5 unx      251 bl stor 24-Jan-10 04:15 META-INF/container.xml<br>-rw-r--r--  4.5 unx      848 bl stor 24-Jan-10 04:15 EPUB/TEST.xhtml<br>-rw-r--r--  4.5 unx     3562 bl stor 24-Jan-10 04:15 EPUB/content.opf<br>-rw-r--r--  4.5 unx     1486 bl stor 24-Jan-10 04:15 EPUB/publication.json<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/packages/<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/<br>-rw-r--r--  4.5 unx     5896 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/book-style.css<br>-rw-r--r--  4.5 unx    83141 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-advance.css<br>-rw-r--r--  4.5 unx     2568 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-check.css<br>-rw-r--r--  4.5 unx     2262 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-reset.css<br>-rw-r--r--  4.5 unx    52790 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/ebpaj_epub3guide/style-standard.css<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/<br>drwxr-xr-x  4.5 unx        0 b- stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/<br>-rw-r--r--  4.5 unx   176352 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/cover.jpg<br>-rw-r--r--  4.5 unx      692 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/gaiji-min-u8fe6.png<br>-rw-r--r--  4.5 unx      163 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/headmark.gif<br>-rw-r--r--  4.5 unx    41032 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-001.jpg<br>-rw-r--r--  4.5 unx     3964 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-002.png<br>-rw-r--r--  4.5 unx     1316 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-003.png<br>-rw-r--r--  4.5 unx     1479 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/img-004.png<br>-rw-r--r--  4.5 unx      529 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/example/assets/logo-bunko.png<br>-rw-r--r--  4.5 unx     2323 bl stor 24-Jan-10 04:15 EPUB/themes/packages/@vivliostyle/theme-epub3j/theme.css<br>-rw-r--r--  4.5 unx      617 bl stor 24-Jan-10 04:15 EPUB/toc.ncx<br>27 files, 381291 bytes uncompressed, 381291 bytes compressed:  0.0%</pre><br><br>このようにEPUB内のファイルの情報をzipinfoで見てみると、すべて `stor` （圧縮なし）での格納となっています。<br><br>標準的なEPUBの場合、次のように "mimetype" ファイル以外はDeflate形式（`defN`）で圧縮されているものです：  <br>（電書協EPUB3制作ガイドの付録のサンプル ebpaj-sample.epub の例）<br><br><pre>$ zipinfo ebpaj-sample.epub<br>Archive:  ebpaj-sample.epub<br>Zip file size: 173711 bytes, number of entries: 25<br>-rw----     2.0 fat       20 b- stor 11-Apr-06 14:46 mimetype<br>-rw----     2.0 fat   176352 b- defN 12-Aug-22 19:33 item/image/cover.jpg<br>-rw----     2.0 fat      692 b- defN 12-Aug-21 16:36 item/image/gaiji-min-u8fe6.png<br>-rw----     2.0 fat      163 b- defN 12-Aug-22 16:05 item/image/headmark.gif<br>-rw----     2.0 fat    41032 b- defN 12-Jul-20 14:11 item/image/img-001.jpg<br>-rw----     2.0 fat     3964 b- defN 12-Apr-11 15:25 item/image/img-002.png<br>-rw----     2.0 fat     1316 b- defN 12-Apr-11 15:25 item/image/img-003.png<br>-rw----     2.0 fat     1479 b- defN 12-Aug-21 22:54 item/image/img-004.png<br>-rw----     2.0 fat      529 b- defN 12-Jul-18 22:01 item/image/logo-bunko.png<br>-rw----     2.0 fat      491 b- defN 14-Aug-26 21:41 item/navigation-documents.xhtml<br>-rw----     2.0 fat     3759 b- defN 14-Oct-07 16:50 item/standard.opf<br>-rw----     2.0 fat     6207 b- defN 14-Nov-06 14:45 item/style/book-style.css<br>-rw----     2.0 fat    84707 b- defN 14-Oct-07 16:48 item/style/style-advance.css<br>-rw----     2.0 fat     2656 b- defN 14-Oct-07 16:48 item/style/style-check.css<br>-rw----     2.0 fat     2366 b- defN 14-Nov-06 14:16 item/style/style-reset.css<br>-rw----     2.0 fat    54465 b- defN 14-Nov-06 14:16 item/style/style-standard.css<br>-rw----     2.0 fat      607 b- defN 12-Aug-31 18:37 item/xhtml/p-001.xhtml<br>-rw----     2.0 fat    15303 b- defN 14-Oct-07 17:09 item/xhtml/p-002.xhtml<br>-rw----     2.0 fat      998 b- defN 12-Aug-22 16:36 item/xhtml/p-caution.xhtml<br>-rw----     2.0 fat     1203 b- defN 14-Oct-07 17:10 item/xhtml/p-colophon.xhtml<br>-rw----     2.0 fat      469 b- defN 12-Aug-22 18:18 item/xhtml/p-cover.xhtml<br>-rw----     2.0 fat     2606 b- defN 14-Aug-26 21:39 item/xhtml/p-cyushaku.xhtml<br>-rw----     2.0 fat      748 b- defN 12-Aug-23 21:17 item/xhtml/p-titlepage.xhtml<br>-rw----     2.0 fat      889 b- defN 12-Aug-23 21:19 item/xhtml/p-toc.xhtml<br>-rw----     2.0 fat      245 b- defN 12-Jul-16 18:27 META-INF/container.xml<br>25 files, 403266 bytes uncompressed, 170597 bytes compressed:  57.7%</pre><br><br>EPUBの仕様の <https://www.w3.org/TR/epub-33/#sec-zip-container-zipreqs|ZIP file requirements> を見ると、 "OCF ZIP containers MUST include only stored (uncompressed) and Deflate-compressed ZIP entries within the ZIP archive." とあります。すべてのエントリーが "stored (uncompressed)" ではいけないとは書かれていないようですが、EPUBファイルサイズが大きくなるのは望ましくないと思うので、修正されるべきだろうと思います。</blockquote>|
|05:07|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: ↑へ対応予定|
|05:11|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: 不要なファイルが含まれる問題については、実際に使用しているかどうか？を判定するのは難しい|
|05:12|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: そのため決め打ちで example を exclude するか、ignore 設定で exclude することになりそう|
|05:14|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: npm の example に 2.html など publish したローカル環境に置いていたファイル (GitHub にないファイル) が含まれているので除外したほうがよさそう|
|05:15|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: リリース フローの自動化も含めて、余計なファイルが含まれない対応を検討する|
|05:16|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Create Book で作成すると node_modules も含まれているので、これも除外したい|
|05:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: node_modules が含まれるのはバグかもしれないので調査する|
|05:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: Create Book 修正が必要なら対応する|
|05:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Theme*|
|05:19|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: EPUB 用の theme をリリースした|
|05:19|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://github.com/vivliostyle/themes/pull/118><br><blockquote>日本語EPUB用テーマ（電書協EPUB3制作ガイド準拠）を作りました。以下READMEから：<br><br>> <http://ebpaj.jp/counsel/guide|電書協EPUB3制作ガイド>準拠のEPUBを作るためのテーマ  <br>> (Theme for EPUB compat with <http://ebpaj.jp/counsel/guide|EBPAJ EPUB 3 File Creation Guide>)<br>> <br>> *電書協EPUB3制作ガイド付属のスタイルシートとサンプルの利用について*<br>> <br>> このテーマに含まれる以下のCSSファイルは、「電書協 EPUB 3 制作ガイド ver.1.1.3 2015年1月1日版」(<http://ebpaj.jp/images/ebpaj_epub3guide_ver1.1.3-150101.zip|ebpaj_epub3guide_ver1.1.3-150101.zip>)に付属するものです：<br>> <br>> • book-style.css<br>> • style-advance.css<br>> • style-check.css<br>> • style-reset.css<br>> • style-standard.css<br>> <br>> また、example ディレクトリ内のサンプル文書は、この制作ガイドに付属するサンプルEPUB（ebpaj-sample.epub）の内容を再利用して、XHTML文書からMarkdown原稿の形式に書き換えたものです。</blockquote>|
|05:22|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://github.com/vivliostyle/themes/blob/main/.changeset/README.md><br><blockquote>*Changesets*<br><br>Hello and welcome! This folder has been automatically generated by `@changesets/cli`, a build tool that works  <br>with multi-package repos, or single-package repos to help you version and publish your code. You can  <br>find the full documentation for it <https://github.com/changesets/changesets|in our repository><br><br>We have a quick list of common questions to get you started engaging with this project in  <br><https://github.com/changesets/changesets/blob/main/docs/common-questions.md|our documentation></blockquote>|
|05:22|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: theme リポジトリーに changeset を導入したので、今後パッケージ更新やリリースがスムーズになる予定|
|05:25|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*VFM, create-book, vivliostyle-sitegen*|
|05:26|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 進捗特になし、remark まわりを調査|
|05:26|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Vivliostyle Pub*|
|05:26|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|refactor: React コンポーネントのロジックを Hooks へ分離 by akabekobeko · Pull Request #295 · vivliostyle/vivliostyle-pub<br><https://github.com/vivliostyle/vivliostyle-pub/pull/295><br><blockquote>変更量が多くなったので個別 PR に分割予定。全体像がどうなるか？の参考用として Draft PR を出しました。参考用なので Merge はせず、個別 PR でレビューを受ける予定です。<br><br>• React コンポーネントのロジックを Hooks へ分離<br>    • 描画とロジックが一塊になっていると、デバッグや deps の破壊的な変更影響へ対応しにくいので分割<br>    • Hooks にすることでロジックのみのテストも書きやすくなる<br>    • Hooks 内の処理も可能なら更に分割予定<br>• Chakra UI を直参照するように変更<br>    • UI へ抽象化する意図が不明なので<br>• React コンポーネント定義を FC + Arrow Function に統一</blockquote>|
|05:29|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vfm/issues>|
|05:31|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|VFMにもissueがいくつかあり、優先順位付けが必要？<br>pubも含めてどれから手を付けるべきか？|
|05:32|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|VFMを根本的に修正するよりも、現在出ているissueをいまの延長上で修正してみようと思う|
|05:33|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|PRをマージするとデプロイされるので、副作用を調査してからのほうがよいのでは|
|05:36|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|以上、akabeko|
|05:36|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|評価の上、十分なバグ取りができてからリリースに乗せるほうがいいのでは|
|05:38|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|<http://gihyo.jp|gihyo.jp> Web連載について|
|05:38|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai: 第一回の内容、確認した|
|05:39|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai: CSS 部分の解説はどれぐらいのボリュームになりそうか？|
|05:39|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: Vivliostyle のサンプルを使いながら小さく解説してゆく予定|
|05:41|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai: 記事の内容として CSS の差し替え機能が重要なので掘り下げてほしい|
|05:42|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: themes として解説する想定|
|05:47|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai 第二回は 2024/2 - 3 の第二週までに完成稿がほしい|
|05:47|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: このスケジュールで書いてみる|
|05:48|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|「EPUBリーダー表示テスト（2023）報告書」（JAGAT次世代パブリッシング研究会）について報告|
|05:48|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|epub-css-snapshot2023-checklist.md<br><https://gist.github.com/MurakamiShinyu/e8fa4bb1cbf43c2cec5d47427f8fad1f#epub%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AEcss%E4%BB%95%E6%A7%98%E9%81%A9%E5%90%88%E6%80%A7%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88>|
|05:48|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|EPUB CSS仕様適合性テスト 評価メモ<br><https://gist.github.com/MurakamiShinyu/0ab8187a15d638d9557ef9ceab0a85d4#epub%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AEcss%E4%BB%95%E6%A7%98%E9%81%A9%E5%90%88%E6%80%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E8%A9%95%E4%BE%A1%E3%83%A1%E3%83%A2>|
|05:49|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|<https://docs.google.com/spreadsheets/d/1xKDlL4TrMHMa1qq2QsWcXLEGMPjx-JWcTdaw_8KkftE/edit#gid=0>|
|05:49|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|EPUBリーダー表示テスト（2023）報告書‐構成案 · jagat-xpub/viewer-test-2023 Wiki<br><https://github.com/jagat-xpub/viewer-test-2023/wiki/EPUB%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E8%A1%A8%E7%A4%BA%E3%83%86%E3%82%B9%E3%83%88%EF%BC%882023%EF%BC%89%E5%A0%B1%E5%91%8A%E6%9B%B8%E2%80%90%E6%A7%8B%E6%88%90%E6%A1%88>|
|05:57|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|akabeko: kindleの（最新のCSSへの）準拠度合いは高いのか？|
|05:57|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|murakami: 高くない。この10年で実装された新しいものはほとんど使えない|
|05:57|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|murakami: kindleが10年前のCSS準拠から止まったままになっている|
|05:58|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|murakami: 組版の品質は10年前よりも良くなってきているが、web標準のCSS準拠という観点ではほとんど進んでいない|
|05:58|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|murakami: 論理プロパティの一部が使えたり使えなかったりする…というのが、少しは進歩として評価できるものの、最新のブラウザから比べれば遅れている状態|
|06:00|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|横田達朗: Kindleに対応するできるepubを出力できるような機能は考えられるか？|
|06:01|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|murakami: 考えられるがいまは計画にない|
|06:03|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|次回開催は 2024/2/12 (月)、祝日の振替日で！|
|06:03|![](https://avatars.slack-edge.com/2020-10-27/1455123835683_dbf567e9fc6aaf7280b1_72.jpg)|Yusuke S.|お疲れ様でした！|
|06:03|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ひととおり議題を検討したので閉会します<br>みなさまお疲れ様でした！|
