# 2024-08-10

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:41|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|本日の Vivliostyle 開発者会議 August 2024 は本メッセージに対するスレッドとして議事録をとります。<br>発言内容の補足・訂正などはスレッド中のメッセージとしてお願いします。<br><br>またオフレコにしたい発言をされる際はその旨をお知らせください。議事録の対象から外します<br><br>August 2024 · Issue #129 · vivliostyle/community<br><https://github.com/vivliostyle/community/issues/129><br><blockquote>| date                | time        | location |<br>| ------------------- | ----------- | -------- |<br>| August 10, 2024 JST | 14:00_16:00 | Online   |<br><br>• Meeting Log<br>• *Vivliostyle.js*（<https://github.com/MurakamiShinyu|@MurakamiShinyu>）  <br>   • <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.30.2|2.30.2> (2024-07-21)<br>• *Vivliostyle CLI*（<https://github.com/spring-raining|@spring-raining> , <https://github.com/MurakamiShinyu|@MurakamiShinyu>）  <br>   • <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v8.13.0|8.13.0> (2024-07-25)<br>• ドキュメントサイトの改修について（小形・村上）  <br>   • <https://gist.github.com/ogwata/47d214b702874aa8df2200547c58a5e7|vivliostyle-outline.md><br>• <http://gihyo.jp|gihyo.jp> Web連載について（<https://github.com/U-1F992|@U-1F992>）  <br>   • 進捗の報告（<https://vivliostyle.slack.com/team/UAE8V83GA|@shinyu>, <https://vivliostyle.slack.com/team/U065D5QUH60|@yamahige>）  <br>   • <https://github.com/vivliostyle/vivliostyle-gihyojp#dtp%E3%81%82%E3%82%8B%E3%81%82%E3%82%8B%E3%81%AEcss%E7%B5%84%E7%89%88%E7%9A%84%E8%A7%A3%E6%B1%BA%E6%B3%95|「DTPあるあるのCSS組版的解決法」>の執筆者降板と新執筆者募集  <br>         • <https://gist.github.com/U-1F992/d223c1965d9e3ecc7cdf7162c04a2dd5|引き継ぎ メモ><br>• その他<br><br>*Members*<br><br>• <https://github.com/MurakamiShinyu|@MurakamiShinyu><br>• <https://github.com/ogwata|@ogwata><br>• <https://github.com/spring-raining|@spring-raining><br>• <https://github.com/yamasy1549|@yamasy1549><br>• <https://github.com/UskeS|@UskeS><br>• <https://github.com/lwohtsu|@lwohtsu><br>• <https://github.com/macneko-ayu|@macneko-ayu><br>• <https://github.com/U-1F992|@U-1F992><br>• <https://github.com/akabekobeko|@akabekobeko> (Scribe)</blockquote>|
|05:05|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle.js|
|05:06|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Release v2.30.2 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.30.2>|
|05:06|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|fix: Browser-native MathML should be enabled when MathJax is not loaded · vivliostyle/vivliostyle.js@c1a760e<br><https://github.com/vivliostyle/vivliostyle.js/commit/c1a760e30db8d0e54bdb49923bd3e99367e985ab>|
|05:08|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Chromium がネイティブで MathML 対応したので Vivliostyle としてもサポート|
|05:09|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: MathJax が読み込めない場合、ネイティブな MathML で数式描画する|
|05:09|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/issues/1363><br><blockquote>Vivliostyle初心者です。  <br>EPUB原稿を流用してVivliostyleでCSS組版を勉強しています。<br><br>EPUB形式の脚注（epub:type="footnote"）をVivliostyleがサポートしているか検索してみましたが、説明をみつけることができませんでした。  <br>脚注を記述してプレビューすると脚注欄に出力できたのですが、本文内にも出力されてしまいました。<br><br>バグか仕様外の使い方なのかわかりません。<br><br>vivliostyle --versionは、以下です。  <br>cli: 8.12.1  <br>core: 2.30.1<br><br>*現象の説明*<br><br>*構成ファイル*<br><br>test.xhtmlとmystyle.cssで構成しています。  <br><https://github.com/user-attachments/files/16186075/test02.zip|test02.zip><br><br>【test.xhtml】<br><br><pre>AAA<br><a id="fnref1" href="#fn1" class="noteref" epub:type="noteref">*1</a><br>は、・・・です。<br><br><div id="fn1" class="footnote" epub:type="footnote" ><br><p class="foottext"><br><a href="#fnref1">(☆)</a> [*1] AAA設計図は、・・・です。<br></p><br></div><br><br></pre><br><br>【mystyle.css】<br><br><https://github.com/page|@page> {}、body {}、p {}、h1,h2 {}の定義のみで脚注に関する定義はしておりません。<br><br>*プレビュー*<br><br>vivliostyle previewコマンドでプレビューすると以下のように表示します。<br><br><https://private-user-images.githubusercontent.com/46343265/348058875-1f1272a2-5623-44c9-a0e4-f36cddd37104.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjMyNjY4NzUsIm5iZiI6MTcyMzI2NjU3NSwicGF0aCI6Ii80NjM0MzI2NS8zNDgwNTg4NzUtMWYxMjcyYTItNTYyMy00NGM5LWEwZTQtZjM2Y2RkZDM3MTA0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA4MTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwODEwVDA1MDkzNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTZlMjQ5MGM3YWFhYzhlZWUxZmU1MTUyYWMxOWFjM2YyY2M0ZTVhZGMzYjczNzcwODIzOGRlZTMwNTA3ODY2YzAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.tOy-IuDY_7UsbWKYhyXPkEdOfybmWQ3PcqlWADnG3pQ|fig><br><br>脚注の本文が①脚注を定義した位置と②ページ下の脚注欄に出力してしまいます。  <br>①の位置の出力を消す方法はないでしょうか？<br><br>また、EPUB形式の脚注（epub:type="footnote"）は正式にサポートしている仕様でしょうか？</blockquote>|
|05:12|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: aside タグではなく div タグに `epub:type="footnote"` を指定すると脚注が重複出力される問題|
|05:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 本来、EPUB の脚注は aside 向け<br>修正後は div の場合、脚注としては出力せず本文内に脚注先となるものを出力|
|05:22|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/pull/1366><br><blockquote>So far `-adapt-template: url(user-agent.xml#footnote)` is used for EPUB footnote in the UA default style sheet. However, this feature could not be used easily in user or author style sheets because the "user-agent.xml" is bundled in the "assets.ts" file.<br><br>This fix enables `-adapt-template: footnote` that should work same as  <br>`-adapt-template: url(user-agent.xml#footnote)` in the UA default style sheet.</blockquote>|
|05:28|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: EPUB の脚注は Vivliostyle として標準的な機能ではないとのことだが、便利なのでもっとアピールしてはどうか？|
|05:29|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Adaptive Layout ではなく Vivliostyle 独自機能です、という但し書きをしたうえでドキュメント整備してアピールというのはありだと思う|
|05:30|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 現時点だとドキュメント整備のコスト面から、実装のみのささやかな対応とした|
|05:30|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle CLI|
|05:30|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Release Release 8.13.0 · vivliostyle/vivliostyle-cli<br><https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v8.13.0>|
|05:30|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Vivliostyle 更新を取り込んだ、小さなアップデート|
|05:31|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ドキュメントサイトの改修について|
|05:31|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: 1 年以上前から課題として挙げられていた内容|
|05:32|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: インフラ、実際に提供しているサイト機能としても改善が必要という認識|
|05:33|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: 静的サイト ジェネレーターなども提案されたが、Vivliostyle 自体が強力な組版機能と Web サイト作成も担えるので Vivliostyle 自体で作るのはどうか？という方向で検討|
|05:34|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/docs.vivliostyle.org/issues/25><br><blockquote>• サイトの問題点  <br>   • Vivliostyleの各ドキュメントの正式なURLと、Google検索で表示されるURLが異なる  <br>         • たとえば、Create Bookの日本語ドキュメントの正式なURLは <https://docs.vivliostyle.org/#/ja/create-book|https://docs.vivliostyle.org/#/ja/create-book> だが、「Create Book ドキュメント」でGoogle検索すると <https://docs.vivliostyle.org/ja/create-book.html|https://docs.vivliostyle.org/ja/create-book.html> が出る。テキスト内容は同じだが画像が出ないなど問題がある。  <br>   • サイト（<https://github.com/vivliostyle/vivliostyle.org|https://github.com/vivliostyle/vivliostyle.org> ）とドキュメントの制作システム（<https://github.com/vivliostyle/docs.vivliostyle.org|docs.vivliostyle.org>）が統合されていない  <br>         • 公式サイトの<https://vivliostyle.org/ja/documents/|ドキュメントページ>とは別に<https://docs.vivliostyle.org/#/ja/|Vivliostyle Viewer、Vivliostyle CLI、Create Book>のトップページが存在する  <br>         • さらにそのトップページとは別に<https://vivliostyle.github.io/docs-vivliostyle-pub/#/|Vivliostyle Pub Docs>、及び<https://vivliostyle.github.io/vfm/#/ja/vfm|VFM: Vivliostyle Flavored Markdown>、<https://vivliostyle.github.io/themes/#/|Vivliostyle Themes>、 <https://vivliostyle.github.io/vivliostyle-cli-helper-doc/#/|vivliostyle-cli-helper-doc>、それぞれのトップページがある  <br>         • 公式サイトのドキュメントページには、上記のうち<https://vivliostyle.github.io/docs-vivliostyle-pub/#/|Vivliostyle Pub Docs>、<https://vivliostyle.github.io/vivliostyle-cli-helper-doc/#/|vivliostyle-cli-helper-doc>へのリンクがない<br>• <https://docute.egoist.dev/|Docute>の問題点  <br>   • JavaScriptファイルであってHTMLファイルではない（SEOに弱い？）  <br>         • サイトの説明：Docute is basically a JavaScript file that fetches Markdown files and renders them as a single-page application.（Docute は基本的に、Markdown ファイルを取得して単一ページのアプリケーションとしてレンダリングする JavaScript ファイルです。）  <br>   • 単一のサイトで複数のプロダクトのドキュメントを公開する前提なので、たとえば単一のプロダクトのドキュメントの場合、微妙に見出しがおかしくなる  <br>         • たとえば<https://vivliostyle.github.io/docs-vivliostyle-pub/#/|Vivliostyle Pub Docs>では、第1章が「最初にお読みください」  <br>         • ところが左サイドのインデックスにはその表示があるが、本文のエリアにはない  <br>   • H4相当以上の見出しが使えない（実質的にはH1〜H3相当まで）  <br>   • （当然だが）VFMが使えない<br><br><https://github.com/vivliostyle/community/issues/122#issuecomment-1976106856|開発者会議March 2024 #122 >合意事項にもとづきまとめた。</blockquote>|
|05:37|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: ブログも含む公式サイトとドキュメント サイトの統合も検討したが規模、運用的に見合わないので公式サイト側は現状維持したい|
|05:41|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/docs.vivliostyle.org/issues/26><br><blockquote>*現在使用している Docute の問題点*<br><br>• 参照: <https://github.com/vivliostyle/docs.vivliostyle.org/issues/25|#25> の「Docuteの問題点」<br><br>最大の問題点は、ウェブ検索で必要なドキュメントが見つからない（SEOに弱い）ということ。Docute のドキュメントの <https://docute.egoist.dev/#comparisons|Comparisons> でも、次のように、SEOが重要な場合にはDocute以外のものを勧めている：<br><br>> *VuePress / GitBook / Hexo*<br>> <br>> They all generate static HTML at build time, which is good for SEO.<br>> <br>> If you care about SEO, you may like using presite to prerender your website.<br><br>*Docuteからの移行先の検討*<br><br><https://github.com/vivliostyle/vivliostyle-sitegen|vivliostyle-sitegen> が使えるようになるとよい。しかしすぐには無理そう。そこでそれまでほかのものを使うことを検討。<br><br>*HonKit を調べてみた*<br><br>参考記事：<https://efcl.info/2020/06/19/githon/|GitBookをForkしてHonKitを作りました><br><br>GitHubリポジトリ：<https://github.com/honkit/honkit|https://github.com/honkit/honkit><br><br>公式サイト：<https://honkit.netlify.app/|https://honkit.netlify.app/><br><br>*HonKit で作られたサイトや本の例*<br><br>• <https://tutorial.djangogirls.org/ja/|Django Girls のチュートリアル> - 多言語のドキュメントサイトの例<br>• <https://jsprimer.net/|JavaScript Primer - 迷わないための入門書> - 書籍にもなっているドキュメントサイトの例  <br>   • GitHubリポジトリ <https://github.com/asciidwango/js-primer|https://github.com/asciidwango/js-primer> をクローンして、ローカルでHonKitによるビルドができる。`npm run build:all` でwebサイトとPDF、EPUB、mobiが生成される。  <br>   • <https://tatsu-zine.com/books/javascript-primer-2ed/samplepage|書籍版の『JavaScript Primer』>は、HonKitで生成されるPDF（品質はよくない）とは違って、TeX (LaTeX)で組版されている。リポジトリ内に公開されている議事録から、書籍化のためにMarkdownからTeXへの変換や両方での修正のマージなどで手間がかかっていることがわかる（<https://github.com/asciidwango/js-primer/blob/master/meetings/2019-10-07/README.md#%E6%9B%B8%E7%B1%8D%E5%8C%96%E3%81%AE%E4%BD%9C%E6%A5%AD|2019-10-07 書籍化の作業>, <https://github.com/asciidwango/js-primer/tree/master/meetings/2020-03-13/README.md|2020-03-13>, <https://github.com/asciidwango/js-primer/tree/master/meetings/2023-02-16/README.md|2023-02-16> など）。<br><br>*HonKitをVivliostyle用に改造できるとよい*<br><br>• MarkdownパーサーをVFMに変更  <br>   • 現状のHonKitのMarkdownパーサーは、<https://github.com/honkit/honkit/tree/master/packages/%40honkit/markdown-legacy|@honkit/markdown-legacy>であり、<https://github.com/GitbookIO/kramed|kramed> というライブラリが使われている。これについてHonKitにissueがある：  <br>         • <https://github.com/honkit/honkit/issues/96|honkit/honkit#96><br>• PDF出力とEPUB出力をVivliostyle CLIに変更  <br>   • 現状のHonKitのPDF出力とEPUB出力にはCalibre ebook-convertが<br><br>*ほかの選択肢*<br><br>Astro?</blockquote>|
|05:45|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|honkit/honkit: 📖 HonKit is building beautiful books using Markdown - Fork of GitBook<br><https://github.com/honkit/honkit><br><blockquote>📖 HonKit is building beautiful books using Markdown - Fork of GitBook</blockquote>|
|06:11|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: サイトの多言語化について、/ja や /en を付けた場合はその言語で省略時は Web ブラウザーの言語に基づくようにできたらよいと考えてる|
|06:14|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: <https://vivliostyle.org/> を開くと英語になるため、日本向けに紹介する場合は明示的に /ja を付ける必要がある<br>自動判定されるようになれば <https://vivliostyle.org/> で全言語向けに対応できる<br><blockquote>open source, web browser based CSS typesetting engine project</blockquote>|
|06:15|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|<http://gihyo.jp|gihyo.jp> Web連載について|
|06:15|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: とくに進捗なし|
|06:15|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: 今後の見通しは？|
|06:16|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata; 組版対象となるデータは決まっているので、あとは CSS 調整という認識だがどうか？|
|06:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Vivliostyle 本体開発などに時間がかかっていて、記事のほうは遠ざかってしまったのっで改めて取り組む必要がある|
|06:26|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: Wikipedia 記事を組版再現するうえで様々な問題があるとのことだが、むしろ問題自体が記事のネタになると思う|
|06:28|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: Wikipedia という媒体、システムの特色と Vivliostyle が目指す書籍的な組版で齟齬がでる箇所を詳細に解説することは面白いネタになるとおもいます|
|06:32|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|yamahige さんによる執筆は Git &amp; GitHub 操作について皆さんフォルーをお願いします！|
|06:33|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|執筆自体は進行中、かつ fork したリポジトリーで commit も継続されているとのこと<br>なので連載記事リポジトリーへの反映運用を固められれば OK だとおもいます！|
|06:35|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|DTP あるあるについては、執筆者を新たに募る想定|
|06:36|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|次回開催は 2024/9/8 (日) で！|
|06:36|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|閉会します<br>みなさんお疲れ様でした！|
