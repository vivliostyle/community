# 2025-12-14

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|03:53|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|本日の Vivliostyle 開発者会議 December 2025 は本メッセージに対するスレッドとして議事録をとります<br>発言内容の補足・訂正などはスレッド中のメッセージとしてお願いします！<br><br>オフレコにしたい発言の際は、その旨をお知らせいただければ<br>議事録の対象から外します<br><https://github.com/vivliostyle/community/issues/150>|
|05:01|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Vivliostyle.js*|
|05:01|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.36.0|2.36.0> (2025-11-14)<br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.36.1|2.36.1> (2025-11-18)<br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.36.3|2.36.3--2.36.4> (2025-12-02)<br>• <https://github.com/vivliostyle/vivliostyle.js/pull/1600|feat: Implement @counter-style #1600><br>• <https://github.com/vivliostyle/vivliostyle.js/pull/1609|feat: Support ::marker CSS pseudo-element #1609><br>|
|05:05|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 2.36.0 で重要な修正は段組に関する以下など<br><br>fix: Improve page/column breaking using browser multi-column feature by MurakamiShinyu · Pull Request #1571 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/pull/1571>|
|05:06|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Koutaro Mukai さんの協力もあって段組に関するバグが改善|
|05:07|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 文字数と行数によるページ領域のサイズ指定をしても、端数の丸め誤差で収まらない問題を修正<br><br>Unexpected text overflow due to sub-pixel rounding errors · Issue #1590 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/issues/1590>|
|05:08|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: font-size と line-height 処理について、指定されたサイズより少し小さくすることで問題を回避|
|05:11|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: calc と閾値を組み合わせて、px 換算における小数点以下の丸め誤差を考慮したサイズにしている|
|05:13|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: ただし必ずしも回避できるわけでなく、課題も残っている<br>例えばルビや圏点、傍点がある場合<br><br><https://github.com/vivliostyle/vivliostyle.js/issues/1590#issuecomment-3588781713>|
|05:15|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: ルビについては negative margin 的な方法で行間を回避できそう<br>圏点、傍点についてもある程度は回避策が判明している<br>しかし方法として微妙なので Vivliostyle として組み込むか悩ましい|
|05:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: CSS としてこの辺を考慮する規格や指定はありそうか？|
|05:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: なさそう|
|05:19|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Chromium の text-emphasis で 2 以上、未満で Vivliostyle として特別にルビ関連の処理をわけるとか必要かも|
|05:19|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: Chromium としてこの件はバグとして扱っている？|
|05:20|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://issues.chromium.org/issues/40851160>|
|05:20|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<blockquote>私はBlinkにおけるルビとテキスト強調のコードパスを調査しました。ルビテキストのメトリクスは、Normalized* APIを使用してルビレイアウトコード（例：RubyBlockPositionCalculator::PlaceLines、ComputeAnnotationOverflow）で計算されます（ComputedEmHeightロジック）。そのパスは、ランのフォント全体でメトリクスを選択および比較して、最終的なem/heightに対して大きい方または主要なメトリクスから最小値を選択します。対照的に、テキスト強調のサイズは、ComputeEmphasisMarkOutsetsを介してフォントごとのFontMetricsから導出されます。これら2つのコードパスは異なるメトリクスソースと選択ロジックを使用するため、同一にすることは容易ではありません。</blockquote>|
|05:28|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://raw.githack.com/vivliostyle/vivliostyle.js/master/packages/core/test/files/index.html>|
|05:31|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: ページの柱などにマーカー指定可能となった<br><br>feat: Implement @counter-style by u1f992 · Pull Request #1600 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/pull/1600>|
|05:32|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|例<br><br>::marker pseudo-element<br><https://raw.githack.com/vivliostyle/vivliostyle.js/master/packages/core/test/files/counter-style/marker.html>|
|05:35|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 通常は outside だが inside も指定可能<br><br>list-style-position<br><https://raw.githack.com/vivliostyle/vivliostyle.js/master/packages/core/test/files/counter-style/list-style-position.html>|
|05:39|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Bullet Marker 対応について、Vivliostyle としてはフォント変更しても常に同じ表示となるようにしている<br>Firefox で Bullet Marker 用に提供しているフォントを採用している<br><br>list-style-type bullet marker<br><https://raw.githack.com/vivliostyle/vivliostyle.js/master/packages/core/test/files/counter-style/list-style-type-bullet.html>|
|05:39|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/pull/1611><br><blockquote>Removed MathJax loading from Vivliostyle Viewer, and MathJax is now loaded only when the source HTML document references the MathJax library.<br><br>To use MathJax as before, please add a `<script>` element referencing the MathJax library in the `<head>` element of your HTML documents, like this:<br><br><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"></script><br><br>Test Sample: <https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html|https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html><br><br>*Note*: Currently, Vivliostyle.js only supports MathJax version 2. MathJax version 3 or 4 is not yet supported, so using them may result in incorrect rendering.<br><br>• resolve <https://github.com/vivliostyle/vivliostyle.js/issues/1501|#1501></blockquote>|
|05:42|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Vivliostyle Viewer では常に MathJax 用 script を常に読み込んでいたが、デフォルトでは廃止<br>利用する場合は自前で表示対象の HTML に script タグ定義が必要|
|05:50|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Vivliostyle CLI*|
|05:50|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v9.8.0|9.8.0> (2025-11-14)<br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v9.8.3|9.8.3--9.8.4> (2025-12-02)<br>|
|05:53|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: これからリリース予定の機能としては、以下など<br><br>feat: Add metadataReader option to customize markdown metadata extraction by u1f992 · Pull Request #665 · vivliostyle/vivliostyle-cli<br><https://github.com/vivliostyle/vivliostyle-cli/pull/665>|
|05:55|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: Playwright から Puppeteer への移行は v10 想定|
|05:56|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://github.com/vivliostyle/vivliostyle-cli/pull/667><br><blockquote>resolves: <https://github.com/vivliostyle/vivliostyle-cli/issues/541|#541><br><br>立て続けにすみません。 <https://github.com/vivliostyle/vivliostyle-cli/pull/666|#666> に続くPRです。`documentProcessor`が指定されている場合にMarkdown以外の非HTML拡張子の原稿を受け付けるようにリジェクトの分岐を変更します。  <br>これで`documentProcessor`を通じてHTMLを返すあらゆる原稿形式を受け付けるようになり、元のIssueの趣旨が達成されます。</blockquote>|
|05:59|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: ↑の機能は PR で提案しているように glob などで条件指定をサポートする案がよさそうですね<br><https://github.com/vivliostyle/vivliostyle-cli/pull/667#issuecomment-3619131841>|
|06:00|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: Transpiler、Bundler でもよくみる条件指定なので|
|06:02|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|```documentProcessor: [<br>  { target: '*.adoc', ... },```|
|06:04|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://github.com/vivliostyle/vivliostyle-cli/issues/651#issuecomment-3570912659><br><blockquote>Ghostscriptのバージョンを上げることで今回の問題については解決できそうですが、おそらくpress-ready公開時の想定メジャーバージョンから外れるかと思います。<br><br>Ghostscriptの挙動も変化してきています。たとえば`-dPDFX`オプションは以前はX-3aを指定する真偽値で、オプションの組み合わせによって実質的にX-1aにも対応する形でしたが、現在では`-dPDFX=1`でX-1aを直接指定できるようになっています（<https://github.com/vibranthq/press-ready/blob/1c931fbeaa8d5d2e476c5e05dce7abb3cb0e56e3/src/ghostScript.ts#L65|vibranthq/press-ready:src/ghostScript.ts#L65>）。<br><br>次回の開発者会議に向けての提起なのですが、press-readyの組み込みをやめることを検討する状況になっていると思います。press-readyやGhostscriptなどの変換の知見は何らかの形で紹介するにしても、更新を期待することも引き継ぐことも難しい外部のプロジェクトに依存してVivliostyle側の機能の一部として提供するのは無理があるのではと感じています。現に、信頼できる変換方法としてはすでに紹介できていない状況です。</blockquote>|
|06:09|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 以下を利用する手もある？<br><br>ちょっと便利なWASM版Ghostscriptを公開している #JavaScript - Qiita<br><https://qiita.com/u1f992/items/4a81cf5ac60d921a96e9><br><blockquote>JavaScriptでPDFを画像化したりPostScriptを経由して処理したいことがあります。ありませんか？ 私はあります。 私はこれまで主にArtifexSoftware/mupdf.jsを使用していました。しかし特定のPDFでタイルパターンあるいはシェーディングパタ...</blockquote>|
|06:10|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|press-ready やめる手もある？|
|06:12|![](https://avatars.slack-edge.com/2023-11-11/6180804843906_ec36242e3b721d6c30e9_72.png)|Koutaro Mukai|Re:VIEWの入稿ガイドライン <https://review-knowledge-ja.readthedocs.io/ja/latest/printing/submit.html>|
|06:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|press-ready の fork も視野に継続検討|
|06:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*VFM*|
|06:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|• <https://github.com/vivliostyle/vfm/pull/209|feat: Add option to reverse figcaption and img order #209 > ✅<br>• <https://github.com/vivliostyle/vfm/issues/210|feat: Add option to assign ID to figcaption instead of img #210><br>• <https://github.com/vivliostyle/vfm/issues/211|feat: Add attribute support for fenced code blocks #211> ✅<br>• <https://github.com/vivliostyle/vfm/pull/212|feat: Support attribute syntax for fenced code blocks #212><br>• <https://github.com/vivliostyle/vfm/pull/213|feat: Add option to assign ID to figcaption #213><br>|
|06:20|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vfm/issues/190><br><blockquote>VFMのセクション分け(sectionization)の仕様で<br><br>> • 見出しの `id` 属性値をセクションの `aria-labelledby` 属性へ値をコピーします<br><br>としましたが、これはアクセシビリティ的にあまりよくなかったかもしれません。次の記事を参照：<br><br>ウェブアクセシビリティの基本：ランドマークロールを理解する  <br><https://www.to-r.net/media/landmark/|https://www.to-r.net/media/landmark/><br><br>> ## region<br>> <br>> `role="region"`は、他に適切なランドマークが存在しない場合に使用される一般的なランドマークです。  <br>> regionロールにするにはsection要素を使ってマークアップします。  <br>> section要素はheader, footer要素の例のように、特定の条件下でロールが変わります。  <br>> section要素のデフォルトのロールは「対応するロールなし」であり、ランドマーク要素ではありません。ChromeのアクセシビリティツリーではSectionと表示されますが、これは独自の仕様のようです。<br>> <br>> ところがアクセシブルネームを与えることで、section要素は暗黙のロールをregionに変更し、ランドマークになることができます。アクセシブルネームをつける方法としては、aria-labelledby属性、aria-label属性、title属性の3種類の方法がありますが、可視の見出し要素に関連付けるaria-labelledbyで実装するのがベストです。<br>> <br>> <section aria-labelledby="name"><br>> 　<h1 id="name">Region Heading</h1><br>> </section><br>> <br>> aria-labelledby属性を使ってアクセシブルネームをつけた例<br>> <br>> しかし、ウェブページ内すべての`section`要素にアクセシブルネームをつけるのは誤ったアプローチです。ランドマークが多すぎると、目的の位置に到達することが難しくなるためです。<br><br>また、MDNの<https://developer.mozilla.org/ja/docs/Web/Accessibility/ARIA/Roles/region_role|ARIA: region ロール>にも<https://developer.mozilla.org/ja/docs/Web/Accessibility/ARIA/Roles/region_role#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B7%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E6%87%B8%E5%BF%B5|アクセシビリティに関する懸念>が次のように書かれています：<br><br>> 控えめに使用してください！ ランドマークロールは、文書のより大きな全体的なセクションを識別するために、控えめに使用することを意図しています。 あまりにも多くのランドマークロールを使用すると、スクリーンリーダーで「ノイズ」が発生し、ページ全体のレイアウトを理解することが難しくなります。</blockquote>|
|06:25|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 現在でている PR と村上さん PR を Review &amp; Merge したら publish します|
|06:25|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|↑を CLI に組み込むのは VFM 変更も多いので、CLI v10 として組み込む|
|06:26|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*Vivliostyle Pub*|
|06:27|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|spring-raining: 先月、アルファ版をリリース|
|06:27|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://alpha.vivliostyle.pub/debug/ast-viewer>|
|06:33|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://tiptap.dev/><br><blockquote>Tiptap is a suite of content editing &amp; real time collaboration tools. Build editor experiences like Notion in weeks, not years.</blockquote>|
|06:33|![](https://secure.gravatar.com/avatar/1ac180f0868137292905c311b5fff781.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png)|spring-raining|<https://prosemirror.net/><br><blockquote>In-browser structured text editing component</blockquote>|
|06:40|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle.js の質疑応答をスキップしたので、ここで|
|06:40|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|yamahige: Marker 対応、有用でありがたい|
|06:41|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai: Target Text も対応が入っているので役立つと思われる|
|06:42|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai: null チェック県連の修正を入れたが、これを検知できなかったのは strict 有効にしていないからかも？|
|06:42|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: strict にしたいのだが、過去コードの歴史的経緯から現在は無効<br>どこかで一気に移行するかも|
|06:43|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: tsconfig 的には `erasableSyntaxOnly` も入れておくとよさそうです|
|06:43|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|*<http://gihyo.jp|gihyo.jp> Web連載について*|
|06:44|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Koutaro Mukai: 今回は特に報告なし、次回は報告ありそう|
|06:46|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|次回開催は 2026/1/11 (日) 14:00 で！|
|06:49|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|閉会します<br>みなさんお疲れ様でした！<br><br>今年の開発者会議は今回で最後です<br>みなさん、よいお年を！|
