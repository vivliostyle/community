# 2023-02-04

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:29|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|本日の Vivliostyle 開発者会議 February 2023 は本メッセージに対するスレッドとして議事録をとります。<br>発言内容の補足や訂正などはスレッド中のメッセージとしてお願いします。<br><br>またオフレコにしたい発言をされる際はその旨をお知らせください。議事録の対象から外します。<br><br>February 2023 · Issue #108 · vivliostyle/community<br><https://github.com/vivliostyle/community/issues/108><br><blockquote>• Meeting Log<br><br>*Agenda*<br>*Vivliostyle.js（<https://github.com/MurakamiShinyu|@MurakamiShinyu>）*<br><br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.0|v2.22.0 (2023-01-25)><br>    • Support CSS leader() function<br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.1|v2.22.1 (2023-01-26)><br>    • *react:* Enable EPUB and Web publication when bookMode=true (default)<br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.2|v2.22.2 (2023-01-26)><br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.3|v2.22.3 (2023-01-29)><br>    • Fix: PDF internal links not working properly<br><br>*CLI（<https://github.com/spring-raining|@spring-raining>）*<br><br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v6.2.0|v6.2.0 (2023-01-25)><br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v6.2.1|v6.2.1 (2023-01-26)><br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v6.2.2|v6.2.2 (2023-01-29)><br><br>*VFM, create-book, vivliostyle-sitegen（<https://github.com/akabekobeko|@akabekobeko>）*<br><br>• （あれば）前月からの報告と今後の予定<br><br>*Themes、<http://vivliostyle.org|vivliostyle.org>（<https://github.com/yamasy1549|@yamasy1549>）*<br><br>• Base Theme、今後の進め方について<br>    • <https://github.com/vivliostyle/themes/pull/103|feat: Create base theme #103><br>    • <https://github.com/vivliostyle/themes/pull/109|Feat/adopt base theme #109><br><br>*Vivliostyle Pub（<https://github.com/takanakahiko|@takanakahiko>、<https://github.com/MurakamiShinyu|@MurakamiShinyu>）*<br><br>• （あれば）前月からの報告と今後の予定<br><br>*ドキュメントのアップデートについて（<https://github.com/ogwata|@ogwata>）*<br><br>• <https://docs.google.com/spreadsheets/d/1JnVevIHDSiIdY9k09Y8cCSs2LcPRNNKQh3_-T7s95VU/edit#gid=0|Vivliostyle ユーザドキュメントリスト><br>    • 今後の進め方、担当分けなど<br><br>*商業出版について（<https://github.com/lwohtsu|@lwohtsu>）*<br><br>• 進行状況、レビュー、質疑応答など<br><br>*次回日程*<br><br>• 3月5日（日曜）？</blockquote>|
|04:57|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|Today's Vivliostyle Developers' Meeting February 2023 will be minuted as a thread in response to this message.<br>Please add your comments or corrections to the message in the thread.<br><br>If you wish to speak off the record, please let us know. It will be removed from the minutes.<br><br>February 2023 - Issue #108 - vivliostyle/community<br> <https://github.com/vivliostyle/community/issues/108><br><blockquote>• Meeting Log<br><br>*Agenda*<br>*Vivliostyle.js（<https://github.com/MurakamiShinyu|@MurakamiShinyu>）*<br><br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.0|v2.22.0 (2023-01-25)><br>    • Support CSS leader() function<br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.1|v2.22.1 (2023-01-26)><br>    • *react:* Enable EPUB and Web publication when bookMode=true (default)<br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.2|v2.22.2 (2023-01-26)><br>• <https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.3|v2.22.3 (2023-01-29)><br>    • Fix: PDF internal links not working properly<br><br>*CLI（<https://github.com/spring-raining|@spring-raining>）*<br><br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v6.2.0|v6.2.0 (2023-01-25)><br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v6.2.1|v6.2.1 (2023-01-26)><br>• <https://github.com/vivliostyle/vivliostyle-cli/releases/tag/v6.2.2|v6.2.2 (2023-01-29)><br><br>*VFM, create-book, vivliostyle-sitegen（<https://github.com/akabekobeko|@akabekobeko>）*<br><br>• （あれば）前月からの報告と今後の予定<br><br>*Themes、<http://vivliostyle.org|vivliostyle.org>（<https://github.com/yamasy1549|@yamasy1549>）*<br><br>• Base Theme、今後の進め方について<br>    • <https://github.com/vivliostyle/themes/pull/103|feat: Create base theme #103><br>    • <https://github.com/vivliostyle/themes/pull/109|Feat/adopt base theme #109><br><br>*Vivliostyle Pub（<https://github.com/takanakahiko|@takanakahiko>、<https://github.com/MurakamiShinyu|@MurakamiShinyu>）*<br><br>• （あれば）前月からの報告と今後の予定<br><br>*ドキュメントのアップデートについて（<https://github.com/ogwata|@ogwata>）*<br><br>• <https://docs.google.com/spreadsheets/d/1JnVevIHDSiIdY9k09Y8cCSs2LcPRNNKQh3_-T7s95VU/edit#gid=0|Vivliostyle ユーザドキュメントリスト><br>    • 今後の進め方、担当分けなど<br><br>*商業出版について（<https://github.com/lwohtsu|@lwohtsu>）*<br><br>• 進行状況、レビュー、質疑応答など<br><br>*次回日程*<br><br>• 3月5日（日曜）？</blockquote>|
|05:03|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://qiita.com/seratch/items/a001985ee1dccaf95727><br><blockquote>DeepL Pro 日本上陸<br><br>DeepL Pro のアナウンスが話題になっていますね！<br><br><https://twitter.com/DeepLcom/status/1272654474771927041><br><https://ww>...</blockquote>|
|05:04|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/seratch/deepl-for-slack><br><blockquote>Slack app for DeepL Translate API users</blockquote>|
|05:10|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle.js|
|05:11|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Release v2.22.3 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.3>|
|05:11|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Release v2.22.2 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/releases/tag/v2.22.2>|
|05:12|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 目次をシンプルに実現できるようになった|
|05:12|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: Table of contents can now be simply realized.|
|05:13|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Leader disappears in very large page · Issue #1109 · vivliostyle/vivliostyle.js<br><https://github.com/vivliostyle/vivliostyle.js/issues/1109><br><blockquote>Test the leader() sample with page size A0 Landscape:  <br><https://vivliostyle.org/viewer/#src=https://raw.githack.com/vivliostyle/vivliostyle.js/master/packages/core/test/files/leader/content-leader.html&style=data:,/*%3Cviewer%3E*/%0A@page%20%7B%20size:%20a0%20landscape;%20%7D%0A/*%3C/viewer%3E*/|https://vivliostyle.org/viewer/#src=https://raw.githack.com/vivliostyle/vivliostyle.js/master/packages/core/test/files/leader/content-leader.html&style=data:,/*%3Cviewer%3E*/%0A@page%20%7B%20size:%20a0%20landscape;%20%7D%0A/*%3C/viewer%3E*/><br><br>Result screenshot:  <br><https://user-images.githubusercontent.com/3324737/214841236-d2e5b1f3-8770-4a0e-a6d4-3d976ac927f2.png|Screenshot 2023-01-26 at 21 51 53><br><br>Zoomed:  <br><https://user-images.githubusercontent.com/3324737/214841654-ab85fde6-d75b-49d3-b813-99f2cb4e5397.png|Screenshot 2023-01-26 at 21 54 34><br><br>The dotted leader disappeared.</blockquote>|
|05:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 縦書きで solid にすると左側に線がつく？|
|05:18|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|akabeko: if I write vertically and make it solid, will there be a line on the left side?|
|05:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: そうなる|
|05:19|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: it will be|
|05:19|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Yusuke S.: 文字が縦組みになるのと同じ仕組みです〜|
|05:19|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|Yusuke S.: It's the same mechanism that makes text vertically aligned.|
|05:20|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: この仕組はフォントに依存する？|
|05:20|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|akabeko: does this mechanism depend on the font?|
|05:21|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: CJK フォントであれば midle dot がある|
|05:21|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: if it's a CJK font, there's midle dot|
|05:22|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|font-family に依存する|
|05:22|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|あと言語指定|
|05:22|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|Depends on font-family|
|05:22|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|And language specification|
|05:33|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Hiroaki KAWAI: 技術文書を Markdown で書き、CSS 組版して PDF 出力するフローを組んでいる<br>ただし Word で作られた文書の目次で三点リーダーを利用しており、CSS 組版でこの機能がほしかったため Pull Request を出した|
|05:34|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|Hiroaki KAWAI: I have a flow to write technical documents in Markdown, format them with CSS, and output them to PDF.<br>However, we use a three-point reader in the table of contents of documents created in Word, and we wanted this functionality in CSS formatting, so we submitted a pull request.|
|05:37|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Hiroaki KAWAI: GitHub (GFM) で mermaid.js によりベクターの図表を作成できるが、VFM にもこの機能がほしい|
|05:37|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|Hiroaki KAWAI: GitHub (GFM) can create vector charts with mermaid.js, but I want VFM to have this feature|
|05:38|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 最新の Vivliostyle はサードパーティ製 JavaScript 読み込みをサポートしているので、そこで mermaid.js を使う手があるかも|
|05:38|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|akabeko: the latest Vivliostyle supports loading 3rd party JavaScript, so you may be able to use mermaid.js there|
|05:38|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/issues/975><br><blockquote>*Describe the bug*  <br>When a new element is created via javascript, it ignores all existing css styles<br><br>*To Reproduce*  <br>Steps to reproduce the behavior:<br><br>1. Create an html file named "test.html" with the following contents:<br><br><pre><!DOCTYPE html><br><html><br>    <head><br>        <style><br>            .red {<br>                color: red;<br>            }<br>        </style><br>    </head><br>    <body><br>        <div id="container"><br>            <div class="red">hardcoded element</div><br>        </div><br>        <script><br>            var container = document.getElementById('container');<br>            var redThing = document.createElement('div');<br>            redThing.className = 'red';<br>            redThing.innerText = 'javascript element';<br>            container.append(redThing);<br>        </script><br>    </body><br></html></pre><br><br>2. run `vivliostyle build test.html`<br>3. open output.pdf<br><br>*Expected behavior*  <br>Both "hardcoded element" and "javascript element" should be displayed in red text in output.pdf<br><br>*Screenshots*  <br><https://user-images.githubusercontent.com/86076906/184557402-06ba6cbb-fee4-4544-b8a1-2b6dbdbb1e5a.png|image><br><br>*Desktop (please complete the following information):*<br><br>• OS: Windows<br>• Version:<br>    • cli: 5.5.1<br>    • core: 2.17.1</blockquote>|
|05:41|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 関連する話題として Chrome が MathML をサポートしたので VFM の MathJax 対応を廃止にできるかも？|
|05:42|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|akabeko: On a related note, now that Chrome supports MathML, maybe we can make VFM's MathJax support obsolete?|
|05:43|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: LaTeX 形式ものもを VFM で MathML 変換できればよいかもしれない|
|05:44|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: it would be nice if VFM could convert LaTeX format to MathML|
|05:44|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: MathJax 相当の変換機能を持つ npm があれば、それを VFM から呼び出すことで実現できるかもしれない|
|05:44|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|akabeko: if there is an npm with MathJax equivalent conversion functionality, it might be possible to call it from VFM|
|05:45|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/react/CHANGELOG.md><br><blockquote>*Change Log*<br><br>All notable changes to this project will be documented in this file.  <br>See <https://conventionalcommits.org|Conventional Commits> for commit guidelines.<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.22.2...v2.22.3|2.22.3> (2023-01-29)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.22.1...v2.22.2|2.22.2> (2023-01-26)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.22.0...v2.22.1|2.22.1> (2023-01-26)*<br>*Bug Fixes*<br><br>• *react:* default to BookMode=true and revert to before modification of json determination as it changes the behavior (<https://github.com/vivliostyle/vivliostyle.js/commit/d4429d8ab82ecfebd2c6d7b0a927e867c5f1307f|d4429d8>)<br>• *react:* Enable EPUB and Web publishing only when bookMode=true (<https://github.com/vivliostyle/vivliostyle.js/commit/3e17f7e4e223b44f80713c2b4d87c27a845941a9|3e17f7e>)<br>• *react:* Modify the conditional expression to determine if it is EPUB (<https://github.com/vivliostyle/vivliostyle.js/commit/00ea1023dea651778f2aee4b65088ada6172c05a|00ea102>)<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.21.1...v2.22.0|2.22.0> (2023-01-25)*<br>*Bug Fixes*<br><br>• *react:* Fix code that causes null error (<https://github.com/vivliostyle/vivliostyle.js/commit/e05998f9d8c56ca3863994573ba328c301a10000|e05998f>)<br><br>*Features*<br><br>• *react:* Modify type definition errors as a result of updating react (<https://github.com/vivliostyle/vivliostyle.js/commit/9fb71ba449b77a9125651bd2cc6bda42fa2ba89b|9fb71ba>)<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.21.0...v2.21.1|2.21.1> (2023-01-06)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.20.0...v2.21.0|2.21.0> (2023-01-06)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.19.2...v2.20.0|2.20.0> (2022-12-16)*<br>*Bug Fixes*<br><br>• Question: react renderer size (<https://github.com/vivliostyle/vivliostyle.js/commit/9d1fe83ed4ad1b17834b17eeb11d070664e33723|9d1fe83>), closes <https://github.com/vivliostyle/vivliostyle.js/issues/709|#709><br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.19.1...v2.19.2|2.19.2> (2022-11-17)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.19.0...v2.19.1|2.19.1> (2022-10-21)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.18.4...v2.19.0|2.19.0> (2022-10-18)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.18.3...v2.18.4|2.18.4> (2022-10-12)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.18.2...v2.18.3|2.18.3> (2022-09-30)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.18.1...v2.18.2|2.18.2> (2022-09-30)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.18.0...v2.18.1|2.18.1> (2022-09-18)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.17.2...v2.18.0|2.18.0> (2022-09-17)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.17.1...v2.17.2|2.17.2> (2022-08-14)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.17.0...v2.17.1|2.17.1> (2022-08-09)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.16.0...v2.17.0|2.17.0> (2022-07-29)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.8...v2.16.0|2.16.0> (2022-07-19)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.7...v2.15.8|2.15.8> (2022-07-08)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.6...v2.15.7|2.15.7> (2022-07-04)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.5...v2.15.6|2.15.6> (2022-07-03)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.4...v2.15.5|2.15.5> (2022-06-12)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.3...v2.15.4|2.15.4> (2022-06-01)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.2...v2.15.3|2.15.3> (2022-05-29)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.1...v2.15.2|2.15.2> (2022-05-22)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.15.0...v2.15.1|2.15.1> (2022-05-06)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.6...v2.15.0|2.15.0> (2022-05-05)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.5...v2.14.6|2.14.6> (2022-04-18)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.4...v2.14.5|2.14.5> (2022-04-11)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.3...v2.14.4|2.14.4> (2022-02-21)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.2...v2.14.3|2.14.3> (2022-02-18)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.1...v2.14.2|2.14.2> (2022-02-14)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.14.0...v2.14.1|2.14.1> (2022-02-05)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.13.0...v2.14.0|2.14.0> (2022-02-04)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.12.1...v2.13.0|2.13.0> (2022-01-17)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.12.0...v2.12.1|2.12.1> (2021-11-19)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.11.3...v2.12.0|2.12.0> (2021-11-13)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.11.2...v2.11.3|2.11.3> (2021-10-31)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.11.1...v2.11.2|2.11.2> (2021-10-17)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.11.0...v2.11.1|2.11.1> (2021-10-08)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.9.1...v2.10.0|2.10.0> (2021-09-17)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.9.0...v2.9.1|2.9.1> (2021-09-08)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliostyle/vivliostyle.js/compare/v2.8.1...v2.9.0|2.9.0> (2021-09-03)*<br><br>*Note:* Version bump only for package @vivliostyle/react<br><br>*<https://github.com/vivliosty…</blockquote>|
|06:01|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/w3c/csswg-drafts/issues/6723><br><blockquote>Normal kerning for CJK fonts that support the ‘kern’ feature should only apply the feature on proportional glyphs. By default this means excluding the fullwidth CJK glyphs and only kerning the proportional Latin glyphs.  <br>If kerning the CJK fullwidth glyphs you must also apply ‘palt’ (‘vpal’ in vertical) or the kerning amounts will be incorrect. This kerning should be optional and not the default.</blockquote>|
|06:02|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|CLI|
|06:02|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: CLI はバグ修正と最新の Vivliostyle 取り込み、Chromium 更新ぐらい|
|06:03|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: CLI has bug fixes, latest Vivliostyle import, Chromium update, etc.|
|06:03|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|VFM と Create Book は進捗なし|
|06:03|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|No progress on VFM and Create Book|
|06:03|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Themes、<http://vivliostyle.org|vivliostyle.org>|
|06:04|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|feat: Create base theme by spring-raining · Pull Request #103 · vivliostyle/themes<br><https://github.com/vivliostyle/themes/pull/103><br><blockquote>*About*<br><br>新しいVivliostyle theme `@vivliostyle/theme-base` を追加します。使用方法についてはこちらを参照してください。 <https://github.com/vivliostyle/themes/blob/937a5326b8c9d2ebf7bab05f3ae6521d23521fc4/packages/%40vivliostyle/theme-base/README.md|https://github.com/vivliostyle/themes/blob/937a5326b8c9d2ebf7bab05f3ae6521d23521fc4/packages/%40vivliostyle/theme-base/README.md><br><br>theme-baseは他のVivliostyle themeから継承して使用することを意図しています。このPRをマージしたあとに、他のVivliostyle theme (theme-techbookなど) についても順次theme-baseを使用する方式に変更してPRを作成します。</blockquote>|
|06:04|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Feat/adopt base theme by spring-raining · Pull Request #109 · vivliostyle/themes<br><https://github.com/vivliostyle/themes/pull/109><br><blockquote>*theme-academic*<br>*theme-bunko*<br>*theme-gutenberg*<br>*theme-slide*<br>*theme-techbook*</blockquote>|
|06:04|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Base Theme は大きな話なので担当者が揃ったときにあらためて議題にしたい|
|06:04|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: Base Theme is a big topic, so I'd like to discuss it again when we have all the people in charge.|
|06:05|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: 個別に時間をとって話をしたほうがよい？それとも次回で議論する？|
|06:05|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|ogwata: should we take time to talk individually? Or should we discuss it at the next meeting?|
|06:06|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: 個別 Issue で議論するが、Theme としては変数を増やしすぎるのは避けたほうがよいと考えている|
|06:06|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: We will discuss this in a separate issue, but I think it is better not to add too many variables as Theme|
|06:09|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: CSS 変数でカスタマイズする範囲と、そうでない部分を切り分ける必要がある<br>CSS 変数は必要最小にしないとわかりにくくなり、オーバーライドが難しくなる懸念あり|
|06:09|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: Need to separate the scope of customization with CSS variables from that which is not<br>CSS variables should be kept to a minimum, otherwise it will be difficult to understand and override.|
|06:12|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: CSS 変数に影響しそうな話として font-kerning は Viviliostyle で先行実装する予定|
|06:12|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: font-kerning will be implemented first in Viviliostyle as it may affect CSS variables|
|06:13|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle Pub|
|06:14|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|shinyu: Core と Viewer 更新のみ|
|06:14|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|shinyu: Core and Viewer updates only|
|06:14|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle-pub/issues/245><br><blockquote>Pubでのプレビューでは、章ごとにページ番号が1からはじまっているので、以下のような不便があります。<br><br>• 1冊にしたときの総ページ数をだすのに、別途計算が必要<br>• 台割や書き出したPDFとの突合が面倒<br><br>1冊で一貫したページ番号をプレビューで表示したいところです。</blockquote>|
|06:15|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle-pub/issues/246><br><blockquote>書類の変更後、Save documentボタンを押すだけで変更が保存されます。これはユーザにとって手間が少なくてよいのですが、作業が進んで変更が多くなると不便な場合があります。<br><br>下記スクリーンショットを見ると分かるように、「Update xxxxx.md」のように、ファイル名だけ違うメッセージが並ぶので、何を変更したか分からず混乱しやすいのです。<br><br>オプションでよいので、任意のメッセージが入力できるようにできないでしょうか。<br><br><https://user-images.githubusercontent.com/31482860/215980316-42b211f5-0804-4902-ae10-1e7219a678ac.png|スクリーンショット 2023-02-01 16 37 56></blockquote>|
|06:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ドキュメントのアップデートについて|
|06:18|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|About Documentation Updates|
|06:19|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|ogwata: Vivliostyle 関連のドキュメントをスプレッドシートにまとめた、これは網羅的なリストになる|
|06:19|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|ogwata: I've put together a spreadsheet of Vivliostyle related documents, this will be an exhaustive list|
|06:26|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|商業出版について|
|06:26|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|About Commercial Publishing|
|06:32|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Vivliostyle-CLIでmermaid.jsを使用する - Qiita<br><https://qiita.com/AyumuTakai/items/6267f93afebf726378a0><br><blockquote>Vivliostyle-CLI v4.6.0から使えるようになったJavaScriptで、近頃話題のmermaid.jsが使えるか試してみました。<br><br>表示例<br><br>VFMファイル<br>VFMのFrontmatterのscriptプロパティに...</blockquote>|
|06:35|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|feat: disable attributes copy to parent by akabekobeko · Pull Request #157 · vivliostyle/vfm<br><https://github.com/vivliostyle/vfm/pull/157><br><blockquote>refs <https://github.com/vivliostyle/vfm/issues/151|#151><br><br>• 見出し属性のセクションへのコピーを無効化<br>• コピーで hidden 属性を独自に処理していたが、これは維持<br>    • これをなくすと `# Heading {hidden}` が処理されない<br>    • `{}` 記法の仕様かバグ対策と思われるので、互換性のため踏襲<br>• section の深さにあわせて aria-labelledby 属性へ `heading-N` を設定するようにした<br>• ドキュメント<br>    • セクション処理における属性コピーの説明と CSS サンプルを削除<br>    • aria-labelledby の説明を追記</blockquote>|
|06:37|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Release Release 1.2.2 · vivliostyle/vfm<br><https://github.com/vivliostyle/vfm/releases/tag/v1.2.2>|
|06:41|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vfm/issues/151><br><blockquote>*Update 2022-10-01* <https://github.com/vivliostyle/community/issues/104|開発者会議> での討論の結果、<https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|*親要素への属性の移動・コピーをすべて廃止する案*>を採用することに決定。<br><br>よって、以下の最初の提案「自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定」は取り下げ。<br><br>* * *<br><br>現在のvfmの仕様では、見出しに指定された属性は、HTMLの見出し要素(h1-h6)だけでなく自動生成されるsection要素にも出力される（ただし id は section のみなど例外あり）。また、画像でimg要素を囲むfigure要素が自動生成される場合にも同様で、指定された属性はimgとfigureの両方に出力される（ただし width 属性などは img のみ）。この仕様になったのは以下のissueで議論された結果である:<br><br>• <https://github.com/vivliostyle/vfm/issues/8|#8><br>• <https://github.com/vivliostyle/vfm/issues/9|#9><br>• <https://github.com/vivliostyle/vfm/issues/15|#15><br><br>しかし、この仕様であまり便利ではないことがある。<br><br>たとえばstyle属性で見出しのスタイルを指定したい場合。<br><br>例：<br><br><pre>## Lorem {style="border: solid; font-size: 2em"}<br><br>Lorem ipsum dolor sit amet.</pre><br><br>出力されるHTMLは：<br><br><pre><section style="border: solid; font-size: 2em" id="lorem" class="level2"><br>  <h2 style="border: solid; font-size: 2em">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>このように見出しに指定したスタイルは見出しのh2要素だけでなくsection要素にも指定されてしまい、意図しない結果になる。<br><br>通常はstyle属性ではなくクラスの指定によってスタイル指定を行うが、それでも同様の問題がある。たとえばスタイルシートで `.lorem {border: solid}` というクラスの定義があってこのクラスを見出しに指定した場合、見出しとセクション全体の両方がボーダー囲みになる。<br><br>このためvfmにより生成されるHTMLのためのスタイルシートを書くときは、同じクラス名が見出しとsectionの両方にあることを意識して、`h2.lorem {…}` や `section.lorem {…}` のように要素名も指定してクラスのスタイルを定義しなくてはならない。クラス名だけでスタイルを指定しているような既存のスタイルシートを利用できないのも不便だ（たとえば <https://tailwindcss.com/|Tailwind CSS> では、 `.border-solid {border: solid}` のようにクラス名に対するスタイルが定義されているが、このようなスタイルシートを利用できない）。<br><br>*仕様変更の提案*<br><br>この問題の改善のために、以下の仕様変更を行うことを提案する。<br><br>• 自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定<br>    • `#id` の形式で指定したid属性は自動生成の親要素に移動、`.class` の形式で指定したclass名は親要素にコピー（これらは変更なし）　※これを変更する案もあり： <https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|親要素への属性の移動・コピーをすべて廃止する案><br>    • それ以外の形式での属性の指定（`name=value` または値を省略した `name` だけの形式）は、親要素にコピーしない<br>• 明示的な親要素がある場合の見出しや画像では親要素の自動生成をせず、属性の移動・コピーをしない<br><br>以下、詳しい説明。<br><br>*自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定*<br><br>自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定し、それ以外の形式での属性の指定（`name=value` または値を省略した `name` の形式）は、親要素にコピーしないようにする。<br><br>idとclassについても、`id=ID`、`class=CLASS` という形式での指定であれば、親要素ではなく当該要素のidとclassとなる。  <br>`.class` と `class=CLASS` の両方の指定が同時にある場合は `.class` は親要素のクラス、`class=CLASS` は当該要素のクラスとなる。  <br>これによって、親要素と当該要素にそれぞれ別のidとclassを指定することが可能になる。<br><br>例：<br><br><pre>## Lorem {#sec01 .sec-lorem id=h01 class=h-lorem style="border: solid" lang="la"}<br><br>Lorem ipsum dolor sit amet.</pre><br><br>現在のvfmで出力されるHTML：<br><br><pre><section id="sec01" class="level2 sec-lorem h-lorem" style="border: solid" lang="la"><br>  <h2 class="sec-lorem h-lorem" style="border: solid" lang="la">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>この仕様変更をおこなった場合の出力されるHTML：<br><br><pre><section id="sec01" class="level2 sec-lorem"><br>  <h2 id="h01" class="h-lorem" style="border: solid" lang="la">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>例：<br><br><pre>[Lorem ipsum](lipsum.png){#fig01 .fig-lipsum id=img01 class=img-lipsum width=100 style="border: solid"}</pre><br><br>現在のvfmで出力されるHTML：<br><br><pre><figure id="fig01" class="fig-lipsum img-lipsum" style="border: solid"><br>  <img src="lipsum.png" alt="Lorem ipsum" class="fig-lipsum img-lipsum" width="100" style="border: solid"><br>  <figcaption aria-hidden="true">Lorem ipsum</figcaption><br></figure></pre><br><br>この仕様変更をおこなった場合の出力されるHTML：<br><br><pre><figure id="fig01" class="fig-lipsum"><br>  <img src="lipsum.png" alt="Lorem ipsum" class="img-lipsum" width="100" style="border: solid"><br>  <figcaption aria-hidden="true">Lorem ipsum</figcaption><br></figure></pre><br><br>現在の仕様でも一部の属性（`width` など）は親要素にコピーしないので、変更後の仕様（`name=value` 形式の属性はすべてコピーしない）のほうが一貫性があって分かりやすいといえる。<br><br>*注意点：*<br><br>• これまでは `#ID` と `.Class` はそれぞれ `id=ID` と `class=Class` の簡易記法といえたが、この仕様変更によってそうではなくなる。<br>• 複数のクラス名を指定するには、親要素にコピーするのであれば `{.Class1 .Class2}` と書き、そうでないなら `{class="Class1 Class2"}` と書くことになる。<br>• 属性指定で値を省略した形式 `{attr}` は `{attr=""}` と同じ意味である（HTMLの属性の仕様から）。したがって `{.foo class}` は `{.foo class=""}` と同じで、親要素にのみクラス名を出力（class="foo"）、当該要素はクラス名なし（class=""）となる。<br><br>*検討事項：*<br><br>• `.class` を `#id` と同様に親要素だけに属性を出力するものとしたほうがよいかもしれない。<br>    • 問題点： 仕様変更の影響がより大きくなり、これまでのvfmやpandocのsection-divsからの移行がめんどうになる。<br>• あるいは、<https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|親要素への属性の移動・コピーをすべて廃止する案> のほうがよいかもしれない。<br><br>*明示的な親要素がある場合の見出しや画像では親要素の自動生成をせず、属性の移動・コピーをしない*<br><br>これについては、別のissueに分ける：<br><br>• <https://github.com/vivliostyle/vfm/issues/152|#152><br>• <https://github.com/vivliostyle/vfm/issues/153|#153></blockquote>|
|06:44|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vfm/issues/155><br><blockquote>*Update 2022-10-01* <https://github.com/vivliostyle/community/issues/104|開発者会議> での討論の結果、 見出し記法の `## 見出し ##` の終わりの `##` （先頭の `##` と同じ数）がある場合に自動section囲みをしないことにすることで、section囲みにするかしないかを切り替えられるようにするという案（by <https://github.com/nosuke23|@nosuke23>）を採用することに決定。<br><br>よって、以下の最初の提案（自動section囲みにする見出しを制限するvfmのオプション設定、デフォルトは h1 を除外）は取り下げ。<br><br>* * *<br><br>vfmでは文書内の最初の見出しが、文書のタイトル（HTMLのtitle要素）になる。それなのに、その最初の見出しは自動的にsectionで囲まれる。つまり最初のsectionの見出しとなる。<br><br>最初の見出しでもsection囲みにするのはpandocのsection-divsの仕様を踏襲したためだが、見直すべきかもしれない。  <br>最初の見出し（通常h1要素）はHTMLのbody要素の直下に生成され、その次の見出し（通常h2要素）からsection囲みになるほうが、HTML文書構造として自然ではないか。<br><br>自動section囲みにする見出しを制限するオプションがあるとよいかもしれない。  <br>例えば、 `--section-headings=h2-h4` という指定で h2, h3, h4 だけを自動section囲みにする。値 `all` ですべて（現在と同じ）、値 `none` でsection囲みなし。デフォルトは h1 を除外した `h2-h6` とするのが適切だろう。<br><br>関連issue:<br><br>• <https://github.com/vivliostyle/vfm/issues/152|#152></blockquote>|
|06:45|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|akabeko: 以下に対応して 2 月中に VFM v2.0.0 をリリース予定<br>spec: Attributes on auto-generated parent elements (section, figure) · Issue #151 · vivliostyle/vfm<br><https://github.com/vivliostyle/vfm/issues/151><br><blockquote>*Update 2022-10-01* <https://github.com/vivliostyle/community/issues/104|開発者会議> での討論の結果、<https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|*親要素への属性の移動・コピーをすべて廃止する案*>を採用することに決定。<br><br>よって、以下の最初の提案「自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定」は取り下げ。<br><br>* * *<br><br>現在のvfmの仕様では、見出しに指定された属性は、HTMLの見出し要素(h1-h6)だけでなく自動生成されるsection要素にも出力される（ただし id は section のみなど例外あり）。また、画像でimg要素を囲むfigure要素が自動生成される場合にも同様で、指定された属性はimgとfigureの両方に出力される（ただし width 属性などは img のみ）。この仕様になったのは以下のissueで議論された結果である:<br><br>• <https://github.com/vivliostyle/vfm/issues/8|#8><br>• <https://github.com/vivliostyle/vfm/issues/9|#9><br>• <https://github.com/vivliostyle/vfm/issues/15|#15><br><br>しかし、この仕様であまり便利ではないことがある。<br><br>たとえばstyle属性で見出しのスタイルを指定したい場合。<br><br>例：<br><br><pre>## Lorem {style="border: solid; font-size: 2em"}<br><br>Lorem ipsum dolor sit amet.</pre><br><br>出力されるHTMLは：<br><br><pre><section style="border: solid; font-size: 2em" id="lorem" class="level2"><br>  <h2 style="border: solid; font-size: 2em">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>このように見出しに指定したスタイルは見出しのh2要素だけでなくsection要素にも指定されてしまい、意図しない結果になる。<br><br>通常はstyle属性ではなくクラスの指定によってスタイル指定を行うが、それでも同様の問題がある。たとえばスタイルシートで `.lorem {border: solid}` というクラスの定義があってこのクラスを見出しに指定した場合、見出しとセクション全体の両方がボーダー囲みになる。<br><br>このためvfmにより生成されるHTMLのためのスタイルシートを書くときは、同じクラス名が見出しとsectionの両方にあることを意識して、`h2.lorem {…}` や `section.lorem {…}` のように要素名も指定してクラスのスタイルを定義しなくてはならない。クラス名だけでスタイルを指定しているような既存のスタイルシートを利用できないのも不便だ（たとえば <https://tailwindcss.com/|Tailwind CSS> では、 `.border-solid {border: solid}` のようにクラス名に対するスタイルが定義されているが、このようなスタイルシートを利用できない）。<br><br>*仕様変更の提案*<br><br>この問題の改善のために、以下の仕様変更を行うことを提案する。<br><br>• 自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定<br>    • `#id` の形式で指定したid属性は自動生成の親要素に移動、`.class` の形式で指定したclass名は親要素にコピー（これらは変更なし）　※これを変更する案もあり： <https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|親要素への属性の移動・コピーをすべて廃止する案><br>    • それ以外の形式での属性の指定（`name=value` または値を省略した `name` だけの形式）は、親要素にコピーしない<br>• 明示的な親要素がある場合の見出しや画像では親要素の自動生成をせず、属性の移動・コピーをしない<br><br>以下、詳しい説明。<br><br>*自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定*<br><br>自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定し、それ以外の形式での属性の指定（`name=value` または値を省略した `name` の形式）は、親要素にコピーしないようにする。<br><br>idとclassについても、`id=ID`、`class=CLASS` という形式での指定であれば、親要素ではなく当該要素のidとclassとなる。  <br>`.class` と `class=CLASS` の両方の指定が同時にある場合は `.class` は親要素のクラス、`class=CLASS` は当該要素のクラスとなる。  <br>これによって、親要素と当該要素にそれぞれ別のidとclassを指定することが可能になる。<br><br>例：<br><br><pre>## Lorem {#sec01 .sec-lorem id=h01 class=h-lorem style="border: solid" lang="la"}<br><br>Lorem ipsum dolor sit amet.</pre><br><br>現在のvfmで出力されるHTML：<br><br><pre><section id="sec01" class="level2 sec-lorem h-lorem" style="border: solid" lang="la"><br>  <h2 class="sec-lorem h-lorem" style="border: solid" lang="la">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>この仕様変更をおこなった場合の出力されるHTML：<br><br><pre><section id="sec01" class="level2 sec-lorem"><br>  <h2 id="h01" class="h-lorem" style="border: solid" lang="la">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>例：<br><br><pre>[Lorem ipsum](lipsum.png){#fig01 .fig-lipsum id=img01 class=img-lipsum width=100 style="border: solid"}</pre><br><br>現在のvfmで出力されるHTML：<br><br><pre><figure id="fig01" class="fig-lipsum img-lipsum" style="border: solid"><br>  <img src="lipsum.png" alt="Lorem ipsum" class="fig-lipsum img-lipsum" width="100" style="border: solid"><br>  <figcaption aria-hidden="true">Lorem ipsum</figcaption><br></figure></pre><br><br>この仕様変更をおこなった場合の出力されるHTML：<br><br><pre><figure id="fig01" class="fig-lipsum"><br>  <img src="lipsum.png" alt="Lorem ipsum" class="img-lipsum" width="100" style="border: solid"><br>  <figcaption aria-hidden="true">Lorem ipsum</figcaption><br></figure></pre><br><br>現在の仕様でも一部の属性（`width` など）は親要素にコピーしないので、変更後の仕様（`name=value` 形式の属性はすべてコピーしない）のほうが一貫性があって分かりやすいといえる。<br><br>*注意点：*<br><br>• これまでは `#ID` と `.Class` はそれぞれ `id=ID` と `class=Class` の簡易記法といえたが、この仕様変更によってそうではなくなる。<br>• 複数のクラス名を指定するには、親要素にコピーするのであれば `{.Class1 .Class2}` と書き、そうでないなら `{class="Class1 Class2"}` と書くことになる。<br>• 属性指定で値を省略した形式 `{attr}` は `{attr=""}` と同じ意味である（HTMLの属性の仕様から）。したがって `{.foo class}` は `{.foo class=""}` と同じで、親要素にのみクラス名を出力（class="foo"）、当該要素はクラス名なし（class=""）となる。<br><br>*検討事項：*<br><br>• `.class` を `#id` と同様に親要素だけに属性を出力するものとしたほうがよいかもしれない。<br>    • 問題点： 仕様変更の影響がより大きくなり、これまでのvfmやpandocのsection-divsからの移行がめんどうになる。<br>• あるいは、<https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|親要素への属性の移動・コピーをすべて廃止する案> のほうがよいかもしれない。<br><br>*明示的な親要素がある場合の見出しや画像では親要素の自動生成をせず、属性の移動・コピーをしない*<br><br>これについては、別のissueに分ける：<br><br>• <https://github.com/vivliostyle/vfm/issues/152|#152><br>• <https://github.com/vivliostyle/vfm/issues/153|#153></blockquote>|
|06:46|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|akabeko: VFM v2.0.0 will be released in February to address the following<br>spec: Attributes on auto-generated parent elements (section, figure) - Issue #151 - vivliostyle/vfm<br> <https://github.com/vivliostyle/vfm/issues/151><br><blockquote>*Update 2022-10-01* <https://github.com/vivliostyle/community/issues/104|開発者会議> での討論の結果、<https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|*親要素への属性の移動・コピーをすべて廃止する案*>を採用することに決定。<br><br>よって、以下の最初の提案「自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定」は取り下げ。<br><br>* * *<br><br>現在のvfmの仕様では、見出しに指定された属性は、HTMLの見出し要素(h1-h6)だけでなく自動生成されるsection要素にも出力される（ただし id は section のみなど例外あり）。また、画像でimg要素を囲むfigure要素が自動生成される場合にも同様で、指定された属性はimgとfigureの両方に出力される（ただし width 属性などは img のみ）。この仕様になったのは以下のissueで議論された結果である:<br><br>• <https://github.com/vivliostyle/vfm/issues/8|#8><br>• <https://github.com/vivliostyle/vfm/issues/9|#9><br>• <https://github.com/vivliostyle/vfm/issues/15|#15><br><br>しかし、この仕様であまり便利ではないことがある。<br><br>たとえばstyle属性で見出しのスタイルを指定したい場合。<br><br>例：<br><br><pre>## Lorem {style="border: solid; font-size: 2em"}<br><br>Lorem ipsum dolor sit amet.</pre><br><br>出力されるHTMLは：<br><br><pre><section style="border: solid; font-size: 2em" id="lorem" class="level2"><br>  <h2 style="border: solid; font-size: 2em">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>このように見出しに指定したスタイルは見出しのh2要素だけでなくsection要素にも指定されてしまい、意図しない結果になる。<br><br>通常はstyle属性ではなくクラスの指定によってスタイル指定を行うが、それでも同様の問題がある。たとえばスタイルシートで `.lorem {border: solid}` というクラスの定義があってこのクラスを見出しに指定した場合、見出しとセクション全体の両方がボーダー囲みになる。<br><br>このためvfmにより生成されるHTMLのためのスタイルシートを書くときは、同じクラス名が見出しとsectionの両方にあることを意識して、`h2.lorem {…}` や `section.lorem {…}` のように要素名も指定してクラスのスタイルを定義しなくてはならない。クラス名だけでスタイルを指定しているような既存のスタイルシートを利用できないのも不便だ（たとえば <https://tailwindcss.com/|Tailwind CSS> では、 `.border-solid {border: solid}` のようにクラス名に対するスタイルが定義されているが、このようなスタイルシートを利用できない）。<br><br>*仕様変更の提案*<br><br>この問題の改善のために、以下の仕様変更を行うことを提案する。<br><br>• 自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定<br>    • `#id` の形式で指定したid属性は自動生成の親要素に移動、`.class` の形式で指定したclass名は親要素にコピー（これらは変更なし）　※これを変更する案もあり： <https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|親要素への属性の移動・コピーをすべて廃止する案><br>    • それ以外の形式での属性の指定（`name=value` または値を省略した `name` だけの形式）は、親要素にコピーしない<br>• 明示的な親要素がある場合の見出しや画像では親要素の自動生成をせず、属性の移動・コピーをしない<br><br>以下、詳しい説明。<br><br>*自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定*<br><br>自動生成の親要素に移動・コピーする属性を `#id` と `.class` に限定し、それ以外の形式での属性の指定（`name=value` または値を省略した `name` の形式）は、親要素にコピーしないようにする。<br><br>idとclassについても、`id=ID`、`class=CLASS` という形式での指定であれば、親要素ではなく当該要素のidとclassとなる。  <br>`.class` と `class=CLASS` の両方の指定が同時にある場合は `.class` は親要素のクラス、`class=CLASS` は当該要素のクラスとなる。  <br>これによって、親要素と当該要素にそれぞれ別のidとclassを指定することが可能になる。<br><br>例：<br><br><pre>## Lorem {#sec01 .sec-lorem id=h01 class=h-lorem style="border: solid" lang="la"}<br><br>Lorem ipsum dolor sit amet.</pre><br><br>現在のvfmで出力されるHTML：<br><br><pre><section id="sec01" class="level2 sec-lorem h-lorem" style="border: solid" lang="la"><br>  <h2 class="sec-lorem h-lorem" style="border: solid" lang="la">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>この仕様変更をおこなった場合の出力されるHTML：<br><br><pre><section id="sec01" class="level2 sec-lorem"><br>  <h2 id="h01" class="h-lorem" style="border: solid" lang="la">Lorem</h2><br>  <p>Lorem ipsum dolor sit amet.</p><br></section></pre><br><br>例：<br><br><pre>[Lorem ipsum](lipsum.png){#fig01 .fig-lipsum id=img01 class=img-lipsum width=100 style="border: solid"}</pre><br><br>現在のvfmで出力されるHTML：<br><br><pre><figure id="fig01" class="fig-lipsum img-lipsum" style="border: solid"><br>  <img src="lipsum.png" alt="Lorem ipsum" class="fig-lipsum img-lipsum" width="100" style="border: solid"><br>  <figcaption aria-hidden="true">Lorem ipsum</figcaption><br></figure></pre><br><br>この仕様変更をおこなった場合の出力されるHTML：<br><br><pre><figure id="fig01" class="fig-lipsum"><br>  <img src="lipsum.png" alt="Lorem ipsum" class="img-lipsum" width="100" style="border: solid"><br>  <figcaption aria-hidden="true">Lorem ipsum</figcaption><br></figure></pre><br><br>現在の仕様でも一部の属性（`width` など）は親要素にコピーしないので、変更後の仕様（`name=value` 形式の属性はすべてコピーしない）のほうが一貫性があって分かりやすいといえる。<br><br>*注意点：*<br><br>• これまでは `#ID` と `.Class` はそれぞれ `id=ID` と `class=Class` の簡易記法といえたが、この仕様変更によってそうではなくなる。<br>• 複数のクラス名を指定するには、親要素にコピーするのであれば `{.Class1 .Class2}` と書き、そうでないなら `{class="Class1 Class2"}` と書くことになる。<br>• 属性指定で値を省略した形式 `{attr}` は `{attr=""}` と同じ意味である（HTMLの属性の仕様から）。したがって `{.foo class}` は `{.foo class=""}` と同じで、親要素にのみクラス名を出力（class="foo"）、当該要素はクラス名なし（class=""）となる。<br><br>*検討事項：*<br><br>• `.class` を `#id` と同様に親要素だけに属性を出力するものとしたほうがよいかもしれない。<br>    • 問題点： 仕様変更の影響がより大きくなり、これまでのvfmやpandocのsection-divsからの移行がめんどうになる。<br>• あるいは、<https://github.com/vivliostyle/vfm/issues/151#issuecomment-1237660873|親要素への属性の移動・コピーをすべて廃止する案> のほうがよいかもしれない。<br><br>*明示的な親要素がある場合の見出しや画像では親要素の自動生成をせず、属性の移動・コピーをしない*<br><br>これについては、別のissueに分ける：<br><br>• <https://github.com/vivliostyle/vfm/issues/152|#152><br>• <https://github.com/vivliostyle/vfm/issues/153|#153></blockquote>|
|06:47|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vfm/blob/main/docs/ja/vfm.md#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%83%9E%E3%82%BF%E3%83%BC%EF%BC%8F%E5%89%8D%E4%BB%98%E3%81%91-frontmatter|https://github.com/vivliostyle/vfm/blob/main/docs/ja/vfm.md#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%83[…]C%8F%E5%89%8D%E4%BB%98%E3%81%91-frontmatter>|
|07:00|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|次回は 3/5 (日) の予定|
|07:18|![](https://avatars.slack-edge.com/2023-01-22/4703892366048_dd8fde69fd74a2ed7a1d_72.png)|DeepL Translation|The next meeting is scheduled for March 5 (Sun.)|
