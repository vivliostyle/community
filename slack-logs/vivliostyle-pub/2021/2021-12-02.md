# 2021-12-02

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|13:28|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|• ルートディレクトリにvivliostyle.config.jsがあり、テーマが設定されていればカスタムテーマがデフォルトで選択される<br>• markdownが保存(commit)されるときにカスタムテーマが選択されていれば、カスタムテーマの参照するCSSをVFMの処理結果にlink要素として含む<br>をprototypeブランチに実装しました。<br><br>サブディレクトリにあるCSSファイルが参照する画像等が正しく表示されない問題についてはこれから取り掛かりますので、日付を跨ぐかもしれません。|
|13:28|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: • If there is vivliostyle.config.js in the root directory and the theme is set, the custom theme will be selected by default.<br>• If a custom theme is selected when markdown is committed, the CSS referenced by the custom theme will be included as a link element in the VFM processing result.<br>Was implemented in the prototype branch.<br><br>The problem that the image etc. referenced by the CSS file in the subdirectory is not displayed correctly will be tackled from now on, so it may cross the date.|
|13:39|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|おつかれさまです。<br><br><blockquote>・ルートディレクトリにvivliostyle.config.jsがあり、テーマが設定されていればカスタムテーマがデフォルトで選択される<br>・markdownが保存(commit)されるときにカスタムテーマが選択されていれば、カスタムテーマの参照するCSSをVFMの処理結果にlink要素として含む</blockquote>両方ともその通り動いていることを確認しました。ご苦労さまです！|
|13:39|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Good work.<br><br>&amp; gt; -If there is vivliostyle.config.js in the root directory and the theme is set, the custom theme will be selected by default.<br>&amp; gt; -If a custom theme is selected when markdown is committed, the CSS referenced by the custom theme is included as a link element in the VFM processing result.<br>I confirmed that both were working as expected. Thank you for your hard work!|
|15:07|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|vivliostyle.config.jsを途中で書き換えた場合など、テストが十分ではないので都度結果を確認しながら扱うようお願いいたします。|
|15:07|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: If you rewrite vivliostyle.config.js in the middle, the test is not enough, so please handle it while checking the result each time.|
|15:18|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|今は例外処理に単純にErrorオブジェクトを多用してしまっているが、きちんとした例外処理を設計するべき。<br>CSSやHTMLが参照している画像を取得する際にPromise.allを使って個別に取得する処理を実行しているが、複数の画像の取得に失敗している場合に失敗したファイル名と失敗の原因を保持できるような例外クラスが必要だと思う。|
|15:18|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Right now, I've simply used a lot of Error objects for exception handling, but I should design proper exception handling.<br>When getting the image referenced by CSS or HTML, Promise.all is used to execute the process to get it individually, but the file name and failure failed when getting multiple images failed. I think we need an exception class that can hold the cause of.|
|19:11|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|CSSで参照している画像を扱えるよう修正しました。<br>これで大きな残作業としてはPDF出力と、ファイル、ディレクトリの削除とリネームぐらいでしょうか。<br>細かいところでまだ潰さなければいけない部分も多いですが。|
|19:11|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Fixed to handle the image referenced by CSS.<br>With this, the only major remaining work is PDF output, deletion and renaming of files and directories.<br>There are still many parts that need to be crushed in small areas.|
