# 2022-06-22

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:07|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|`@takanakahiko` `@shinyu`<br>ドキュメントを書くための質問です。<br>なぜ、Vivliostyle Pubでローカルフォントがプレビューできるのでしょう？<br><br>Vivliostyle PubはDockerコンテナにインストールされたVivliostyle CLIを使ってプレビュー／PDF出力しています。このことは、ローカルにインストールされてないIPA Pゴシックをfont-familyで指定すると、プレビュー／PDF出力できることからも分かります（IPA PゴシックはDockerコンテナにインストールされている）。<br><br>しかし、Vivliostyle CLIがDockerモードで動作しているなら、ローカルフォントはプレビュー／PDF出力できないはずです。ところがローカルフォントである游ゴシックを指定すると、PDF出力ではLiberationSansに置き換わりますが、プレビューは游ゴシックでできます（LiberationSansはDockerコンテナにインストールされている）。<br><br>これはどうしてでしょう？|
|04:07|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧:  <br>This is a question for writing a document.<br>Why can I preview local fonts in Vivliostyle Pub?<br><br>Vivliostyle Pub previews / PDFs using the Vivliostyle CLI installed in the Docker container. This can be seen from the fact that if you specify IPA P Gothic that is not installed locally in font-family, you can preview / PDF output (IPA P Gothic is installed in the Docker container).<br><br>However, if the Vivliostyle CLI is running in Docker mode, you should not be able to preview / PDF output local fonts. However, if you specify the local font Yu Gothic, it will be replaced with Liberation Sans in PDF output, but you can preview it in Yu Gothic (Liberation Sans is installed in the Docker container).<br><br>Why is this?|
|05:09|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<blockquote> Vivliostyle PubはDockerコンテナにインストールされたVivliostyle CLIを使ってプレビュー／PDF出力しています。</blockquote>ここから間違ってます。プレビューにはVivliostyle CLIは使われてません。<br><br>Vivliostyle PubのプレビューのVivliostyle Viewerが動くのは、ユーザーのパソコン上です。パソコンのOS（WindowsやMac）で使えるフォントがプレビューで使われます。<br><br>それに対してVivliostyle PubのPDFビルドで使われるVivliostyle CLIが動くのは、クラウド上です。OSはLinuxです。Linux上で使えるフォントがPDFビルドで使われます。<br><br>（「Docker」や「Cloud Run」などの用語はエンジニアにしか理解できないので、「クラウド上で動く」とだけ説明するとよいと思います。）|
|05:09|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: &amp; gt; Vivliostyle Pub previews / PDFs using the Vivliostyle CLI installed in the Docker container.<br>I'm wrong from here. The Vivlio style CLI is not used for the preview.<br><br>The Vivliostyle Viewer preview of Vivliostyle Pub runs on the user's computer. Fonts that can be used with the OS of the personal computer (Windows or Mac) are used in the preview.<br><br>On the other hand, the Vivliostyle CLI used in the PDF build of Vivliostyle Pub runs on the cloud. The OS is Linux. Fonts that can be used on Linux are used in PDF builds.<br><br>(Terms such as "Docker" and "Cloud Run" can only be understood by engineers, so I think it's best to just explain "runs on the cloud".)|
|05:11|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|なるほど、プレビューはローカルのVivliostyle Viewerによるものだったのですね。了解しました。|
|05:11|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Well, the preview was from the local Vivliostyle Viewer. OK.|
|16:41|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|`@takanakahiko` pull reqしました。よろしくおねがいします：<br><br>• <https://github.com/vivliostyle/vivliostyle-pub/pull/199|fix: Failed to parse vivliostyle.config.js when comments exist><br>• <https://github.com/vivliostyle/vivliostyle-pub/pull/200|fix: url(https://...) in stylesheets caused error><br>config内にコメントがあるとエラーになる問題と、Actionメニューの “Book theme for latin font” を選択すると、「テーマの準備に失敗しました」のエラーになるなどの問題修正しました。<br><blockquote><https://github.com/vivliostyle/vivliostyle-pub/pull/199|#199 fix: Failed to parse vivliostyle.config.js when comments exist></blockquote><br><blockquote><https://github.com/vivliostyle/vivliostyle-pub/pull/200|#200 fix: url(https://...) in stylesheets caused error></blockquote>|
