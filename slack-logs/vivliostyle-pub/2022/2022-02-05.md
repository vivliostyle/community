# 2022-02-05

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|15:12|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|特定のブランチにコミットするとGitHub ActionsでVivliostyle cliのdocker imageを使ってPDFをビルドしてPDFを元のブランチにコミットするところまで出来た。<br><br>cloud runでビルドできないときの代替策に使えるのでは。<br>もしくはこちらの方法のほうが、コンテナの実行費用をリポジトリの所有者持ちにできるので良いこともあるかもしれない。<br><br>あとでGitHub APIで途中経過が取得できるか、完了したか確認できるかを調べる。|
|15:12|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: After committing to a specific branch, GitHub Actions even built a PDF using the Vivliostyle cli docker image and committed the PDF to the original branch.<br><br>Maybe it can be used as an alternative when you can't build with cloud run.<br>Alternatively, this method may be better because the cost of executing the container can be owned by the owner of the repository.<br><br>Later, check if you can get the progress with the GitHub API and check if it is completed.|
|15:14|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|Pubの機能にvivliostyle.config.jsと.github/workfrows/build.yml を生成する機能を実装すればそこまでユーザビリティは下がらないのでは。|
|15:14|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: If you implement the function to generate vivliostyle.config.js and .github / workfrows / build.yml in the function of Pub, the usability will not decrease so much.|
|15:16|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|ビルドに失敗しても、GitHubのサイトでユーザが自分でログを確認できるのはメリットかも。|
|15:16|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Even if the build fails, it may be an advantage that the user can check the log by himself on the GitHub site.|
|15:18|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|特定ブランチへのプッシュをトリガにするよりも、コミットメッセージに特定文字列があった際に起動するほうが良いか。|
|15:18|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Is it better to fire when a commit message contains a specific string than to trigger a push to a specific branch?|
|15:42|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|コミットメッセージに "[vivliostyle build]" を含んでいたらビルドするところまで出来た。|
|15:42|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: If the commit message included "[vivliostyle build]", I could build it.|
|15:53|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|そもそもREST APIからActionsを実行できるらしい。<br><https://docs.github.com/ja/rest/reference/actions><br><br>コミットをトリガにした場合は特定文字列が含まれていなくてキャンセルされてもアクション自体は実行されて履歴にリストアップされてしまうので、APIを叩いて実行したほうが良さそう。|
|15:53|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: It seems that Actions can be executed from the REST API in the first place.<br><https://docs.github.com/ja/rest/reference/actions><br><br>If you use commit as a trigger, the action itself will be executed and listed in the history even if it is canceled because it does not contain a specific character string, so it seems better to hit the API and execute it.|
|16:03|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|ビルドした結果をリポジトリに保存する必要も無い?<br><https://docs.github.com/ja/actions/managing-workflow-runs/downloading-workflow-artifacts>|
|16:03|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Isn't it necessary to save the build result in the repository?<br><https://docs.github.com/ja/actions/managing-workflow-runs/downloading-workflow-artifacts>|
|16:40|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|Actionsのアーティファクトに成果物(pdf)を保存するところまでできた。強制的にzipアーカイブされるので単体のPDFをダウンロードできない。Pubサーバ内で展開しても良いかも。<br><br>このファイルはデフォルトで90日間保存されるらしい。<br><https://docs.github.com/ja/organizations/managing-organization-settings/configuring-the-retention-period-for-github-actions-artifacts-and-logs-in-your-organization|https://docs.github.com/ja/organizations/managing-organization-settings/configuring-[…]od-for-github-actions-artifacts-and-logs-in-your-organization>|
|16:40|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: You've even saved the artifact (pdf) to an Actions artifact. I can't download a single PDF because it is forcibly archived as a zip. Maybe you can deploy it in the Pub server.<br><br>This file seems to be stored for 90 days by default.<br><https://docs.github.com/ja/organizations/managing-organization-settings/configuring-the-retention-period-for-github-actions-artifacts-and-logs-in-your-organization | https: / /docs.github.com/ja/organizations/managing-organization-settings/configuring-[…]od-for-github-actions-artifacts-and-logs-in-your-organization>|
|16:41|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|APIでアクションを実行して、成果物を取得できれば現在の実装を置き換えてみよう。|
|16:41|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Let's take an action in the API and replace the current implementation if we can get the deliverable.|
|20:20|![](https://avatars.slack-edge.com/2021-11-13/2734732574129_8d1b9fea40457c8d0a44_72.png)|Ayumu Takai|Issueにもなってないし、要望として聞いたこともないと思うけれどCtrl+S、Cmd+SでSave documentする機能を実装した。<br>これで手癖でCmd+Sしてブラウザの保存ダイアログが開き、イラッとすることが無くなる。<br>ある程度使えるようになってきたからこその不満かもしれない。|
|20:20|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: It's not an issue, and I don't think I've heard it as a request, but I implemented a function to save document with Ctrl + S and Cmd + S.<br>With this, Cmd + S will open the save dialog of the browser by hand, and you will not be irritated.<br>It may be a dissatisfaction because it has become usable to some extent.|
