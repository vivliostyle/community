# 2024-02-13

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|04:14|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|issueにしました:<br><https://github.com/vivliostyle/vivliostyle.js/issues/1273><br><blockquote>From Vivliostyle Slack <https://vivliostyle.slack.com/archives/CJAP6GBKQ/p1707573820741269|https://vivliostyle.slack.com/archives/CJAP6GBKQ/p1707573820741269><br><br>> 添付のHTMLファイルの中身をコピーして、Vivliostyle Viewerの「ドキュメントURLまたはHTMLコードを入力」欄に貼り付けて「適用」ボタンを押すと、中に含まれている2つの図(figure要素)が表示されません。2つの図が段の上詰めに表示されることを期待してます。<br>> <br>> <https://vivliostyle.org/viewer/|https://vivliostyle.org/viewer/><br>> <br>> • ページは2段組になってます<br>> • 図figure要素は、段の上詰めに設定してるつもりです<br>> <br>> ```<br>> figure {<br>>   float: block-start;<br>>   float-reference: column;<br>> }<br>> ```<br>> <br>> • 図figureの中身はSVGの長方形です。<br>> • 「段の上詰め」設定を外すと、図が2つとも表示されます。<br>> • 段落p要素や図figure要素の順番を変えると表示されます。例えば、2番めの段落と「大きな図」figureを入れ替えると、図が2つとも表示されます。<br>> • コメントアウトしてある、5番目と6番目の段落のコメントアウトを外すと、図が2つとも表示されます。<br><br><https://gist.githubusercontent.com/MurakamiShinyu/609af1af0e047c2a188ce80fe008aa0c/raw/index-svg.html|index-svg.html><br><br>> 中の処理は分からないのですが、外から見てると「ページ/段floatの図が溢れたとき、新しいページ/段を作れず、そのまま割付けられずに過ぎてしまう」現象に見えます。  <br>> ユーザ側の回避策としては、図と前後の段落との順番を変えます。先に段落を溢れさせて、新しいページ/段を作らせればよい…ように見えます。元々floatに設定してる図ですから、前後の段落との順番には余裕があると思います。</blockquote>|
|15:16|![](https://secure.gravatar.com/avatar/fe4feacacd9e5082654778663c7e10a3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png)|yamahige|ありがとうございます、よろしくお願いします。|
