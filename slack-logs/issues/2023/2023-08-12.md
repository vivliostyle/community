# 2023-08-12

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|06:02|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Create Bookで最新のVivliostyle Themeの取得ができない問題が起きています。<br><https://github.com/vivliostyle/create-book/issues/65><br>この修正、私の方でできそうなのでPR作成しようと思います。<br><blockquote>Vivliostyle公式テーマ <https://github.com/vivliostyle/themes|https://github.com/vivliostyle/themes> が v1.0.0 となってので、create-book でそれら最新版のテーマ（`@vivliostyle/theme-techbook@1.0.0` など）が有効になったかテストしたところ、結果はだめでした。最新版のテーマは有効にならず、生成される vivliostyle.config.js の theme には次のように古いバージョンが設定されてました：<br><br><pre>  theme: '@vivliostyle/theme-techbook@^0.4.1',</pre><br><br>原因を調べて以下のことが分かりました。<br><br>テーマの取得は次のところで行なっている：  <br><br><https://github.com/vivliostyle/create-book/blob/7a0061a45b2c8d9b0efe794e4bc9b37ff03d7a3d/src/themes.ts#L90-L93|create-book/src/themes.ts><br><br>Lines 90 to 93 in </vivliostyle/create-book/commit/7a0061a45b2c8d9b0efe794e4bc9b37ff03d7a3d|7a0061a><br><br>ここで使われている <http://api.npms.io|api.npms.io> が最新の情報を返さない問題が起きている。  <br><https://api.npms.io/v2/search?q=keywords:vivliostyle-theme|https://api.npms.io/v2/search?q=keywords:vivliostyle-theme>  <br>で得られるテーマパッケージのバージョンが最新になっていない。<br><br>npms-apiのGitHubに次のissueが見つかりました。<br><br>• <https://github.com/npms-io/npms-api/issues/112|npms-io/npms-api#112><br><br>どうも今年の1月からapi.npms.ioに問題が起きているようです。<br><br><http://api.npms.io|api.npms.io> を使わないで <http://registry.npmjs.org|registry.npmjs.org> を使うとよさそうです：  <br><https://registry.npmjs.org/-/v1/search?text=keywords:vivliostyle-theme|https://registry.npmjs.org/-/v1/search?text=keywords:vivliostyle-theme></blockquote>|
|06:57|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|修正のPR作成しました。これで最新のテーマパッケージが得られるようになること確認しました。<br><https://github.com/vivliostyle/create-book/pull/66><br>`@akabeko` さん、よろしければマージしてcreate-bookの新バージョンリリースお願いします。<br><blockquote>• fix <https://github.com/vivliostyle/create-book/issues/65|#65></blockquote>|
|07:17|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|`@shinyu`<br>PR を Approve &amp; Merge しました<br>あわせて Create Book v1.1.3 としてリリースしました！|
|07:18|![](https://avatars.slack-edge.com/2019-05-15/624511073651_25909952cd7a069ceed2_72.png)|akabeko|Release v1.1.3 · vivliostyle/create-book<br><https://github.com/vivliostyle/create-book/releases/tag/v1.1.3>|
