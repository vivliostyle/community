# 2021-09-16

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|06:05|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|<https://github.com/vivliostyle/vivliostyle.js/issues/776><br>デフォルトのbodyのmarginが8pxになっているのを0に直そうと思います。ページメディアではページ余白は `@page {…}` のmarginで指定される（デフォルトはページの幅・高さの10%）のでbodyのmarginのデフォルトはほとんどの場合不要でありページ余白の指定で意図したよりも大きな余白がデフォルトで付加されてしまうことになります。<br><br>Vivliostyle以外のCSS Paged Mediaの実装を調べましたがVivliostyle以外の7つの実装のうち、bodyのmarginのデフォルトが0でないのは1つだけでした。<br><br>デフォルトのbodyのmarginを8pxから0に直した場合、これまでのデフォルトの設定に依存しているスタイルシートでは組版結果が変わることになるため、これはマイナーではなくてメジャーなバージョンアップとしなければならないかとも考えたのですが、組版結果を意識してVivliostyleを使っているようなユーザーはデフォルトの設定のままにしないで `body { margin: 0}` のように指定しているはずです。 "BREAKING CHANGE" とまではいえないと思います。そこでこの変更は次のマイナーバージョンアップ v2.10.0 に含めることにします。<br><br>ルート要素に指定したフォントなどのスタイルが `@page {…}` 内に継承されない問題も修正しています。<br><https://github.com/vivliostyle/vivliostyle.js/issues/568><br>これも以前のルート要素から `@page {…}` に継承されない動作に依存していたスタイルシートの場合には、ページヘッダーやフッターの組版結果が変わることになります。<br><blockquote><https://github.com/vivliostyle/vivliostyle.js/issues/776|#776 Default body margin should be 0 in paged media></blockquote><br><blockquote><https://github.com/vivliostyle/vivliostyle.js/issues/568|#568 Root element styles are not inherited to page context></blockquote>|
|06:05|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: <https://github.com/vivliostyle/vivliostyle.js/issues/776><br>I'm going to fix the default body margin from 8px to 0. In page media, the page margin is specified by the margin of `@ page {…}` (default is 10% of the width and height of the page), so the default of the body margin is unnecessary in most cases, and the page margin is specified. By default, a larger margin than intended will be added.<br><br>I looked at CSS Paged Media implementations other than Vivliostyle, but only one of the seven non-Vivliostyle implementations had a non-zero body margin default.<br><br>If you change the margin of the default body from 8px to 0, the formatting result will change in the style sheet that depends on the default settings so far, so this should be a major version upgrade, not a minor one. I wondered if it would be possible, but users who are using Vivliostyle with the formatting result in mind should specify it as `body {margin: 0}` instead of leaving the default setting. I don't think it can be called "BREAKING CHANGE". Therefore, this change will be included in the next minor version upgrade v2.10.0.<br><br>It also fixes an issue where the font and other styles specified for the root element are not inherited within `@ page {…}`.<br><https://github.com/vivliostyle/vivliostyle.js/issues/568><br>If this is also a stylesheet that relies on behavior that is not inherited by the previous root element, the formatting results for the page header and footer will change.|
|06:58|![](https://avatars.slack-edge.com/2019-11-22/845042642576_070441337abaca9fb7b3_72.png)|ogwata|後方互換性から、ブログ等で告知した方がよいのではないでしょうか。|
|06:58|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: For backward compatibility, it would be better to announce it on a blog etc.|
|08:34|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|はい、次のリリース Vivliostyle.js v2.10（Vivliostyle CLI 4.2 たぶん）はいろいろな修正や機能追加を含むものになるので、記事にするとよいかと思います。CLIがv4になったことも含めて。|
|08:34|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Yes, the next release, Vivliostyle.js v2.10 (Vivliostyle CLI 4.2, maybe) will include various fixes and feature additions, so I think it's a good idea to write an article. Including that the CLI is now v4.|
|08:52|![](https://avatars.slack-edge.com/2018-04-27/354445776386_e258f5ed5ba887b08668_72.jpg)|shinyu|Vivliostyle.js にChromeの縦中横の表示位置ズレのバグを回避する対策を入れました:<br><https://github.com/vivliostyle/vivliostyle.js/pull/777><br><blockquote>This problem happens with Chrome 93-94 due to the Chrome bug (fixed in Chrome 95):  <br><https://crbug.com/1242755|https://crbug.com/1242755> - text-combine-upright with text-indent does not work properly<br><br>This fix is a workaround for the problem necessary for Chrome (Chromium) 93-94 users.</blockquote>|
|08:52|![](https://avatars.slack-edge.com/2021-08-02/2324149410423_2aa7423c4133ecb9f168_72.png)|Kiara : Translation 100+ Languages|🇬🇧: Added a measure to avoid the bug of tate-chu-yoko display position shift in Chrome in Vivliostyle.js:<br><https://github.com/vivliostyle/vivliostyle.js/pull/777>|
